(function(R,D){'object'==typeof exports&&'object'==typeof module?module.exports=D():'function'==typeof define&&define.amd?define([],D):'object'==typeof exports?exports.ML=D():R.ML=D()})(this,function(){return function(I){function R(O){if(D[O])return D[O].exports;var E=D[O]={i:O,l:!1,exports:{}};return I[O].call(E.exports,E,E.exports,R),E.l=!0,E.exports}var D={};return R.m=I,R.c=D,R.i=function(O){return O},R.d=function(O,E,G){R.o(O,E)||Object.defineProperty(O,E,{configurable:!1,enumerable:!0,get:G})},R.n=function(O){var E=O&&O.__esModule?function(){return O['default']}:function(){return O};return R.d(E,'a',E),E},R.o=function(O,E){return Object.prototype.hasOwnProperty.call(O,E)},R.p='',R(R.s=169)}([function(I,R,D){'use strict';I.exports=D(3).Matrix,I.exports.Decompositions=I.exports.DC=D(138)},function(I){'use strict';function O(G,Z){for(var $=0,ee=0;ee<G.length;ee++)$+=(G[ee]-Z[ee])*(G[ee]-Z[ee]);return $}function E(G,Z){return Math.sqrt(O(G,Z))}I.exports=E,E.squared=O},function(I,R,D){'use strict';R.array=D(14),R.matrix=D(160)},function(I,R,D){'use strict';D(139);var O=D(37),E=D(7);class G extends O(Array){constructor(Z,$){var ee;if(1===arguments.length&&'number'==typeof Z)return Array(Z);if(G.isMatrix(Z))return Z.clone();if(Number.isInteger(Z)&&0<Z){if(super(Z),Number.isInteger($)&&0<$)for(ee=0;ee<Z;ee++)this[ee]=Array($);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(Z)){const te=Z;if(Z=te.length,$=te[0].length,'number'!=typeof $||0===$)throw new TypeError('Data must be a 2D array with at least one element');for(super(Z),ee=0;ee<Z;ee++){if(te[ee].length!==$)throw new RangeError('Inconsistent array dimensions');this[ee]=[].concat(te[ee])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=Z,this.columns=$,this}set(Z,$,ee){return this[Z][$]=ee,this}get(Z,$){return this[Z][$]}clone(){for(var Z=new this.constructor[Symbol.species](this.rows,this.columns),$=0;$<this.rows;$++)for(var ee=0;ee<this.columns;ee++)Z.set($,ee,this.get($,ee));return Z}removeRow(Z){if(E.checkRowIndex(this,Z),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(Z,1),this.rows-=1,this}addRow(Z,$){return void 0===$&&($=Z,Z=this.rows),E.checkRowIndex(this,Z,!0),$=E.checkRowVector(this,$,!0),this.splice(Z,0,$),this.rows+=1,this}removeColumn(Z){if(E.checkColumnIndex(this,Z),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var $=0;$<this.rows;$++)this[$].splice(Z,1);return this.columns-=1,this}addColumn(Z,$){'undefined'==typeof $&&($=Z,Z=this.columns),E.checkColumnIndex(this,Z,!0),$=E.checkColumnVector(this,$);for(var ee=0;ee<this.rows;ee++)this[ee].splice(Z,0,$[ee]);return this.columns+=1,this}}R.Matrix=G,G.abstractMatrix=O},function(I){'use strict';I.exports=class{predict(E){var G;if(Array.isArray(E)){G=Array(E.length);for(var Z=0;Z<E.length;Z++)G[Z]=this._predict(E[Z])}else if(Number.isFinite(E))G=this._predict(E);else throw new TypeError('x must be a number or array');return G}_predict(){throw new Error('_compute not implemented')}train(){}toString(){return''}toLaTeX(){return''}modelQuality(E,G){let Z=E.length;var $=Array(Z);for(let de=0;de<Z;de++)$[de]=this._predict(E[de]);var ee=0,te=0,ie=0,ne=0,oe=0,se=0,ae=0;for(let de=0;de<Z;de++)ee+=$[de],te+=G[de],oe+=$[de]*$[de],se+=G[de]*G[de],ae+=$[de]*G[de],0!==G[de]&&(ie+=(G[de]-$[de])*(G[de]-$[de])/G[de]),ne=(G[de]-$[de])*(G[de]-$[de]);var le=(Z*ae-ee*te)/Math.sqrt((Z*oe-ee*ee)*(Z*se-te*te));return{r:le,r2:le*le,chi2:ie,rmsd:ne*ne/Z}}}},function(I,R,D){'use strict';var O=D(37),E=D(3);class G extends O(){constructor(Z,$,ee){super(),this.matrix=Z,this.rows=$,this.columns=ee}static get[Symbol.species](){return E.Matrix}}I.exports=G},function(I,R){'use strict';R.maybeToPrecision=function(E,G){return 0>E?(E=-1*E,G?'- '+E.toPrecision(G):'- '+E.toString()):G?E.toPrecision(G):E.toString()}},function(I,R,D){'use strict';var O=D(3);R.checkRowIndex=function(G,Z,$){var ee=$?G.rows:G.rows-1;if(0>Z||Z>ee)throw new RangeError('Row index out of range')},R.checkColumnIndex=function(G,Z,$){var ee=$?G.columns:G.columns-1;if(0>Z||Z>ee)throw new RangeError('Column index out of range')},R.checkRowVector=function(G,Z){if(Z.to1DArray&&(Z=Z.to1DArray()),Z.length!==G.columns)throw new RangeError('vector size must be the same as the number of columns');return Z},R.checkColumnVector=function(G,Z){if(Z.to1DArray&&(Z=Z.to1DArray()),Z.length!==G.rows)throw new RangeError('vector size must be the same as the number of rows');return Z},R.checkIndices=function(G,Z,$){var ee=Z.some(ie=>{return 0>ie||ie>=G.rows}),te=$.some(ie=>{return 0>ie||ie>=G.columns});if(ee||te)throw new RangeError('Indices are out of range');if('object'!=typeof Z||'object'!=typeof $)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(Z)||(Z=Array.from(Z)),Array.isArray($)||(Z=Array.from($)),{row:Z,column:$}},R.checkRange=function(G,Z,$,ee,te){if(5!==arguments.length)throw new TypeError('Invalid argument type');var ie=Array.from(arguments).slice(1).some(function(ne){return'number'!=typeof ne});if(ie)throw new TypeError('Invalid argument type');if(Z>$||ee>te||0>Z||Z>=G.rows||0>$||$>=G.rows||0>ee||ee>=G.columns||0>te||te>=G.columns)throw new RangeError('Submatrix indices are out of range')},R.getRange=function(G,Z){for(var $=Array(Z-G+1),ee=0;ee<$.length;ee++)$[ee]=G+ee;return $},R.sumByRow=function(G){for(var Z=O.Matrix.zeros(G.rows,1),$=0;$<G.rows;++$)for(var ee=0;ee<G.columns;++ee)Z.set($,0,Z.get($,0)+G.get($,ee));return Z},R.sumByColumn=function(G){for(var Z=O.Matrix.zeros(1,G.columns),$=0;$<G.rows;++$)for(var ee=0;ee<G.columns;++ee)Z.set(0,ee,Z.get(0,ee)+G.get($,ee));return Z},R.sumAll=function(G){for(var Z=0,$=0;$<G.rows;$++)for(var ee=0;ee<G.columns;ee++)Z+=G.get($,ee);return Z}},function(I,R,D){'use strict';const O=D(0),E=D(120),G=D(121),Z=D(123),$=D(124),ee=D(125),te=D(126),ie=D(127),ne=D(128),oe=D(129),se=D(122),ae={gaussian:E,rbf:E,polynomial:G,poly:G,anova:Z,cauchy:$,exponential:ee,histogram:te,min:te,laplacian:ie,multiquadratic:ne,rational:oe,sigmoid:se,mlp:se};I.exports=class{constructor(de,ce){if(this.kernelType=de,'linear'!==de)if('string'==typeof de){de=de.toLowerCase();var ue=ae[de];if(ue)this.kernelFunction=new ue(ce);else throw new Error('unsupported kernel type: '+de)}else if('object'==typeof de&&'function'==typeof de.compute)this.kernelFunction=de;else throw new TypeError('first argument must be a valid kernel type or instance')}compute(de,ce){if(void 0===ce&&(ce=de),'linear'===this.kernelType){var ue=new O(de);return ue.mmul(new O(ce).transpose())}const me=new O(de.length,ce.length);var ge,pe;if(de===ce)for(ge=0;ge<de.length;ge++)for(pe=ge;pe<de.length;pe++)me[ge][pe]=me[pe][ge]=this.kernelFunction.compute(de[ge],de[pe]);else for(ge=0;ge<de.length;ge++)for(pe=0;pe<ce.length;pe++)me[ge][pe]=this.kernelFunction.compute(de[ge],ce[pe]);return me}}},function(I){'use strict';var O=Object.prototype.hasOwnProperty,E=Object.prototype.toString,G=function(ee){return'function'==typeof Array.isArray?Array.isArray(ee):'[object Array]'===E.call(ee)},Z=function(ee){if(!ee||'[object Object]'!==E.call(ee))return!1;var te=O.call(ee,'constructor'),ie=ee.constructor&&ee.constructor.prototype&&O.call(ee.constructor.prototype,'isPrototypeOf');if(ee.constructor&&!te&&!ie)return!1;for(var ne in ee);return'undefined'==typeof ne||O.call(ee,ne)};I.exports=function $(){var ae=arguments[0],le=1,de=arguments.length,ce=!1,ee,te,ie,ne,oe,se;for('boolean'==typeof ae?(ce=ae,ae=arguments[1]||{},le=2):('object'!=typeof ae&&'function'!=typeof ae||null==ae)&&(ae={});le<de;++le)if(ee=arguments[le],null!=ee)for(te in ee)ie=ae[te],ne=ee[te],ae!==ne&&(ce&&ne&&(Z(ne)||(oe=G(ne)))?(oe?(oe=!1,se=ie&&G(ie)?ie:[]):se=ie&&Z(ie)?ie:{},ae[te]=$(ce,se,ne)):'undefined'!=typeof ne&&(ae[te]=ne));return ae}},function(I,R,D){'use strict';function O(){this.children=[],this.distance=-1,this.index=[]}const E=D(63);O.prototype.cut=function(G){if(0>G)throw new RangeError('Threshold too small');var Z=new O;Z.children=this.children,Z.distance=this.distance,Z.index=this.index;for(var $=[Z],ee=[],te;0<$.length;)te=$.shift(),G>=te.distance?ee.push(te):$=$.concat(te.children);return ee},O.prototype.group=function(G){if(!Number.isInteger(G)||1>G)throw new RangeError('Number of groups must be a positive integer');const Z=new E(function(te,ie){return ie.distance-te.distance});for(Z.push(this);Z.size()<G;){var $=Z.pop();if(0===$.children.length)break;$.children.forEach(te=>Z.push(te))}var ee=new O;return ee.children=Z.toArray(),ee.distance=this.distance,ee},I.exports=O},function(I,R){'use strict';R.hypotenuse=function(E,G){var Z;return Math.abs(E)>Math.abs(G)?(Z=G/E,Math.abs(E)*Math.sqrt(1+Z*Z)):0===G?0:(Z=E/G,Math.abs(G)*Math.sqrt(1+Z*Z))},R.getEmpty2DArray=function(O,E){for(var G=Array(O),Z=0;Z<O;Z++)G[Z]=Array(E);return G},R.getFilled2DArray=function(O,E,G){for(var Z=Array(O),$=0;$<O;$++){Z[$]=Array(E);for(var ee=0;ee<E;ee++)Z[$][ee]=G}return Z}},function(I,R,D){'use strict';function E(ee,te){return this[ee][te]*=this[ee][te],this}const Z=D(0),$=D(2);I.exports={norm:function(ee){return Math.sqrt(ee.clone().apply(E).sum())},pow2array:E,featureNormalize:function(ee){var te=$.matrix.mean(ee),ie=$.matrix.standardDeviation(ee,te,!0),ne=Z.checkMatrix(ee).subRowVector(te);return{result:ne.divRowVector(ie),means:te,std:ie}}}},function(I,R,D){'use strict';var O=D(6).maybeToPrecision;const E=D(4);class G extends E{constructor(Z,$,ee){if(ee=ee||{},super(),!0===Z)this.slope=$.slope,this.intercept=$.intercept,this.quality=$.quality||{},$.quality.r&&(this.quality.r=$.quality.r,this.quality.r2=$.quality.r2),$.quality.chi2&&(this.quality.chi2=$.quality.chi2);else{var te=Z.length;if(te!==$.length)throw new RangeError('input and output array have a different length');for(var ie=0,ne=0,oe=0,se=0,ae=0;ae<te;ae++)ie+=Z[ae],ne+=$[ae],oe+=Z[ae]*Z[ae],se+=Z[ae]*$[ae];var le=te*se-ie*ne;this.slope=le/(te*oe-ie*ie),this.intercept=1/te*ne-this.slope*(1/te)*ie,this.coefficients=[this.intercept,this.slope],ee.computeQuality&&(this.quality=this.modelQuality(Z,$))}}toJSON(){var Z={name:'simpleLinearRegression',slope:this.slope,intercept:this.intercept};return this.quality&&(Z.quality=this.quality),Z}_predict(Z){return this.slope*Z+this.intercept}computeX(Z){return(Z-this.intercept)/this.slope}toString(Z){var $='f(x) = ';if(this.slope){var ee=O(this.slope,Z);if($+=(1e-5>Math.abs(ee-1)?'':ee+' * ')+'x',this.intercept){var te=Math.abs(this.intercept),ie=te===this.intercept?'+':'-';$+=' '+ie+' '+O(te,Z)}}else $+=O(this.intercept,Z);return $}toLaTeX(Z){return this.toString(Z)}static load(Z){if('simpleLinearRegression'!==Z.name)throw new TypeError('not a SLR model');return new G(!0,Z)}}I.exports=G},function(I,R){'use strict';function O(E,G){return E-G}R.sum=function(G){for(var E=0,Z=0;Z<G.length;Z++)E+=G[Z];return E},R.max=function(G){for(var E=G[0],Z=G.length,$=1;$<Z;$++)G[$]>E&&(E=G[$]);return E},R.min=function(G){for(var E=G[0],Z=G.length,$=1;$<Z;$++)G[$]<E&&(E=G[$]);return E},R.minMax=function(G){for(var Z=G[0],$=G[0],ee=G.length,te=1;te<ee;te++)G[te]<Z&&(Z=G[te]),G[te]>$&&($=G[te]);return{min:Z,max:$}},R.arithmeticMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++)Z+=G[ee];return Z/$},R.mean=R.arithmeticMean,R.geometricMean=function(G){for(var Z=1,$=G.length,ee=0;ee<$;ee++)Z*=G[ee];return Math.pow(Z,1/$)},R.logMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++)Z+=Math.log(G[ee]);return Z/$},R.grandMean=function(G,Z){for(var $=0,ee=0,te=G.length,ie=0;ie<te;ie++)$+=Z[ie]*G[ie],ee+=Z[ie];return $/ee},R.truncatedMean=function(G,Z,$){$===void 0&&($=!1),$||(G=[].concat(G).sort(O));for(var ee=G.length,te=Math.floor(ee*Z),ie=0,ne=te;ne<ee-te;ne++)ie+=G[ne];return ie/(ee-2*te)},R.harmonicMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++){if(0===G[ee])throw new RangeError('value at index '+ee+'is zero');Z+=1/G[ee]}return $/Z},R.contraHarmonicMean=function(G){for(var Z=0,$=0,ee=G.length,te=0;te<ee;te++)Z+=G[te]*G[te],$+=G[te];if(0>$)throw new RangeError('sum of values is negative');return Z/$},R.median=function(G,Z){Z===void 0&&(Z=!1),Z||(G=[].concat(G).sort(O));var $=G.length,ee=Math.floor($/2);return 0==$%2?0.5*(G[ee-1]+G[ee]):G[ee]},R.variance=function(G,Z){Z===void 0&&(Z=!0);for(var $=R.mean(G),ee=0,te=G.length,ie=0,ne;ie<te;ie++)ne=G[ie]-$,ee+=ne*ne;return Z?ee/(te-1):ee/te},R.standardDeviation=function(G,Z){return Math.sqrt(R.variance(G,Z))},R.standardError=function(G){return R.standardDeviation(G)/Math.sqrt(G.length)},R.robustMeanAndStdev=function(G){var Z=0,$=0,ee=G.length,te=0;for(te=0;te<ee;te++)Z+=G[te];Z/=ee;var ie=Array(ee);for(te=0;te<ee;te++)ie[te]=Math.abs(G[te]-Z);return ie.sort(O),$=1==ee%2?ie[(ee-1)/2]/0.6745:0.5*(ie[ee/2]+ie[ee/2-1])/0.6745,{mean:Z,stdev:$}},R.quartiles=function(G,Z){'undefined'==typeof Z&&(Z=!1),Z||(G=[].concat(G).sort(O));var $=G.length/4,ee=G[Math.ceil($)-1],te=R.median(G,!0),ie=G[Math.ceil(3*$)-1];return{q1:ee,q2:te,q3:ie}},R.pooledStandardDeviation=function(G,Z){return Math.sqrt(R.pooledVariance(G,Z))},R.pooledVariance=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=0,ee=0,te=G.length,ie=0;ie<te;ie++){var ne=G[ie],oe=R.variance(ne);$+=(ne.length-1)*oe,ee+=Z?ne.length-1:ne.length}return $/ee},R.mode=function(G){var Z=G.length,$=Array(Z),ee;for(ee=0;ee<Z;ee++)$[ee]=0;var te=Array(Z),ie=0;for(ee=0;ee<Z;ee++){var ne=te.indexOf(G[ee]);0<=ne?$[ne]++:(te[ie]=G[ee],$[ie]=1,ie++)}var oe=0,se=0;for(ee=0;ee<ie;ee++)$[ee]>oe&&(oe=$[ee],se=ee);return te[se]},R.covariance=function(G,Z,$){'undefined'==typeof $&&($=!0);var ee=R.mean(G),te=R.mean(Z);if(G.length!==Z.length)throw'Vectors do not have the same dimensions';for(var ie=0,ne=G.length,oe=0;oe<ne;oe++){var se=G[oe]-ee,ae=Z[oe]-te;ie+=se*ae}return $?ie/(ne-1):ie/ne},R.skewness=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=R.mean(G),ee=0,te=0,ie=G.length,ne=0,oe;ne<ie;ne++)oe=G[ne]-$,ee+=oe*oe,te+=oe*oe*oe;var se=ee/ie,ae=te/ie,le=ae/Math.pow(se,3/2);if(Z){var de=Math.sqrt(ie*(ie-1));return de/(ie-2)*le}return le},R.kurtosis=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=R.mean(G),ee=G.length,te=0,ie=0,ne=0,oe;ne<ee;ne++)oe=G[ne]-$,te+=oe*oe,ie+=oe*oe*oe*oe;var se=te/ee,ae=ie/ee;if(Z){var le=te/(ee-1),ce=ie/(le*le);return ee*(ee+1)/((ee-1)*(ee-2)*(ee-3))*ce-3*((ee-1)*(ee-1)/((ee-2)*(ee-3)))}return ae/(se*se)-3},R.entropy=function(G,Z){'undefined'==typeof Z&&(Z=0);for(var $=0,ee=G.length,te=0;te<ee;te++)$+=G[te]*Math.log(G[te]+Z);return-$},R.weightedMean=function(G,Z){for(var $=0,ee=G.length,te=0;te<ee;te++)$+=G[te]*Z[te];return $},R.weightedStandardDeviation=function(G,Z){return Math.sqrt(R.weightedVariance(G,Z))},R.weightedVariance=function(G,Z){for(var $=R.weightedMean(G,Z),ee=0,te=G.length,ie=0,ne=0,oe=0;oe<te;oe++){var se=G[oe]-$,ae=Z[oe];ee+=ae*(se*se),ne+=ae,ie+=ae*ae}return ee*(ne/(ne*ne-ie))},R.center=function(G,Z){'undefined'==typeof Z&&(Z=!1);var $=G;Z||($=[].concat(G));for(var ee=R.mean($),te=$.length,ie=0;ie<te;ie++)$[ie]-=ee},R.standardize=function(G,Z,$){'undefined'==typeof Z&&(Z=R.standardDeviation(G)),'undefined'==typeof $&&($=!1);for(var ee=G.length,te=$?G:Array(ee),ie=0;ie<ee;ie++)te[ie]=G[ie]/Z;return te},R.cumulativeSum=function(G){var Z=G.length,$=Array(Z);$[0]=G[0];for(var ee=1;ee<Z;ee++)$[ee]=$[ee-1]+G[ee];return $}},function(I){I.exports=function(D,O,E,G,Z){var $,ee;if(void 0===G)G=0;else if(G|=0,0>G||G>=D.length)throw new RangeError('invalid lower bound');if(void 0===Z)Z=D.length-1;else if(Z|=0,Z<G||Z>=D.length)throw new RangeError('invalid upper bound');for(;G<=Z;)if($=G+(Z-G>>1),ee=+E(D[$],O,$,D),0>ee)G=$+1;else if(0<ee)Z=$-1;else return $;return~G}},function(I,R,D){I.exports=R=D(65),R.getEquallySpacedData=D(66).getEquallySpacedData,R.SNV=D(67).SNV},function(I,R,D){'use strict';I.exports=D(71),I.exports.Matrix=D(0),I.exports.Matrix.algebra=D(22)},function(I,R,D){'use strict';R.distance=D(72),R.similarity=D(108)},function(I,R,D){'use strict';function O(ue,me){return 0|ue*me}function E(ue,me){return Math.min(ue-2,0|ue*me)}function G(ue,me,ge){return te(Math.max(ue+1,0|4*ue/(3*me+ge)))}function Z(ue,me,ge){return te(Math.max(ue+1,0|4*ue/(me+3*ge)))}const $=D(162),ee=D(117),te=ee.nextPrime,ie=ee.largestPrime,ne=0,oe=1,se=2;class ce{constructor(ue={}){if(ue instanceof ce)return this.table=ue.table.slice(),this.values=ue.values.slice(),this.state=ue.state.slice(),this.minLoadFactor=ue.minLoadFactor,this.maxLoadFactor=ue.maxLoadFactor,this.distinct=ue.distinct,this.freeEntries=ue.freeEntries,this.lowWaterMark=ue.lowWaterMark,void(this.highWaterMark=ue.maxLoadFactor);const me=ue.initialCapacity===void 0?150:ue.initialCapacity;if(0>me)throw new RangeError(`initial capacity must not be less than zero: ${me}`);const ge=ue.minLoadFactor===void 0?1/6:ue.minLoadFactor,pe=ue.maxLoadFactor===void 0?2/3:ue.maxLoadFactor;if(0>ge||1<=ge)throw new RangeError(`invalid minLoadFactor: ${ge}`);if(0>=pe||1<=pe)throw new RangeError(`invalid maxLoadFactor: ${pe}`);if(ge>=pe)throw new RangeError(`minLoadFactor (${ge}) must be smaller than maxLoadFactor (${pe})`);let he=me;he=0|he/pe,he=te(he),0===he&&(he=1),this.table=$(he,0),this.values=$(he,0),this.state=$(he,0),this.minLoadFactor=ge,this.maxLoadFactor=he===ie?1:pe,this.distinct=0,this.freeEntries=he,this.lowWaterMark=0,this.highWaterMark=E(he,this.maxLoadFactor)}clone(){return new ce(this)}get size(){return this.distinct}get(ue){const me=this.indexOfKey(ue);return 0>me?0:this.values[me]}set(ue,me){let ge=this.indexOfInsertion(ue);if(0>ge)return ge=-ge-1,this.values[ge]=me,!1;if(this.distinct>this.highWaterMark){const pe=G(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(pe),this.set(ue,me)}if(this.table[ge]=ue,this.values[ge]=me,this.state[ge]===ne&&this.freeEntries--,this.state[ge]=oe,this.distinct++,1>this.freeEntries){const pe=G(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(pe)}return!0}remove(ue,me){const ge=this.indexOfKey(ue);return!(0>ge)&&(this.state[ge]=se,this.distinct--,me||this.maybeShrinkCapacity(),!0)}delete(ue,me){const ge=this.indexOfKey(ue);return!(0>ge)&&(this.state[ge]=ne,this.distinct--,me||this.maybeShrinkCapacity(),!0)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){const ue=Z(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(ue)}}containsKey(ue){return 0<=this.indexOfKey(ue)}indexOfKey(ue){const me=this.table,ge=this.state,pe=this.table.length,he=2147483647&ue;let xe=he%pe,fe=he%(pe-2);for(0==fe&&(fe=1);ge[xe]!==ne&&(ge[xe]===se||me[xe]!==ue);)xe-=fe,0>xe&&(xe+=pe);return ge[xe]===ne?-1:xe}containsValue(ue){return 0<=this.indexOfValue(ue)}indexOfValue(ue){const me=this.values,ge=this.state;for(var pe=0;pe<ge.length;pe++)if(ge[pe]===oe&&me[pe]===ue)return pe;return-1}indexOfInsertion(ue){const me=this.table,ge=this.state,pe=me.length,he=2147483647&ue;let xe=he%pe,fe=he%(pe-2);for(0==fe&&(fe=1);ge[xe]===oe&&me[xe]!==ue;)xe-=fe,0>xe&&(xe+=pe);if(ge[xe]===se){const ye=xe;for(;ge[xe]!==ne&&(ge[xe]===se||me[xe]!==ue);)xe-=fe,0>xe&&(xe+=pe);ge[xe]===ne&&(xe=ye)}return ge[xe]===oe?-xe-1:xe}ensureCapacity(ue){if(this.table.length<ue){const me=te(ue);this.rehash(me)}}rehash(ue){const me=this.table.length;if(ue<=this.distinct)throw new Error('Unexpected');const ge=this.table,pe=this.values,he=this.state,xe=$(ue,0),fe=$(ue,0),ye=$(ue,0);this.lowWaterMark=O(ue,this.minLoadFactor),this.highWaterMark=E(ue,this.maxLoadFactor),this.table=xe,this.values=fe,this.state=ye,this.freeEntries=ue-this.distinct;for(var je=0;je<me;je++)if(he[je]===oe){var ke=ge[je],we=this.indexOfInsertion(ke);xe[we]=ke,fe[we]=pe[je],ye[we]=oe}}forEachKey(ue){for(var me=0;me<this.state.length;me++)if(this.state[me]===oe&&!ue(this.table[me]))return!1;return!0}forEachValue(ue){for(var me=0;me<this.state.length;me++)if(this.state[me]===oe&&!ue(this.values[me]))return!1;return!0}forEachPair(ue){for(var me=0;me<this.state.length;me++)if(this.state[me]===oe&&!ue(this.table[me],this.values[me]))return!1;return!0}}I.exports=ce},function(I,R,D){'use strict';function O(ee,te){var ie=ee.length;'number'==typeof te.size&&(te.size=[te.size,te.size]);var ne=ie+te.size[0]+te.size[1],oe;if(te.output){if(te.output.length!==ne)throw new RangeError('Wrong output size');oe=te.output}else oe=Array(ne);var se;if('circular'===te.value)for(se=0;se<ne;se++)oe[se]=se<te.size[0]?ee[(ie-te.size[0]%ie+se)%ie]:se<te.size[0]+ie?ee[se-te.size[0]]:ee[(se-te.size[0])%ie];else if('replicate'===te.value)for(se=0;se<ne;se++)oe[se]=se<te.size[0]?ee[0]:se<te.size[0]+ie?ee[se-te.size[0]]:ee[ie-1];else if('symmetric'===te.value){if(te.size[0]>ie||te.size[1]>ie)throw new RangeError('expanded value should not be bigger than the data length');for(se=0;se<ne;se++)oe[se]=se<te.size[0]?ee[te.size[0]-1-se]:se<te.size[0]+ie?ee[se-te.size[0]]:ee[2*ie+te.size[0]-se-1]}else for(se=0;se<ne;se++)oe[se]=se<te.size[0]?te.value:se<te.size[0]+ie?ee[se-te.size[0]]:te.value;return oe}function E(ee,te){var ie=ee.length,ne=ee[0].length;throw void 0===te.size[0]&&(te.size=[te.size,te.size,te.size,te.size]),new Error('matrix not supported yet, sorry')}var Z=D(9),$={size:1,value:0};I.exports=function(ee,te){if(te=Z({},$,te),Array.isArray(ee))return Array.isArray(ee[0])?E(ee,te):O(ee,te);throw new TypeError('data should be an array')}},function(I,R,D){'use strict';function O(G){if('number'!=typeof G||E(G))throw new TypeError('Expected a number')}var E=D(163);R.asc=function(G,Z){return O(G),O(Z),G-Z},R.desc=function(G,Z){return O(G),O(Z),Z-G}},function(I,R,D){'use strict';var xe=D(0);I.exports={transpose:function(fe){if('number'==typeof fe)return fe;var ye=fe.clone();return ye.transpose()},add:function(fe,ye){if('number'==typeof fe&&'number'==typeof ye)return fe+ye;if('number'==typeof fe)return this.add(ye,fe);var je=fe.clone();return je.add(ye)},subtract:function(fe,ye){if('number'==typeof fe&&'number'==typeof ye)return fe-ye;if('number'==typeof fe)return this.subtract(ye,fe);var je=fe.clone();return je.sub(ye)},multiply:function(fe,ye){if('number'==typeof fe&&'number'==typeof ye)return fe*ye;if('number'==typeof fe)return this.multiply(ye,fe);var je=fe.clone();return'number'==typeof ye?je.mul(ye):je=je.mmul(ye),1==je.rows&&1==je.columns?je[0][0]:je},dotMultiply:function(fe,ye){var je=fe.clone();return je.mul(ye)},dotDivide:function(fe,ye){var je=fe.clone();return je.div(ye)},diag:function(fe){var ye=null,je=fe.rows,ke=fe.columns,we,be;if('undefined'==typeof ke&&'object'==typeof fe)if(fe[0]&&fe[0].length)for(je=fe.length,ke=fe[0].length,be=Math.min(je,ke),ye=xe.zeros(ke,ke),we=0;we<ke;we++)ye[we][we]=fe[we][we];else for(ke=fe.length,ye=xe.zeros(ke,ke),we=0;we<ke;we++)ye[we][we]=fe[we];if(1==je)for(ye=xe.zeros(ke,ke),we=0;we<ke;we++)ye[we][we]=fe[0][we];else if(0<je&&0<ke)for(be=Math.min(je,ke),ye=Array(be),we=0;we<be;we++)ye[we]=fe[we][we];return ye},min:function(fe,ye){if('number'==typeof fe&&'number'==typeof ye)return Math.min(fe,ye);for(var je=fe.rows,ke=fe.columns,we=new xe(je,ke),be=0;be<je;be++)for(var ve=0;ve<ke;ve++)we[be][ve]=fe[be][ve]<ye[be][ve]?fe[be][ve]:ye[be][ve];return we},max:function(fe,ye){if('number'==typeof fe&&'number'==typeof ye)return Math.max(fe,ye);for(var je=fe.rows,ke=fe.columns,we=new xe(je,ke),be=0;be<je;be++)for(var ve=0;ve<ke;ve++)we[be][ve]=fe[be][ve]>ye[be][ve]?fe[be][ve]:ye[be][ve];return we},solve:function(fe,ye){return fe.solve(ye)},inv:function(fe){return'number'==typeof fe?1/fe:fe.inverse()},sqrt:function(fe){if('number'==typeof fe)return Math.sqrt(fe);for(var ye=fe.rows,je=fe.columns,ke=new xe(ye,je),we=0;we<ye;we++)for(var be=0;be<je;be++)ke[we][be]=Math.sqrt(fe[we][be]);return ke},exp:function(fe){if('number'==typeof fe)return Math.sqrt(fe);for(var ye=fe.rows,je=fe.columns,ke=new xe(ye,je),we=0;we<ye;we++)for(var be=0;be<je;be++)ke[we][be]=Math.exp(fe[we][be]);return ke},dotPow:function(fe,ye){if('number'==typeof fe)return Math.pow(fe,ye);for(var je=fe.rows,ke=fe.columns,we=new xe(je,ke),be=0;be<je;be++)for(var ve=0;ve<ke;ve++)we[be][ve]=Math.pow(fe[be][ve],ye);return we},abs:function(fe){if('number'==typeof fe)return Math.abs(fe);for(var ye=fe.rows,je=fe.columns,ke=new xe(ye,je),we=0;we<ye;we++)for(var be=0;be<je;be++)ke[we][be]=Math.abs(fe[we][be]);return ke},matrix:function(fe,ye){return new xe(fe,ye)},ones:function(fe,ye){return xe.ones(fe,ye)},zeros:function(fe,ye){return xe.zeros(fe,ye)},random:function(fe,ye){return xe.rand(fe,ye)},eye:function(fe,ye){return xe.eye(fe,ye)}}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)Z+=O[te]*O[te],$+=E[te]*E[te],ee+=(O[te]-E[te])*(O[te]-E[te]);return ee/(Z+$)}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.min(O[$],E[$]);return 1-Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0,ie=0;ie<G;ie++)Z+=O[ie]*E[ie],$+=O[ie]*O[ie],ee+=E[ie]*E[ie],te+=(O[ie]-E[ie])*(O[ie]-E[ie]);return te/($+ee-Z)}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.abs(O[ee]-E[ee]),$+=Math.min(O[ee],E[ee]);return Z/$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.min(O[ee],E[ee]),$+=O[ee]+E[ee];return 1-Z/$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(Math.sqrt(O[$])-Math.sqrt(E[$]))*(Math.sqrt(O[$])-Math.sqrt(E[$]));return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)Z+=O[te]*E[te],$+=O[te]*O[te],ee+=E[te]*E[te];return Z/(Math.sqrt($)*Math.sqrt(ee))}},function(I){'use strict';I.exports=function(E,G){for(var Z=0,$=0,ee=0;ee<E.length;ee++)Z+=Math.min(E[ee],G[ee]),$+=E[ee]+G[ee];return 2*Z/$}},function(I){I.exports=function(O,E,G){if(G){for(var Z=0,$=0,ee=0;ee<O.length;ee++)Z+=O[ee]&&E[ee],$+=O[ee]||E[ee];return 0===$?1:Z/$}for(var te=O.length,ie=0,ne=0,oe=0,se=0;se<te;se++)ie+=O[se],ne+=E[se],oe+=Math.min(O[se],E[se]);return 1-(ie+ne-2*oe)/(ie+ne-oe)}},function(I,R,D){'use strict';var O=D(0),E=D(34);const G=D(33);class Z{constructor($){this.inputSize=$.inputSize,this.outputSize=$.outputSize,this.regularization=$.regularization,this.epsilon=$.epsilon,this.activation=$.activation,this.activationParam=$.activationParam;var ee=G[$.activation],te=ee.activation.length,ie=1<te?oe=>ee.activation(oe,$.activationParam):ee.activation,ne=1<te?oe=>ee.derivate(oe,$.activationParam):ee.derivate;this.activationFunction=function(oe,se){this[oe][se]=ie(this[oe][se])},this.derivate=function(oe,se){this[oe][se]=ne(this[oe][se])},$.model?(this.W=O.checkMatrix($.W),this.b=O.checkMatrix($.b)):(this.W=O.rand(this.inputSize,this.outputSize),this.b=O.zeros(1,this.outputSize),this.W.apply(function(oe,se){this[oe][se]/=Math.sqrt($.inputSize)}))}forward($){var ee=$.mmul(this.W).addRowVector(this.b);return ee.apply(this.activationFunction),this.a=ee.clone(),ee}backpropagation($,ee){this.dW=ee.transposeView().mmul($),this.db=E.sumCol($);var te=ee.clone();return $.mmul(this.W.transposeView()).mul(te.apply(this.derivate))}update(){this.dW.add(this.W.clone().mul(this.regularization)),this.W.add(this.dW.mul(-this.epsilon)),this.b.add(this.db.mul(-this.epsilon))}toJSON(){return{model:'Layer',inputSize:this.inputSize,outputSize:this.outputSize,regularization:this.regularization,epsilon:this.epsilon,activation:this.activation,W:this.W,b:this.b}}static load($){if('Layer'!==$.model)throw new RangeError('the current model is not a Layer model');return new Z($)}}I.exports=Z},function(I){'use strict';function O(ee){return 1/(1+Math.exp(-ee))}function E(ee,te){return 0>ee?te*(Math.exp(ee)-1):ee}const $={tanh:{activation:Math.tanh,derivate:ee=>1-ee*ee},identity:{activation:ee=>ee,derivate:()=>1},logistic:{activation:O,derivate:ee=>O(ee)*(1-O(ee))},arctan:{activation:Math.atan,derivate:ee=>1/(ee*ee+1)},softsign:{activation:ee=>ee/(1+Math.abs(ee)),derivate:ee=>1/((1+Math.abs(ee))*(1+Math.abs(ee)))},relu:{activation:ee=>0>ee?0:ee,derivate:ee=>0>ee?0:1},softplus:{activation:ee=>Math.log(1+Math.exp(ee)),derivate:ee=>1/(1+Math.exp(-ee))},bent:{activation:ee=>(Math.sqrt(ee*ee+1)-1)/2+ee,derivate:ee=>ee/(2*Math.sqrt(ee*ee+1))+1},sinusoid:{activation:Math.sin,derivate:Math.cos},sinc:{activation:ee=>0===ee?1:Math.sin(ee)/ee,derivate:ee=>0===ee?0:Math.cos(ee)/ee-Math.sin(ee)/(ee*ee)},gaussian:{activation:ee=>Math.exp(-(ee*ee)),derivate:ee=>-2*ee*Math.exp(-(ee*ee))},'parametric-relu':{activation:(ee,te)=>0>ee?te*ee:ee,derivate:(ee,te)=>0>ee?te:1},'exponential-elu':{activation:E,derivate:(ee,te)=>0>ee?E(ee,te)+te:1},'soft-exponential':{activation:function(ee,te){return 0>te?-Math.log(1-te*(ee+te))/te:0<te?(Math.exp(te*ee)-1)/te+te:ee},derivate:function(ee,te){return 0>te?1/(1-te*(te+ee)):Math.exp(te*ee)}}};I.exports=$},function(I,R,D){'use strict';var Z=D(0);I.exports={dictOutputs:function($){for(var ee={},te={},ie=$.length,ne=0,oe=0;oe<ie;oe+=1)void 0===ee[$[oe]]&&(ee[$[oe]]=ne,te[ne]=$[oe],ne++);return{inputs:ee,outputs:te}},sumCol:function($){for(var ee=Z.zeros(1,$.columns),te=0;te<$.rows;++te)for(var ie=0;ie<$.columns;++ie)ee[0][ie]+=$[te][ie];return ee},sumRow:function($){for(var ee=Z.zeros($.rows,1),te=0;te<$.rows;++te)for(var ie=0;ie<$.columns;++ie)ee[te][0]+=$[te][ie];return ee}}},function(I,R,D){'use strict';function O(Z){E.call(this),this.index=Z,this.distance=0,this.children=[]}var E=D(10),G=D(167);G.inherits(O,E),I.exports=O},function(I,R,D){'use strict';const $=D(147);R.updateClusterID=function(ee,te,ie,ne){for(var oe=0;oe<ee.length;oe++)ie[oe]=$(te,ee[oe],{distanceFunction:ne});return ie},R.updateCenters=function(ee,te,ie){const ne=ee[0].length;for(var oe=Array(ie),se=Array(ie),ae=0;ae<ie;ae++){oe[ae]=Array(ne),se[ae]=0;for(var le=0;le<ne;le++)oe[ae][le]=0}for(var de=0;de<ee.length;de++){se[te[de]]++;for(var ce=0;ce<ne;ce++)oe[te[de]][ce]+=ee[de][ce]}for(var ue=0;ue<ie;ue++)for(var me=0;me<ne;me++)oe[ue][me]/=se[ue];return oe},R.calculateDistanceMatrix=function(ee,te){for(var ie=Array(ee.length),ne=0;ne<ee.length;++ne)for(var oe=ne;oe<ee.length;++oe){ie[ne]||(ie[ne]=Array(ee.length)),ie[oe]||(ie[oe]=Array(ee.length));const se=te(ee[ne],ee[oe]);ie[ne][oe]=se,ie[oe][ne]=se}return ie},R.converged=function(ee,te,ie,ne){for(var oe=0;oe<ee.length;oe++)if(ie(ee[oe],te[oe])>ne)return!1;return!0}},function(module,exports,__webpack_require__){'use strict';function abstractMatrix(superCtor){function checkDimensions(I,R){if(I.rows!==R.rows||I.columns!==R.columns)throw new RangeError('Matrices dimensions must be equal')}function compareNumbers(I,R){return I-R}function fillTemplateFunction(I,R){for(var D in R)I=I.replace(new RegExp('%'+D+'%','g'),R[D]);return I}superCtor===void 0&&(superCtor=Object);class I extends superCtor{static get[Symbol.species](){return this}static from1DArray(R,D,O){if(R*D!==O.length)throw new RangeError('Data length does not match given dimensions');for(var G=new this(R,D),Z=0;Z<R;Z++)for(var $=0;$<D;$++)G.set(Z,$,O[Z*D+$]);return G}static rowVector(R){for(var D=new this(1,R.length),O=0;O<R.length;O++)D.set(0,O,R[O]);return D}static columnVector(R){for(var D=new this(R.length,1),O=0;O<R.length;O++)D.set(O,0,R[O]);return D}static empty(R,D){return new this(R,D)}static zeros(R,D){return this.empty(R,D).fill(0)}static ones(R,D){return this.empty(R,D).fill(1)}static rand(R,D,O){O===void 0&&(O=Math.random);for(var E=this.empty(R,D),G=0;G<R;G++)for(var Z=0;Z<D;Z++)E.set(G,Z,O());return E}static randInt(R,D,O,E){O===void 0&&(O=1e3),E===void 0&&(E=Math.random);for(var G=this.empty(R,D),Z=0;Z<R;Z++)for(var $=0,ee;$<D;$++)ee=Math.floor(E()*O),G.set(Z,$,ee);return G}static eye(R,D,O){D===void 0&&(D=R),O===void 0&&(O=1);for(var E=Math.min(R,D),G=this.zeros(R,D),Z=0;Z<E;Z++)G.set(Z,Z,O);return G}static diag(R,D,O){var E=R.length;D===void 0&&(D=E),O===void 0&&(O=D);for(var G=Math.min(E,D,O),Z=this.zeros(D,O),$=0;$<G;$++)Z.set($,$,R[$]);return Z}static min(R,D){R=this.checkMatrix(R),D=this.checkMatrix(D);for(var O=R.rows,E=R.columns,G=new this(O,E),Z=0;Z<O;Z++)for(var $=0;$<E;$++)G.set(Z,$,Math.min(R.get(Z,$),D.get(Z,$)));return G}static max(R,D){R=this.checkMatrix(R),D=this.checkMatrix(D);for(var O=R.rows,E=R.columns,G=new this(O,E),Z=0;Z<O;Z++)for(var $=0;$<E;$++)G.set(Z,$,Math.max(R.get(Z,$),D.get(Z,$)));return G}static checkMatrix(R){return I.isMatrix(R)?R:new this(R)}static isMatrix(R){return null!=R&&'Matrix'===R.klass}get size(){return this.rows*this.columns}apply(R){if('function'!=typeof R)throw new TypeError('callback must be a function');for(var D=this.rows,O=this.columns,E=0;E<D;E++)for(var G=0;G<O;G++)R.call(this,E,G);return this}to1DArray(){for(var R=Array(this.size),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R[D*this.columns+O]=this.get(D,O);return R}to2DArray(){for(var R=Array(this.rows),D=0;D<this.rows;D++){R[D]=Array(this.columns);for(var O=0;O<this.columns;O++)R[D][O]=this.get(D,O)}return R}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var R=0;R<this.rows;R++)for(var D=0;D<=R;D++)if(this.get(R,D)!==this.get(D,R))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(R,D){R=R||1,D=D||1;for(var O=new this.constructor[Symbol.species](this.rows*R,this.columns*D),E=0;E<R;E++)for(var G=0;G<D;G++)O.setSubMatrix(this,this.rows*E,this.columns*G);return O}fill(R){for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,R);return this}neg(){return this.mulS(-1)}getRow(R){util.checkRowIndex(this,R);for(var D=Array(this.columns),O=0;O<this.columns;O++)D[O]=this.get(R,O);return D}getRowVector(R){return this.constructor.rowVector(this.getRow(R))}setRow(R,D){util.checkRowIndex(this,R),D=util.checkRowVector(this,D);for(var O=0;O<this.columns;O++)this.set(R,O,D[O]);return this}swapRows(R,D){util.checkRowIndex(this,R),util.checkRowIndex(this,D);for(var O=0,E;O<this.columns;O++)E=this.get(R,O),this.set(R,O,this.get(D,O)),this.set(D,O,E);return this}getColumn(R){util.checkColumnIndex(this,R);for(var D=Array(this.rows),O=0;O<this.rows;O++)D[O]=this.get(O,R);return D}getColumnVector(R){return this.constructor.columnVector(this.getColumn(R))}setColumn(R,D){util.checkColumnIndex(this,R),D=util.checkColumnVector(this,D);for(var O=0;O<this.rows;O++)this.set(O,R,D[O]);return this}swapColumns(R,D){util.checkColumnIndex(this,R),util.checkColumnIndex(this,D);for(var O=0,E;O<this.rows;O++)E=this.get(O,R),this.set(O,R,this.get(O,D)),this.set(O,D,E);return this}addRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)+R[O]);return this}subRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)-R[O]);return this}mulRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)*R[O]);return this}divRowVector(R){R=util.checkRowVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)/R[O]);return this}addColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)+R[D]);return this}subColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)-R[D]);return this}mulColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)*R[D]);return this}divColumnVector(R){R=util.checkColumnVector(this,R);for(var D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.set(D,O,this.get(D,O)/R[D]);return this}mulRow(R,D){util.checkRowIndex(this,R);for(var O=0;O<this.columns;O++)this.set(R,O,this.get(R,O)*D);return this}mulColumn(R,D){util.checkColumnIndex(this,R);for(var O=0;O<this.rows;O++)this.set(O,R,this.get(O,R)*D);return this}max(){for(var R=this.get(0,0),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.get(D,O)>R&&(R=this.get(D,O));return R}maxIndex(){for(var R=this.get(0,0),D=[0,0],O=0;O<this.rows;O++)for(var E=0;E<this.columns;E++)this.get(O,E)>R&&(R=this.get(O,E),D[0]=O,D[1]=E);return D}min(){for(var R=this.get(0,0),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)this.get(D,O)<R&&(R=this.get(D,O));return R}minIndex(){for(var R=this.get(0,0),D=[0,0],O=0;O<this.rows;O++)for(var E=0;E<this.columns;E++)this.get(O,E)<R&&(R=this.get(O,E),D[0]=O,D[1]=E);return D}maxRow(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=1;O<this.columns;O++)this.get(R,O)>D&&(D=this.get(R,O));return D}maxRowIndex(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=[R,0],E=1;E<this.columns;E++)this.get(R,E)>D&&(D=this.get(R,E),O[1]=E);return O}minRow(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=1;O<this.columns;O++)this.get(R,O)<D&&(D=this.get(R,O));return D}minRowIndex(R){util.checkRowIndex(this,R);for(var D=this.get(R,0),O=[R,0],E=1;E<this.columns;E++)this.get(R,E)<D&&(D=this.get(R,E),O[1]=E);return O}maxColumn(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=1;O<this.rows;O++)this.get(O,R)>D&&(D=this.get(O,R));return D}maxColumnIndex(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=[0,R],E=1;E<this.rows;E++)this.get(E,R)>D&&(D=this.get(E,R),O[0]=E);return O}minColumn(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=1;O<this.rows;O++)this.get(O,R)<D&&(D=this.get(O,R));return D}minColumnIndex(R){util.checkColumnIndex(this,R);for(var D=this.get(0,R),O=[0,R],E=1;E<this.rows;E++)this.get(E,R)<D&&(D=this.get(E,R),O[0]=E);return O}diag(){for(var R=Math.min(this.rows,this.columns),D=Array(R),O=0;O<R;O++)D[O]=this.get(O,O);return D}sum(R){return'row'===R?util.sumByRow(this):'column'===R?util.sumByColumn(this):util.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var R=1,D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R*=this.get(D,O);return R}cumulativeSum(){for(var R=0,D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R+=this.get(D,O),this.set(D,O,R);return this}dot(R){I.isMatrix(R)&&(R=R.to1DArray());var D=this.to1DArray();if(D.length!==R.length)throw new RangeError('vectors do not have the same size');for(var O=0,E=0;E<D.length;E++)O+=D[E]*R[E];return O}mmul(R){R=this.constructor.checkMatrix(R),this.columns!==R.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var D=this.rows,O=this.columns,E=R.columns,G=new this.constructor[Symbol.species](D,E),Z=Array(O),$=0;$<E;$++){for(var ee=0;ee<O;ee++)Z[ee]=R.get(ee,$);for(var te=0,ie;te<D;te++){for(ie=0,ee=0;ee<O;ee++)ie+=this.get(te,ee)*Z[ee];G.set(te,$,ie)}}return G}strassen2x2(R){var D=new this.constructor[Symbol.species](2,2);const O=this.get(0,0),E=R.get(0,0),G=this.get(0,1),Z=R.get(0,1),$=this.get(1,0),ee=R.get(1,0),te=this.get(1,1),ie=R.get(1,1),ne=(O+te)*(E+ie),oe=($+te)*E,se=O*(Z-ie),ae=te*(ee-E),le=(O+G)*ie;return D.set(0,0,ne+ae-le+(G-te)*(ee+ie)),D.set(0,1,se+le),D.set(1,0,oe+ae),D.set(1,1,ne-oe+se+($-O)*(E+Z)),D}strassen3x3(R){var D=new this.constructor[Symbol.species](3,3);const O=this.get(0,0),E=this.get(0,1),G=this.get(0,2),Z=this.get(1,0),$=this.get(1,1),ee=this.get(1,2),te=this.get(2,0),ie=this.get(2,1),ne=this.get(2,2),oe=R.get(0,0),se=R.get(0,1),ae=R.get(0,2),le=R.get(1,0),de=R.get(1,1),ce=R.get(1,2),ue=R.get(2,0),me=R.get(2,1),ge=R.get(2,2),he=(O-Z)*(-se+de),fe=(-O+Z+$)*(oe-se+de),ye=(Z+$)*(-oe+se),je=O*oe,ke=(-O+te+ie)*(oe-ae+ce),we=(-O+te)*(ae-ce),be=(te+ie)*(-oe+ae),ze=(-G+ie+ne)*(de+ue-me),Se=(G-ne)*(de-me),qe=G*ue,Ce=(ie+ne)*(-ue+me),Ie=(-G+$+ee)*(ce+ue-ge),Re=(G-ee)*(ce-ge),De=($+ee)*(-ue+ge);return D.set(0,0,je+qe+E*le),D.set(0,1,(O+E+G-Z-$-ie-ne)*de+fe+ye+je+ze+qe+Ce),D.set(0,2,je+ke+be+(O+E+G-$-ee-te-ie)*ce+qe+Ie+De),D.set(1,0,he+$*(-oe+se+le-de-ce-ue+ge)+fe+je+qe+Ie+Re),D.set(1,1,he+fe+ye+je+ee*me),D.set(1,2,qe+Ie+Re+De+Z*ae),D.set(2,0,je+ke+we+ie*(-oe+ae+le-de-ce-ue+me)+ze+Se+qe),D.set(2,1,ze+Se+qe+Ce+te*se),D.set(2,2,je+ke+we+be+ne*ge),D}mmulStrassen(R){function D(ne,oe,se){var ae=ne.rows,le=ne.columns;if(ae===oe&&le===se)return ne;var de=I.zeros(oe,se);return de=de.setSubMatrix(ne,0,0),de}function O(ne,oe,se,ae){if(512>=se||512>=ae)return ne.mmul(oe);1==se%2&&1==ae%2?(ne=D(ne,se+1,ae+1),oe=D(oe,se+1,ae+1)):1==se%2?(ne=D(ne,se+1,ae),oe=D(oe,se+1,ae)):1==ae%2&&(ne=D(ne,se,ae+1),oe=D(oe,se,ae+1));var le=parseInt(ne.rows/2),de=parseInt(ne.columns/2),ce=ne.subMatrix(0,le-1,0,de-1),ue=oe.subMatrix(0,le-1,0,de-1),me=ne.subMatrix(0,le-1,de,ne.columns-1),ge=oe.subMatrix(0,le-1,de,oe.columns-1),pe=ne.subMatrix(le,ne.rows-1,0,de-1),he=oe.subMatrix(le,oe.rows-1,0,de-1),xe=ne.subMatrix(le,ne.rows-1,de,ne.columns-1),fe=oe.subMatrix(le,oe.rows-1,de,oe.columns-1),ye=O(I.add(ce,xe),I.add(ue,fe),le,de),je=O(I.add(pe,xe),ue,le,de),ke=O(ce,I.sub(ge,fe),le,de),we=O(xe,I.sub(he,ue),le,de),be=O(I.add(ce,me),fe,le,de),ve=O(I.sub(pe,ce),I.add(ue,ge),le,de),Me=O(I.sub(me,xe),I.add(he,fe),le,de),ze=I.add(ye,we);ze.sub(be),ze.add(Me);var Se=I.add(ke,be),qe=I.add(je,we),Ce=I.sub(ye,je);Ce.add(ke),Ce.add(ve);var Ie=I.zeros(2*ze.rows,2*ze.columns);return Ie=Ie.setSubMatrix(ze,0,0),Ie=Ie.setSubMatrix(Se,ze.rows,0),Ie=Ie.setSubMatrix(qe,0,ze.columns),Ie=Ie.setSubMatrix(Ce,ze.rows,ze.columns),Ie.subMatrix(0,se-1,0,ae-1)}var E=this.clone(),G=E.rows,Z=E.columns,$=R.rows,ee=R.columns;Z!==$&&console.warn(`Multiplying ${G} x ${Z} and ${$} x ${ee} matrix: dimensions do not match.`);var te=Math.max(G,$),ie=Math.max(Z,ee);return E=D(E,te,ie),R=D(R,te,ie),O(E,R,te,ie)}scaleRows(R,D){if(R=void 0===R?0:R,D=void 0===D?1:D,R>=D)throw new RangeError('min should be strictly smaller than max');for(var O=this.constructor.empty(this.rows,this.columns),E=0,G;E<this.rows;E++)G=arrayUtils.scale(this.getRow(E),{min:R,max:D}),O.setRow(E,G);return O}scaleColumns(R,D){if(R=void 0===R?0:R,D=void 0===D?1:D,R>=D)throw new RangeError('min should be strictly smaller than max');for(var O=this.constructor.empty(this.rows,this.columns),E=0,G;E<this.columns;E++)G=arrayUtils.scale(this.getColumn(E),{min:R,max:D}),O.setColumn(E,G);return O}kroneckerProduct(R){R=this.constructor.checkMatrix(R);for(var D=this.rows,O=this.columns,E=R.rows,G=R.columns,Z=new this.constructor[Symbol.species](D*E,O*G),$=0;$<D;$++)for(var ee=0;ee<O;ee++)for(var te=0;te<E;te++)for(var ie=0;ie<G;ie++)Z[E*$+te][G*ee+ie]=this.get($,ee)*R.get(te,ie);return Z}transpose(){for(var R=new this.constructor[Symbol.species](this.columns,this.rows),D=0;D<this.rows;D++)for(var O=0;O<this.columns;O++)R.set(O,D,this.get(D,O));return R}sortRows(R){R===void 0&&(R=compareNumbers);for(var D=0;D<this.rows;D++)this.setRow(D,this.getRow(D).sort(R));return this}sortColumns(R){R===void 0&&(R=compareNumbers);for(var D=0;D<this.columns;D++)this.setColumn(D,this.getColumn(D).sort(R));return this}subMatrix(R,D,O,E){util.checkRange(this,R,D,O,E);for(var G=new this.constructor[Symbol.species](D-R+1,E-O+1),Z=R;Z<=D;Z++)for(var $=O;$<=E;$++)G[Z-R][$-O]=this.get(Z,$);return G}subMatrixRow(R,D,O){if(void 0===D&&(D=0),void 0===O&&(O=this.columns-1),D>O||0>D||D>=this.columns||0>O||O>=this.columns)throw new RangeError('Argument out of range');for(var E=new this.constructor[Symbol.species](R.length,O-D+1),G=0;G<R.length;G++)for(var Z=D;Z<=O;Z++){if(0>R[G]||R[G]>=this.rows)throw new RangeError('Row index out of range: '+R[G]);E.set(G,Z-D,this.get(R[G],Z))}return E}subMatrixColumn(R,D,O){if(void 0===D&&(D=0),void 0===O&&(O=this.rows-1),D>O||0>D||D>=this.rows||0>O||O>=this.rows)throw new RangeError('Argument out of range');for(var E=new this.constructor[Symbol.species](O-D+1,R.length),G=0;G<R.length;G++)for(var Z=D;Z<=O;Z++){if(0>R[G]||R[G]>=this.columns)throw new RangeError('Column index out of range: '+R[G]);E.set(Z-D,G,this.get(Z,R[G]))}return E}setSubMatrix(R,D,O){R=this.constructor.checkMatrix(R);var E=D+R.rows-1,G=O+R.columns-1;util.checkRange(this,D,E,O,G);for(var Z=0;Z<R.rows;Z++)for(var $=0;$<R.columns;$++)this[D+Z][O+$]=R.get(Z,$);return this}selection(R,D){for(var O=util.checkIndices(this,R,D),E=new this.constructor[Symbol.species](R.length,D.length),G=0,Z;G<O.row.length;G++){Z=O.row[G];for(var $=0,ee;$<O.column.length;$++)ee=O.column[$],E[G][$]=this.get(Z,ee)}return E}trace(){for(var R=Math.min(this.rows,this.columns),D=0,O=0;O<R;O++)D+=this.get(O,O);return D}transposeView(){return new MatrixTransposeView(this)}rowView(R){return util.checkRowIndex(this,R),new MatrixRowView(this,R)}columnView(R){return util.checkColumnIndex(this,R),new MatrixColumnView(this,R)}flipRowView(){return new MatrixFlipRowView(this)}flipColumnView(){return new MatrixFlipColumnView(this)}subMatrixView(R,D,O,E){return new MatrixSubView(this,R,D,O,E)}selectionView(R,D){return new MatrixSelectionView(this,R,D)}det(){if(this.isSquare()){var R,D,O,E;if(2===this.columns)return R=this.get(0,0),D=this.get(0,1),O=this.get(1,0),E=this.get(1,1),R*E-D*O;if(3===this.columns){var G,Z,$;return G=this.selectionView([1,2],[1,2]),Z=this.selectionView([1,2],[0,2]),$=this.selectionView([1,2],[0,1]),R=this.get(0,0),D=this.get(0,1),O=this.get(0,2),R*G.det()-D*Z.det()+O*$.det()}return new LuDecomposition(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}}I.prototype.klass='Matrix',I.random=I.rand,I.diagonal=I.diag,I.prototype.diagonal=I.prototype.diag,I.identity=I.eye,I.prototype.negate=I.prototype.neg,I.prototype.tensorProduct=I.prototype.kroneckerProduct,I.prototype.determinant=I.prototype.det;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,inplaceMethodWithArgs=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,staticMethodWithArgs=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,inplaceMethodWithOneArgScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,inplaceMethodWithOneArgMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,inplaceMethodWithOneArg=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,staticMethodWithOneArg=staticMethodWithArgs,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],i;for(var operator of operators){var inplaceOp=eval(fillTemplateFunction(inplaceOperator,{name:operator[1],op:operator[0]})),inplaceOpS=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[1]+'S',op:operator[0]})),inplaceOpM=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[1]+'M',op:operator[0]})),staticOp=eval(fillTemplateFunction(staticOperator,{name:operator[1]}));for(i=1;i<operator.length;i++)I.prototype[operator[i]]=inplaceOp,I.prototype[operator[i]+'S']=inplaceOpS,I.prototype[operator[i]+'M']=inplaceOpM,I[operator[i]]=staticOp}var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(I){methods.push(['Math.'+I,I])});for(var method of methods){var inplaceMeth=eval(fillTemplateFunction(inplaceMethod,{name:method[1],method:method[0]})),staticMeth=eval(fillTemplateFunction(staticMethod,{name:method[1]}));for(i=1;i<method.length;i++)I.prototype[method[i]]=inplaceMeth,I[method[i]]=staticMeth}var methodsWithArgs=[['Math.pow',1,'pow']];for(var methodWithArg of methodsWithArgs){var args='arg0';for(i=1;i<methodWithArg[1];i++)args+=`, arg${i}`;if(1!==methodWithArg[1]){var inplaceMethWithArgs=eval(fillTemplateFunction(inplaceMethodWithArgs,{name:methodWithArg[2],method:methodWithArg[0],args:args})),staticMethWithArgs=eval(fillTemplateFunction(staticMethodWithArgs,{name:methodWithArg[2],args:args}));for(i=2;i<methodWithArg.length;i++)I.prototype[methodWithArg[i]]=inplaceMethWithArgs,I[methodWithArg[i]]=staticMethWithArgs}else{var tmplVar={name:methodWithArg[2],args:args,method:methodWithArg[0]},inplaceMethod2=eval(fillTemplateFunction(inplaceMethodWithOneArg,tmplVar)),inplaceMethodS=eval(fillTemplateFunction(inplaceMethodWithOneArgScalar,tmplVar)),inplaceMethodM=eval(fillTemplateFunction(inplaceMethodWithOneArgMatrix,tmplVar)),staticMethod2=eval(fillTemplateFunction(staticMethodWithOneArg,tmplVar));for(i=2;i<methodWithArg.length;i++)I.prototype[methodWithArg[i]]=inplaceMethod2,I.prototype[methodWithArg[i]+'M']=inplaceMethodM,I.prototype[methodWithArg[i]+'S']=inplaceMethodS,I[methodWithArg[i]]=staticMethod2}}return I}module.exports=abstractMatrix;var LuDecomposition=__webpack_require__(38),arrayUtils=__webpack_require__(16),util=__webpack_require__(7),MatrixTransposeView=__webpack_require__(146),MatrixRowView=__webpack_require__(143),MatrixSubView=__webpack_require__(145),MatrixSelectionView=__webpack_require__(144),MatrixColumnView=__webpack_require__(140),MatrixFlipRowView=__webpack_require__(142),MatrixFlipColumnView=__webpack_require__(141)},function(I,R,D){'use strict';function O(G){if(!(this instanceof O))return new O(G);G=E.Matrix.checkMatrix(G);var Z=G.clone(),$=Z.rows,ee=Z.columns,te=Array($),ie=1,ne,oe,se,ae,le,de,ce,ue,me,ge;for(ne=0;ne<$;ne++)te[ne]=ne;for(me=Array($),oe=0;oe<ee;oe++){for(ne=0;ne<$;ne++)me[ne]=Z[ne][oe];for(ne=0;ne<$;ne++){for(ue=Z[ne],ge=Math.min(ne,oe),le=0,se=0;se<ge;se++)le+=ue[se]*me[se];ue[oe]=me[ne]-=le}for(ae=oe,ne=oe+1;ne<$;ne++)Math.abs(me[ne])>Math.abs(me[ae])&&(ae=ne);if(ae!==oe){for(se=0;se<ee;se++)de=Z[ae][se],Z[ae][se]=Z[oe][se],Z[oe][se]=de;ce=te[ae],te[ae]=te[oe],te[oe]=ce,ie=-ie}if(oe<$&&0!==Z[oe][oe])for(ne=oe+1;ne<$;ne++)Z[ne][oe]/=Z[oe][oe]}this.LU=Z,this.pivotVector=te,this.pivotSign=ie}var E=D(3);O.prototype={isSingular:function(){for(var G=this.LU,Z=G.columns,$=0;$<Z;$++)if(0===G[$][$])return!0;return!1},get determinant(){var G=this.LU;if(!G.isSquare())throw new Error('Matrix must be square');for(var Z=this.pivotSign,$=G.columns,ee=0;ee<$;ee++)Z*=G[ee][ee];return Z},get lowerTriangularMatrix(){for(var G=this.LU,Z=G.rows,$=G.columns,ee=new E.Matrix(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=te>ie?G[te][ie]:te===ie?1:0;return ee},get upperTriangularMatrix(){for(var G=this.LU,Z=G.rows,$=G.columns,ee=new E.Matrix(Z,$),te=0;te<Z;te++)for(var ie=0;ie<$;ie++)ee[te][ie]=te<=ie?G[te][ie]:0;return ee},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(G){G=E.Matrix.checkMatrix(G);var Z=this.LU,$=Z.rows;if($!==G.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var ee=G.columns,te=G.subMatrixRow(this.pivotVector,0,ee-1),ie=Z.columns,ne,oe,se;for(se=0;se<ie;se++)for(ne=se+1;ne<ie;ne++)for(oe=0;oe<ee;oe++)te[ne][oe]-=te[se][oe]*Z[ne][se];for(se=ie-1;0<=se;se--){for(oe=0;oe<ee;oe++)te[se][oe]/=Z[se][se];for(ne=0;ne<se;ne++)for(oe=0;oe<ee;oe++)te[ne][oe]-=te[se][oe]*Z[ne][se]}return te}},I.exports=O},function(I,R,D){'use strict';function O(te,ie){te&&(this.means=ie.means,this.calculateProbabilities=ie.calculateProbabilities)}function E(te,ie,ne){for(var oe=0,se=-1,ae=0,le;ae<ne.length;++ae){le=ne[ae][0];for(var de=1;de<ne[0][1].length+1;++de)le+=G(te[de-1],ie[ae][de-1],ne[ae][de][0],ne[ae][de][1]);le=Math.exp(le),le>oe&&(oe=le,se=ae)}return se}function G(te,ie,ne,oe){var te=te-ie;return Math.log(ne*Math.exp(te*te/oe))}function Z(te,ie){for(var ne=te.columns,oe=0,se=Array(100),ae=0;ae<ie.length;ae++)void 0===se[ie[ae]]&&(se[ie[ae]]=0,oe++),se[ie[ae]]++;var le=Array(oe),de=Array(oe);for(ae=0;ae<oe;++ae)le[ae]=new $(se[ae],ne),de[ae]=0;for(ae=0;ae<te.rows;++ae)le[ie[ae]].setRow(de[ie[ae]],te.getRow(ae)),de[ie[ae]]++;return le}var $=D(0),ee=D(2);I.exports.NaiveBayes=O,I.exports.separateClasses=Z,O.prototype.train=function(te,ie){var ne=Math.sqrt(2*Math.PI);if(te=$.isMatrix(te)?te.clone():new $(te),te.rows!==ie.length)throw new RangeError('the size of the training set and the training labels must be the same.');var oe=Z(te,ie),se=Array(oe.length);this.means=Array(oe.length);for(var ae=0;ae<oe.length;++ae){var le=ee.matrix.mean(oe[ae]),de=ee.matrix.standardDeviation(oe[ae],le),ce=Math.log(oe[ae].rows/te.rows);se[ae]=Array(le.length+1),se[ae][0]=ce;for(var ue=1,me;ue<le.length+1;++ue)me=de[ue-1],se[ae][ue]=[1/(ne*me),-2*me*me];this.means[ae]=le}this.calculateProbabilities=se},O.prototype.predict=function(te){if(te[0].length===this.calculateProbabilities[0].length)throw new RangeError('the dataset must have the same features as the training set');for(var ie=Array(te.length),ne=0;ne<ie.length;++ne)ie[ne]=E(te[ne],this.means,this.calculateProbabilities);return ie},O.prototype.export=function(){return{modelName:'NaiveBayes',means:this.means,calculateProbabilities:this.calculateProbabilities}},O.load=function(te){if('NaiveBayes'!==te.modelName)throw new RangeError('The given model is invalid!');return new O(!0,te)}},function(I,R,D){'use strict';const O=D(6).maybeToPrecision,E=D(4),G=D(0);class Z extends E{constructor($,ee,te,ie){super();if(!0===$)this.coefficients=ee.coefficients,this.powers=ee.powers,this.M=ee.M,ee.quality&&(this.quality=ee.quality);else{var oe=$.length;if(oe!==ee.length)throw new RangeError('input and output array have a different length');let ge;if(Array.isArray(te))ge=te,te=ge.length;else for(te++,ge=Array(te),le=0;le<te;le++)ge[le]=le;var se=new G(oe,te),ae=new G([ee]),le,de;for(le=0;le<te;le++)for(de=0;de<oe;de++)se[de][le]=0===ge[le]?1:Math.pow($[de],ge[le]);var ce=se.transposeView(),ue=ce.mmul(se),me=ce.mmul(ae.transposeView());this.coefficients=ue.solve(me).to1DArray(),this.powers=ge,this.M=te-1,(ie||{}).computeQuality&&(this.quality=this.modelQuality($,ee))}}_predict($){for(var ee=0,te=0;te<this.powers.length;te++)ee+=this.coefficients[te]*Math.pow($,this.powers[te]);return ee}toJSON(){var $={name:'polynomialRegression',coefficients:this.coefficients,powers:this.powers,M:this.M};return this.quality&&($.quality=this.quality),$}toString($){return this._toFormula($,!1)}toLaTeX($){return this._toFormula($,!0)}_toFormula($,ee){var te='^',ie='',ne=' * ';ee&&(te='^{',ie='}',ne='');for(var oe='',ae=0,se;ae<this.coefficients.length;ae++)se='',0!==this.coefficients[ae]&&(se=0===this.powers[ae]?O(this.coefficients[ae],$):1===this.powers[ae]?O(this.coefficients[ae],$)+ne+'x':O(this.coefficients[ae],$)+ne+'x'+te+this.powers[ae]+ie,0<this.coefficients[ae]&&ae!==this.coefficients.length-1?se=' + '+se:ae!==this.coefficients.length-1&&(se=' '+se)),oe=se+oe;return' + '===oe.charAt(0)&&(oe=oe.slice(1)),'f(x) = '+oe}static load($){if('polynomialRegression'!==$.name)throw new TypeError('not a polynomial regression model');return new Z(!0,$)}}I.exports=Z},function(I,R){'use strict';function O(E,G){return E-G}R.sum=function(G){for(var E=0,Z=0;Z<G.length;Z++)E+=G[Z];return E},R.max=function(G){for(var E=-Infinity,Z=G.length,$=0;$<Z;$++)G[$]>E&&(E=G[$]);return E},R.min=function(G){for(var E=Infinity,Z=G.length,$=0;$<Z;$++)G[$]<E&&(E=G[$]);return E},R.minMax=function(G){for(var Z=Infinity,$=-Infinity,ee=G.length,te=0;te<ee;te++)G[te]<Z&&(Z=G[te]),G[te]>$&&($=G[te]);return{min:Z,max:$}},R.arithmeticMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++)Z+=G[ee];return Z/$},R.mean=R.arithmeticMean,R.geometricMean=function(G){for(var Z=1,$=G.length,ee=0;ee<$;ee++)Z*=G[ee];return Math.pow(Z,1/$)},R.logMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++)Z+=Math.log(G[ee]);return Z/$},R.grandMean=function(G,Z){for(var $=0,ee=0,te=G.length,ie=0;ie<te;ie++)$+=Z[ie]*G[ie],ee+=Z[ie];return $/ee},R.truncatedMean=function(G,Z,$){$===void 0&&($=!1),$||(G=G.slice().sort(O));for(var ee=G.length,te=Math.floor(ee*Z),ie=0,ne=te;ne<ee-te;ne++)ie+=G[ne];return ie/(ee-2*te)},R.harmonicMean=function(G){for(var Z=0,$=G.length,ee=0;ee<$;ee++){if(0===G[ee])throw new RangeError('value at index '+ee+'is zero');Z+=1/G[ee]}return $/Z},R.contraHarmonicMean=function(G){for(var Z=0,$=0,ee=G.length,te=0;te<ee;te++)Z+=G[te]*G[te],$+=G[te];if(0>$)throw new RangeError('sum of values is negative');return Z/$},R.median=function(G,Z){Z===void 0&&(Z=!1),Z||(G=G.slice().sort(O));var $=G.length,ee=Math.floor($/2);return 0==$%2?0.5*(G[ee-1]+G[ee]):G[ee]},R.variance=function(G,Z){Z===void 0&&(Z=!0);for(var $=R.mean(G),ee=0,te=G.length,ie=0,ne;ie<te;ie++)ne=G[ie]-$,ee+=ne*ne;return Z?ee/(te-1):ee/te},R.standardDeviation=function(G,Z){return Math.sqrt(R.variance(G,Z))},R.standardError=function(G){return R.standardDeviation(G)/Math.sqrt(G.length)},R.quartiles=function(G,Z){'undefined'==typeof Z&&(Z=!1),Z||(G=G.slice(),G.sort(O));var $=G.length/4,ee=G[Math.ceil($)-1],te=R.median(G,!0),ie=G[Math.ceil(3*$)-1];return{q1:ee,q2:te,q3:ie}},R.pooledStandardDeviation=function(G,Z){return Math.sqrt(R.pooledVariance(G,Z))},R.pooledVariance=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=0,ee=0,te=G.length,ie=0;ie<te;ie++){var ne=G[ie],oe=R.variance(ne);$+=(ne.length-1)*oe,ee+=Z?ne.length-1:ne.length}return $/ee},R.mode=function(G){var Z=G.length,$=Array(Z),ee;for(ee=0;ee<Z;ee++)$[ee]=0;var te=Array(Z),ie=0;for(ee=0;ee<Z;ee++){var ne=te.indexOf(G[ee]);0<=ne?$[ne]++:(te[ie]=G[ee],$[ie]=1,ie++)}var oe=0,se=0;for(ee=0;ee<ie;ee++)$[ee]>oe&&(oe=$[ee],se=ee);return te[se]},R.covariance=function(G,Z,$){'undefined'==typeof $&&($=!0);var ee=R.mean(G),te=R.mean(Z);if(G.length!==Z.length)throw'Vectors do not have the same dimensions';for(var ie=0,ne=G.length,oe=0;oe<ne;oe++){var se=G[oe]-ee,ae=Z[oe]-te;ie+=se*ae}return $?ie/(ne-1):ie/ne},R.skewness=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=R.mean(G),ee=0,te=0,ie=G.length,ne=0,oe;ne<ie;ne++)oe=G[ne]-$,ee+=oe*oe,te+=oe*oe*oe;var se=ee/ie,ae=te/ie,le=ae/Math.pow(se,3/2);if(Z){var de=Math.sqrt(ie*(ie-1));return de/(ie-2)*le}return le},R.kurtosis=function(G,Z){'undefined'==typeof Z&&(Z=!0);for(var $=R.mean(G),ee=G.length,te=0,ie=0,ne=0,oe;ne<ee;ne++)oe=G[ne]-$,te+=oe*oe,ie+=oe*oe*oe*oe;var se=te/ee,ae=ie/ee;if(Z){var le=te/(ee-1),ce=ie/(le*le);return ee*(ee+1)/((ee-1)*(ee-2)*(ee-3))*ce-3*((ee-1)*(ee-1)/((ee-2)*(ee-3)))}return ae/(se*se)-3},R.entropy=function(G,Z){'undefined'==typeof Z&&(Z=0);for(var $=0,ee=G.length,te=0;te<ee;te++)$+=G[te]*Math.log(G[te]+Z);return-$},R.weightedMean=function(G,Z){for(var $=0,ee=G.length,te=0;te<ee;te++)$+=G[te]*Z[te];return $},R.weightedStandardDeviation=function(G,Z){return Math.sqrt(R.weightedVariance(G,Z))},R.weightedVariance=function(G,Z){for(var $=R.weightedMean(G,Z),ee=0,te=G.length,ie=0,ne=0,oe=0;oe<te;oe++){var se=G[oe]-$,ae=Z[oe];ee+=ae*(se*se),ne+=ae,ie+=ae*ae}return ee*(ne/(ne*ne-ie))},R.center=function(G,Z){'undefined'==typeof Z&&(Z=!1);var $=G;Z||($=G.slice());for(var ee=R.mean($),te=$.length,ie=0;ie<te;ie++)$[ie]-=ee},R.standardize=function(G,Z,$){'undefined'==typeof Z&&(Z=R.standardDeviation(G)),'undefined'==typeof $&&($=!1);for(var ee=G.length,te=$?G:Array(ee),ie=0;ie<ee;ie++)te[ie]=G[ie]/Z;return te},R.cumulativeSum=function(G){var Z=G.length,$=Array(Z);$[0]=G[0];for(var ee=1;ee<Z;ee++)$[ee]=$[ee-1]+G[ee];return $}},function(I){function D(O,E,G,Z){this.x=O,this.y=E,this.weights=G,this.som=Z,this.neighbors={}}D.prototype.adjustWeights=function(E,G,Z){for(var $=0,ee=this.weights.length;$<ee;$++)this.weights[$]+=G*Z*(E[$]-this.weights[$])},D.prototype.getDistance=function(E){return Math.max(Math.abs(this.x-E.x),Math.abs(this.y-E.y))},D.prototype.getDistanceTorus=function(E){var G=Math.abs(this.x-E.x),Z=Math.abs(this.y-E.y);return Math.max(Math.min(G,this.som.gridDim.x-G),Math.min(Z,this.som.gridDim.y-Z))},D.prototype.getNeighbors=function(E){if(!this.neighbors[E]){this.neighbors[E]=[,,];var G;if(0<this[E]?G=this[E]-1:this.som.torus&&(G=this.som.gridDim[E]-1),'undefined'!=typeof G){var Z,$;'x'===E?(Z=G,$=this.y):(Z=this.x,$=G),this.neighbors[E][0]=this.som.nodes[Z][$]}var ee;this[E]<this.som.gridDim[E]-1?ee=this[E]+1:this.som.torus&&(ee=0),'undefined'!=typeof ee&&('x'===E?(Z=ee,$=this.y):(Z=this.x,$=ee),this.neighbors[E][1]=this.som.nodes[Z][$])}return this.neighbors[E]},D.prototype.getPos=function(E,G){var Z=this.getNeighbors(E),$=this.som.distance,ee,te;if(!Z[0])ee=Z[1],te=1;else if(Z[1]){var ie=$(G,Z[0].weights),ne=$(G,Z[1].weights);ie<ne?(ee=Z[0],te=-1):(ee=Z[1],te=1)}else ee=Z[0],te=-1;var oe=1-$(G,this.weights),se=1-$(G,ee.weights);return 0.5+0.5*((oe-se)/(2-oe-se))*te},D.prototype.getPosition=function(E){return[this.getPos('x',E),this.getPos('y',E)]},I.exports=D},function(I,R,D){'use strict';function ie(de){for(var ce='',ue=0,me;ue<de.length;ue++)me=(de[ue]>>>0).toString(2),ce+='00000000000000000000000000000000'.substr(me.length)+me;return ce}var le=D(68);I.exports={count:function(de){for(var ce=0,ue=0;ue<de.length;ue++)ce+=le[255&de[ue]]+le[255&de[ue]>>8]+le[255&de[ue]>>16]+le[255&de[ue]>>24];return ce},and:function(de,ce){for(var ue=Array(de.length),me=0;me<de.length;me++)ue[me]=de[me]&ce[me];return ue},or:function(de,ce){for(var ue=Array(de.length),me=0;me<de.length;me++)ue[me]=de[me]|ce[me];return ue},xor:function(de,ce){for(var ue=Array(de.length),me=0;me<de.length;me++)ue[me]=de[me]^ce[me];return ue},not:function(de){for(var ce=Array(de.length),ue=0;ue<ce.length;ue++)ce[ue]=~de[ue];return ce},getBit:function(de,ce){return!!(de[ce>>5]&1<<31-ce%32)},setBit:function(de,ce,ue){var me=ce>>5,ge=1<<31-ce%32;return de[me]=ue?ge|de[me]:~ge&de[me],de},toBinaryString:ie,parseBinaryString:function(de){for(var ce=de.length/32,ue=Array(ce),me=0;me<ce;me++)ue[me]=0|parseInt(de.substr(32*me,32),2);return ue},toHexString:function(de){for(var ce='',ue=0,me;ue<de.length;ue++)me=(de[ue]>>>0).toString(16),ce+='00000000'.substr(me.length)+me;return ce},parseHexString:function(de){for(var ce=de.length/8,ue=Array(ce),me=0;me<ce;me++)ue[me]=0|parseInt(de.substr(8*me,8),16);return ue},toDebug:function(de){for(var ce=ie(de),ue='',me=0;me<de.length;me++){ue+='0000'.substr((32*me).toString(16).length)+(32*me).toString(16)+':';for(var ge=0;32>ge;ge+=4)ue+=' '+ce.substr(32*me+ge,4);me<de.length-1&&(ue+='\n')}return ue}}},function(I,R,D){'use strict';function O(ie,ne){if(ie.length!==ne.length)throw new Error('features and labels should have the same length')}function E(ie,ne){return Array(ie).fill(0).map(()=>Array(ne).fill(0))}function G(ie){var ne=new Set;for(let oe=0;oe<ie.length;oe++)ne.add(ie[oe]);return Array.from(ne)}function Z(ie,ne,oe,se,ae,le,de,ce){var ue=ae.map(function(ye){return ne[ye]}),me=le.map(function(ye){return ne[ye]}),ge=ae.map(function(ye){return oe[ye]}),pe=le.map(function(ye){return oe[ye]}),he=new ie(se);he.train(me,pe);for(var xe=he.predict(ue),fe=0;fe<xe.length;fe++)de[ce.indexOf(ge[fe])][ce.indexOf(xe[fe])]++}const $=D(70),ee={},te=D(69);ee.leaveOneOut=function(ie,ne,oe,se){return ee.leavePOut(ie,ne,oe,se,1)},ee.leavePOut=function(ie,ne,oe,se,ae){O(ne,oe);const le=G(oe),de=E(le.length,le.length);var ue=ne.length,ce,me=te(ae,ue),ge=Array(ue);for(ce=0;ce<ue;ce++)ge[ce]=ce;for(const he of me){var pe=ge.slice();for(ce=he.length-1;0<=ce;ce--)pe.splice(he[ce],1);Z(ie,ne,oe,se,he,pe,de,le)}return new $(de,le)},ee.kFold=function(ie,ne,oe,se,ae){O(ne,oe);const le=G(oe),de=E(le.length,le.length);for(var ce=ne.length,ue=Array(ce),me=0;me<ce;me++)ue[me]=me;for(var ge=Math.floor(ce/ae),pe=[],he=[],xe;ue.length;)xe=Math.floor(Math.random()*ue.length),pe.push(ue[xe]),ue.splice(xe,1),pe.length===ge&&(he.push(pe),pe=[]);for(pe.length&&he.push(pe),he=he.slice(0,ae),me=0;me<he.length;me++){for(var fe=he[me],ye=[],je=0;je<he.length;je++)je!==me&&(ye=ye.concat(he[je]));Z(ie,ne,oe,se,fe,ye,de,le)}return new $(de,le)},I.exports=ee},function(I){'use strict';I.exports=function(E,G){const Z=E.length;let $=Array.from({length:Z}).map(()=>Array.from({length:Z}));for(let ee=0;ee<Z;ee++)for(let te=0;te<=ee;te++)$[ee][te]=G(E[ee],E[te]);for(let ee=0;ee<Z;ee++)for(let te=ee+1;te<Z;te++)$[ee][te]=$[te][ee];return $}},function(I,R,D){'use strict';const O=D(0),E=D(32),G=D(116),Z=D(34),$=D(33);class ee{constructor(te){if(te=te||{},te.model){this.hiddenLayers=te.hiddenLayers,this.iterations=te.iterations,this.learningRate=te.learningRate,this.regularization=te.regularization,this.dicts=te.dicts,this.activation=te.activation,this.activationParam=te.activationParam,this.model=Array(te.layers.length);for(var ie=0;ie<this.model.length-1;++ie)this.model[ie]=E.load(te.layers[ie]);this.model[this.model.length-1]=G.load(te.layers[this.model.length-1])}else this.hiddenLayers=void 0===te.hiddenLayers?[10]:te.hiddenLayers,this.iterations=void 0===te.iterations?50:te.iterations,this.learningRate=void 0===te.learningRate?0.01:te.learningRate,this.regularization=void 0===te.regularization?0.01:te.regularization,this.activation=void 0===te.activation?'tanh':te.activation,this.activationParam=void 0===te.activationParam?1:te.activationParam,this.activation in Object.keys($)||(this.activation='tanh')}buildNetwork(te,ie){var ne=2+(this.hiddenLayers.length-1);this.model=Array(ne),this.model[0]=new E({inputSize:te,outputSize:this.hiddenLayers[0],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});for(var oe=1;oe<this.hiddenLayers.length;++oe)this.model[oe]=new E({inputSize:this.hiddenLayers[oe-1],outputSize:this.hiddenLayers[oe],activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate});this.model[ne-1]=new G({inputSize:this.hiddenLayers[this.hiddenLayers.length-1],outputSize:ie,activation:this.activation,activationParam:this.activationParam,regularization:this.regularization,epsilon:this.learningRate})}train(te,ie){te=O.checkMatrix(te),this.dicts=Z.dictOutputs(ie);var ne=te.columns,oe=Object.keys(this.dicts.inputs).length;this.buildNetwork(ne,oe);for(var se=0,ae;se<this.iterations;++se)ae=this.propagate(te),this.backpropagation(te,ie,ae)}propagate(te){for(var ie=te,ne=0;ne<this.model.length;++ne)ie=this.model[ne].forward(ie);return ie.divColumnVector(Z.sumRow(ie))}backpropagation(te,ie,ne){for(var oe=0;oe<ne.length;++oe)ne[oe][this.dicts.inputs[ie[oe]]]-=1;var se=ne;for(oe=this.model.length-1;0<=oe;--oe){var ae=0<oe?this.model[oe-1].a:te;se=this.model[oe].backpropagation(se,ae)}for(oe=0;oe<this.model.length;++oe)this.model[oe].update()}predict(te){te=O.checkMatrix(te);for(var ie=Array(te.rows),ne=this.propagate(te),oe=0;oe<te.rows;++oe)ie[oe]=this.dicts.outputs[ne.maxRowIndex(oe)[1]];return ie}toJSON(){for(var te={model:'FNN',hiddenLayers:this.hiddenLayers,iterations:this.iterations,learningRate:this.learningRate,regularization:this.regularization,activation:this.activation,activationParam:this.activationParam,dicts:this.dicts,layers:Array(this.model.length)},ie=0;ie<this.model.length;++ie)te.layers[ie]=this.model[ie].toJSON();return te}static load(te){if('FNN'!==te.model)throw new RangeError('the current model is not a feed forward network');return new ee(te)}}I.exports=ee},function(I,R,D){R.agnes=D(118),R.diana=D(119)},function(I,R,D){'use strict';function O(ne,oe,se,ae,le,de){se=Z.updateClusterID(oe,ne,se,le.distanceFunction);var ce=Z.updateCenters(oe,se,ae),ue=Z.converged(ce,ne,le.distanceFunction,le.tolerance);return new ee(se,ce,ue,de,le.distanceFunction)}function*E(ne,oe,se,ae,le){for(var de=!1,ce=0,ue;!de&&ce<le.maxIterations;)ue=O(ne,oe,se,ae,le,++ce),yield ue.computeInformation(oe),de=ue.converged,ne=ue.centroids}const Z=D(36),$=D(131),ee=D(130),te=D(1).squared,ie={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:'mostDistant',distanceFunction:te};I.exports=function(ne,oe,se){if(se=Object.assign({},ie,se),0>=oe||oe>ne.length||!Number.isInteger(oe))throw new Error('K should be a positive integer bigger than the number of points');var ae;if(!Array.isArray(se.initialization))switch(se.initialization){case'random':ae=$.random(ne,oe);break;case'mostDistant':ae=$.mostDistant(ne,oe,Z.calculateDistanceMatrix(ne,se.distanceFunction));break;default:throw new Error('Unknown initialization method: "'+se.initialization+'"');}else if(se.initialization.length!==oe)throw new Error('The initial centers should have the same length as K');else ae=se.initialization;0===se.maxIterations&&(se.maxIterations=Number.MAX_VALUE);var le=Array(ne.length);if(se.withIterations)return E(ae,ne,le,oe,se);for(var de=!1,ce=0,ue;!de&&ce<se.maxIterations;)ue=O(ae,ne,le,oe,se,++ce),de=ue.converged,ae=ue.centroids;return ue.computeInformation(ne)}},function(I,R,D){'use strict';I.exports=D(133)},function(I,R,D){'use strict';I.exports=R=D(39).NaiveBayes,R.separateClasses=D(39).separateClasses},function(I,R,D){'use strict';function O(ue,me){var pe=me.length/3,je=ue.rows,he,xe,fe,ye,ke=ce.zeros(ue.length,1);for(xe=0;xe<pe;xe++)for(ye=Math.pow(me[xe+2*pe][0]/2,2),he=me[xe+pe][0]*ye,fe=0;fe<je;fe++)ke[fe][0]+=he/(Math.pow(ue[fe][0]-me[xe][0],2)+ye);return ke}function G(ue,me){for(var pe=me[1][0]*Math.pow(me[2][0]/2,2),he=ue.rows,xe=new ce(ue.rows,ue.columns),fe=0;fe<he;fe++)xe[fe][0]=pe/(Math.pow(ue[fe][0]-me[0][0],2)+Math.pow(me[2][0]/2,2));return xe}function Z(ue,me){for(var pe=me[2][0]*me[2][0]/2,he=ue.rows,xe=new ce(ue.rows,ue.columns),fe=0;fe<he;fe++)xe[fe][0]=me[1][0]*Math.exp(-(ue[fe][0]-me[0][0])*(ue[fe][0]-me[0][0])/pe);return xe}function $(ue,me,ge){ge=ge||{};var pe=se(ue,ge.percentage||0);if(null===pe||3>pe[0].rows)return null;var he=pe[0],xe=pe[1],fe=pe[2],ye=he.rows,ke=[ye/Math.sqrt(xe.dot(xe))],ge=Object.create(ge.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),be=Math.abs(he[0][0]-he[1][0]),ve=new ce([[-be/1e4],[-0.001],[-be/1e4]]),Me=new ce([[me.x],[1],[me.width]]),ze=new ce([[me.x-be],[0.75],[me.width/4]]),Se=new ce([[me.x+be],[1.25],[4*me.width]]),qe=le.optimize(G,Me,he,xe,ke,ve,ze,Se,[],ge);return qe=qe.p,[qe[0],[qe[1][0]*fe],qe[2]]}function ee(ue,me,ge){ge=ge||{};var pe=se(ue,ge.percentage||0);if(null===pe||3>pe[0].rows)return null;var he=pe[0],xe=pe[1],fe=pe[2],ye=he.rows,ke=[ye/Math.sqrt(xe.dot(xe))],ge=Object.create(ge.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),be=Math.abs(he[0][0]-he[1][0]),ve=new ce([[-be/1e4],[-0.001],[-be/1e4]]),ve=new ce([[-Math.abs(he[0][0]-he[1][0])/1e3],[-0.001],[-me.width/1e3]]),Me=new ce([[me.x],[1],[me.width]]),ze=new ce([[me.x-be],[0.75],[me.width/4]]),Se=new ce([[me.x+be],[1.25],[4*me.width]]),qe=le.optimize(Z,Me,he,xe,ke,ve,ze,Se,[],ge);return qe=qe.p,[qe[0],[qe[1][0]*fe],qe[2]]}function se(ue,me){var ge=ue.length,pe=null,he=null,xe,fe,ye=0,je;if(2==ge){var we=ue[0].length;if(pe=Array(we),he=Array(we),xe=ue[0],fe=ue[1],'number'==typeof xe[0])for(je=0;je<we;je++)pe[je]=xe[je],he[je]=fe[je],fe[je]>ye&&(ye=fe[je]);else if('object'==typeof xe[0])for(je=0;je<we;je++)pe[je]=xe[je][0],he[je]=fe[je][0],fe[je][0]>ye&&(ye=fe[je][0])}else{var we=ge;for(pe=Array(we),he=Array(we),je=0;je<we;je++)pe[je]=ue[je][0],he[je]=ue[je][1],he[je]>ye&&(ye=he[je])}for(je=0;je<we;je++)he[je]/=ye;if(me)for(je=we-1;0<=je;je--)he[je]<me&&(he.splice(je,1),pe.splice(je,1));return 0<pe.length?[new ce([pe]).transpose(),new ce([he]).transpose(),ye]:null}var le=D(17),de=le.Matrix.algebra,ce=D(0);I.exports.optimizeSingleLorentzian=$,I.exports.optimizeLorentzianSum=function(ue,me,ge){var pe=se(ue);if(null===pe||3>pe[0].rows)return null;var he=pe[0],xe=pe[1],fe=pe[2],ye=he.rows,je,ke=[ye/de.sqrt(xe.dot(xe))],ge=Object.create(ge||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),be=me.length,ve=new ce(3*be,1),Me=new ce(3*be,1),ze=new ce(3*be,1),Se=new ce(3*be,1),qe=Math.abs(he[0][0]-he[1][0]);for(je=0;je<be;je++)ve[je][0]=me[je].x,ve[je+be][0]=1,ve[je+2*be][0]=me[je].width,Me[je][0]=me[je].x-qe,Me[je+be][0]=0,Me[je+2*be][0]=me[je].width/4,ze[je][0]=me[je].x+qe,ze[je+be][0]=1.5,ze[je+2*be][0]=4*me[je].width,Se[je][0]=-qe/1e3,Se[je+be][0]=-1e-3,Se[je+2*be][0]=-qe/1e3;var Se=-Math.abs(he[0][0]-he[1][0])/1e4,Ce=le.optimize(O,ve,he,xe,ke,Se,Me,ze,[],ge);Ce=Ce.p;var Ie=Array(be);for(je=0;je<be;je++)Ie[je]=[Ce[je],[Ce[je+be][0]*fe],Ce[je+2*be]];return Ie},I.exports.optimizeSingleGaussian=ee,I.exports.optimizeGaussianSum=function(ue,me,ge){var pe=se(ue);if(null===pe||3>pe[0].rows)return null;var he=pe[0],xe=pe[1],fe=pe[2],ye=he.rows,je,ke=new ce(ye,1),we=ye/de.sqrt(xe.dot(xe));for(je=0;je<ye;je++)ke[je][0]=we;var ge=Object.create(ge||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,2]),ve=me.length,Me=new ce(3*ve,1),ze=new ce(3*ve,1),Se=new ce(3*ve,1),qe=new ce(3*ve,1),Ce=Math.abs(he[0][0]-he[1][0]);for(je=0;je<ve;je++)Me[je][0]=me[je].x,Me[je+ve][0]=me[je].y/fe,Me[je+2*ve][0]=me[je].width,ze[je][0]=me[je].x-Ce,ze[je+ve][0]=0.8*me[je].y/fe,ze[je+2*ve][0]=me[je].width/2,Se[je][0]=me[je].x+Ce,Se[je+ve][0]=1.2*me[je].y/fe,Se[je+2*ve][0]=2*me[je].width,qe[je][0]=-Ce/1e3,qe[je+ve][0]=-1e-3,qe[je+2*ve][0]=-Ce/1e3;var Ie=le.optimize(O,Me,he,xe,ke,qe,ze,Se,[],ge);Ie=Ie.p;var Re=Array(ve);for(je=0;je<ve;je++)Re[je]=[Ie[je],[Ie[je+ve][0]*fe],Ie[je+2*ve]];return Re},I.exports.singleGaussian=Z,I.exports.singleLorentzian=G,I.exports.optimizeGaussianTrain=function(ue,me,ge){var pe=se(ue);if(null===pe||3>pe[0].rows)return null;for(var he=pe[0],xe=pe[1],fe=pe[2],ye=0,je=he.length,ve=[],ze=0,ke,we,be,fe,Me;ze<me.length;ze++){for(ke=me[ze].x-1.5*me[ze].width;he[ye++]<ke&&ye<je;);for(ke=me[ze].x+1.5*me[ze].width,we=[],be=[];he[ye]<=ke&&ye<je;)we.push(he[ye][0]),be.push(xe[ye][0]*fe),ye++;Me=ee([we,be],me[ze],ge),Me?ve.push({x:Me[0][0],y:Me[1][0],width:Me[2][0],opt:!0}):ve.push({x:me[ze].x,y:me[ze].y,width:me[ze].width,opt:!1})}return ve},I.exports.optimizeLorentzianTrain=function(ue,me,ge){var pe=se(ue);if(null===pe||3>pe[0].rows)return null;for(var he=pe[0],xe=pe[1],fe=pe[2],ye=0,je=he.length,ve=[],ze=0,ke,we,be,fe,Me;ze<me.length;ze++){for(ke=me[ze].x-1.5*me[ze].width;he[ye++]<ke&&ye<je;);for(ke=me[ze].x+1.5*me[ze].width,we=[],be=[];he[ye]<=ke&&ye<je;)we.push(he[ye][0]),be.push(xe[ye][0]*fe),ye++;Me=$([we,be],me[ze],ge),Me?ve.push({x:Me[0][0],y:Me[1][0],width:Me[2][0],opt:!0}):ve.push({x:me[ze].x,y:me[ze].y,width:me[ze].width,opt:!1})}return ve}},function(I,R,D){'use strict';const O=D(0),E=O.DC.EVD,G=O.DC.SVD,Z=D(2).matrix,$=Z.mean,ee=Z.standardDeviation,te={isCovarianceMatrix:!1,center:!0,scale:!1};class ie{constructor(ne,oe){if(!0===ne){const de=oe;return this.center=de.center,this.scale=de.scale,this.means=de.means,this.stdevs=de.stdevs,this.U=O.checkMatrix(de.U),void(this.S=de.S)}if(oe=Object.assign({},te,oe),this.center=!1,this.scale=!1,this.means=null,this.stdevs=null,oe.isCovarianceMatrix)return void this._computeFromCovarianceMatrix(ne);var se;if(se='boolean'==typeof oe.useCovarianceMatrix?oe.useCovarianceMatrix:ne.length>ne[0].length,se){ne=this._adjust(ne,oe);const de=ne.transposeView().mmul(ne).div(ne.rows-1);this._computeFromCovarianceMatrix(de)}else{ne=this._adjust(ne,oe);var ae=new G(ne,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=ae.rightSingularVectors;const de=ae.diagonal,ce=Array(de.length);for(var le=0;le<de.length;le++)ce[le]=de[le]*de[le]/(ne.length-1);this.S=ce}}static load(ne){if('PCA'!==ne.name)throw new RangeError('Invalid model: '+ne.name);return new ie(!0,ne)}predict(ne){return ne=new O(ne),this.center&&(ne.subRowVector(this.means),this.scale&&ne.divRowVector(this.stdevs)),ne.mmul(this.U)}getExplainedVariance(){for(var ne=0,oe=0;oe<this.S.length;oe++)ne+=this.S[oe];return this.S.map(se=>se/ne)}getCumulativeVariance(){for(var ne=this.getExplainedVariance(),oe=1;oe<ne.length;oe++)ne[oe]+=ne[oe-1];return ne}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(ne=>Math.sqrt(ne))}getLoadings(){return this.U.transpose()}toJSON(){return{name:'PCA',center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S}}_adjust(ne,oe){if(this.center=!!oe.center,this.scale=!!oe.scale,ne=new O(ne),this.center){const ae=$(ne),le=this.scale?ee(ne,ae,!0):null;if(this.means=ae,ne.subRowVector(ae),this.scale){for(var se=0;se<le.length;se++)if(0===le[se])throw new RangeError('Cannot scale the dataset (standard deviation is zero at index '+se);this.stdevs=le,ne.divRowVector(le)}}return ne}_computeFromCovarianceMatrix(ne){const oe=new E(ne,{assumeSymmetric:!0});this.U=oe.eigenvectorMatrix;for(var se=0;se<this.U.length;se++)this.U[se].reverse();this.S=oe.realEigenvalues.reverse()}}I.exports=ie},function(I,R,D){'use strict';const O=D(148);class E{constructor(G,Z,$){if($=$||{},G.length!==Z.length||G[0].length!==Z[0].length)throw new Error('dimensions of prediction and target do not match');const ee=G.length,te=G[0].length,ie=!$.max,ne=[];if($.all)for(var oe=0;oe<ee;oe++)for(var se=0;se<te;se++)ne.push({pred:G[oe][se],targ:Z[oe][se]});else{if(3>ee||ee!==te)throw new Error('When "all" option is false, the prediction matrix must be square and have at least 3 columns');for(var oe=0;oe<ee-1;oe++)for(var se=oe+1;se<te;se++)ne.push({pred:G[oe][se],targ:Z[oe][se]})}ie?ne.sort((ke,we)=>ke.pred-we.pred):ne.sort((ke,we)=>we.pred-ke.pred);const ae=this.cutoffs=[ie?Number.MIN_VALUE:Number.MAX_VALUE],le=this.fp=[0],de=this.tp=[0];for(var ce=0,ue=0,me=ne[0].pred,ge=0,pe=0,oe=0;oe<ne.length;oe++)ne[oe].pred!==me&&(ae.push(me),le.push(pe),de.push(ge),me=ne[oe].pred),ne[oe].targ?(ce++,ge++):(ue++,pe++);ae.push(me),le.push(pe),de.push(ge);const he=ae.length,xe=this.fn=Array(he),fe=this.tn=Array(he),ye=this.nPosPred=Array(he),je=this.nNegPred=Array(he);for(var oe=0;oe<he;oe++)xe[oe]=ce-de[oe],fe[oe]=ue-le[oe],ye[oe]=de[oe]+le[oe],je[oe]=fe[oe]+xe[oe];this.nPos=ce,this.nNeg=ue,this.nSamples=ce+ue}getMeasure(G){if('string'!=typeof G)throw new Error('No measure specified');if(!O[G])throw new Error(`The specified measure (${G}) does not exist`);return O[G](this)}getAURC(){const G=this.cutoffs.length,Z=Array(G),$=Array(G);for(var ee=0;ee<G;ee++)Z[ee]=this.fp[ee]/this.nNeg,$[ee]=this.tp[ee]/this.nPos;var te=0;for(ee=1;ee<G;ee++)te+=0.5*(Z[ee]-Z[ee-1])*($[ee]+$[ee-1]);return te}getAUDC(){const G=this.cutoffs.length,Z=Array(G),$=Array(G);for(var ee=0;ee<G;ee++)Z[ee]=this.fn[ee]/this.nPos,$[ee]=this.fp[ee]/this.nNeg;var te=0;for(ee=1;ee<G;ee++)te+=0.5*(Z[ee]+Z[ee-1])*($[ee]-$[ee-1]);return te}getDistribution(G){G=G||{};for(var Z=this.cutoffs.length,$=G.xMin||Math.floor(100*this.cutoffs[Z-1])/100,ee=G.xMax||Math.ceil(100*this.cutoffs[1])/100,te=G.interval||Math.floor(1e7*((ee-$)/20)-1)/1e7,ie=[],ne=[],oe=[],se=[],ae=[],le=this.tp[Z-1],de=0,ce=this.fp[Z-1],ue=0,me=$,ge=Z-1;me<=ee;me+=te){for(;this.cutoffs[ge]<me;)ge--;ie.push(me);var pe=le-de-this.tp[ge],he=ce-ue-this.fp[ge];de+=pe,ue+=he,ne.push(he),oe.push(pe),se.push(100-100*((ce-this.fp[ge])/ce)),ae.push(100-100*((le-this.tp[ge])/le))}return{xLabels:ie,interValues:ne,intraValues:oe,interCumPercent:se,intraCumPercent:ae}}}E.names={acc:'Accuracy',err:'Error rate',fpr:'False positive rate',tpr:'True positive rate',fnr:'False negative rate',tnr:'True negative rate',ppv:'Positive predictive value',npv:'Negative predictive value',pcfall:'Prediction-conditioned fallout',pcmiss:'Prediction-conditioned miss',lift:'Lift value',rpp:'Rate of positive predictions',rnp:'Rate of negative predictions',threshold:'Threshold'},I.exports=E},function(I,R,D){I.exports=R=D(150),R.Utils=D(12),R.OPLS=D(149)},function(I,R,D){'use strict';R.SimpleLinearRegression=R.SLR=D(13),R.NonLinearRegression=R.NLR={PolynomialRegression:D(40),PotentialRegression:D(154),ExpRegression:D(151),PowerRegression:D(155)},R.KernelRidgeRegression=R.KRR=D(152),R.PolinomialFitting2D=D(153),R.TheilSenRegression=D(156)},function(I,R,D){function E(oe,se,ae,le){for(var de=0,ce=0,ue=se-ae;ue<se+ae;ue++)0<=ue&&ue<oe.length-1&&(de+=oe[ue+1]-oe[ue],ce++);return Math.pow(de/ce,le)}function G(oe,se,ae,le){var de=0;return de=0<ae?(4*ae-2)/(ae*(2*se-ae+1))*(oe*G(oe,se,ae-1,le)+le*G(oe,se,ae-1,le-1))-(ae-1)*(2*se+ae)/(ae*(2*se-ae+1))*G(oe,se,ae-2,le):0==ae&&0==le?1:0,de}function Z(oe,se){var ae=1;if(oe>=se)for(var le=oe-se+1;le<=oe;le++)ae*=le;return ae}function $(oe,se,ae,le,de){for(var ce=0,ue=0;ue<=le;ue++)ce+=(2*ue+1)*(Z(2*ae,ue)/Z(2*ae+ue+1,ue+1))*G(oe,ae,ue,0)*G(se,ae,ue,de);return ce}function ee(oe,se,ae){for(var le=Array(oe),de=Math.floor(oe/2),ce=-de;ce<=de;ce++){le[ce+de]=Array(oe);for(var ue=-de;ue<=de;ue++)le[ce+de][ue+de]=$(ue,ce,de,se,ae)}return le}var te=D(9),ie=D(157),ne={windowSize:9,derivative:0,polynomial:3};I.exports=function(oe,se,ae){if(ae=te({},ne,ae),0==ae.windowSize%2||5>ae.windowSize||!Number.isInteger(ae.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(ae.windowSize>oe.length)throw new RangeError('Window size is higher than the data length '+ae.windowSize+'>'+oe.length);if(0>ae.derivative||!Number.isInteger(ae.derivative))throw new RangeError('Derivative should be a positive integer');if(1>ae.polynomial||!Number.isInteger(ae.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=ae.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var le=ae.windowSize,de=Math.floor(le/2),ce=oe.length,ue=Array(ce),me=ee(le,ae.polynomial,ae.derivative),ge=0,pe=!0;'[object Array]'===Object.prototype.toString.call(se)?pe=!1:ge=Math.pow(se,ae.derivative);for(var he=0;he<de;he++){for(var xe=me[de-he-1],fe=me[de+he+1],ye=0,je=0,ke=0;ke<le;ke++)ye+=xe[ke]*oe[ke],je+=fe[ke]*oe[ce-le+ke-1];pe?(ue[de-he-1]=ye/ge,ue[ce-de+he]=je/ge):(ge=E(se,de-he-1,de,ae.derivative),ue[de-he-1]=ye/ge,ge=E(se,ce-de+he,de,ae.derivative),ue[ce-de+he]=je/ge)}for(var we=me[de],he=le,be;he<ce+1;he++){be=0;for(var ke=0;ke<le;ke++)be+=we[ke]*oe[ke+he-le];pe||(ge=E(se,he-de-1,de,ae.derivative)),ue[he-de-1]=be/ge}return ue}},function(I,R,D){'use strict';var E=D(0),G=D(20),Z=D(9),$={windowSize:5,derivative:1,polynomial:2,pad:'none',padValue:'replicate'};I.exports=function(ee,te,ie){if(ie=Z({},$,ie),0==ie.windowSize%2||5>ie.windowSize||!Number.isInteger(ie.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(0>ie.derivative||!Number.isInteger(ie.derivative))throw new RangeError('Derivative should be a positive integer');if(1>ie.polynomial||!Number.isInteger(ie.polynomial))throw new RangeError('Polynomial should be a positive integer');var se=Math.floor(ie.windowSize/2),ne,oe;'pre'===ie.pad&&(ee=G(ee,{size:se,value:ie.padValue}));var ae=Array(ee.length-2*se);if(5===ie.windowSize&&2===ie.polynomial&&(1===ie.derivative||2===ie.derivative))1===ie.derivative?(ne=[-2,-1,0,1,2],oe=10):(ne=[2,-1,-2,-1,2],oe=7);else{for(var le=E.ones(ie.windowSize,ie.polynomial+1),de=-(ie.windowSize-1)/2,ce=0;ce<le.length;ce++)for(var ue=0;ue<le[ce].length;ue++)(0!=de+1||0!==ue)&&(le[ce][ue]=Math.pow(de+ce,ue));var me=le.transposeView(),ge=me.mmul(le).inverse();ne=ge.mmul(me),ne=ne[ie.derivative],oe=1}for(var pe=oe*Math.pow(te,ie.derivative),he=se,xe;he<ee.length-se;he++){xe=0;for(var fe=0;fe<ne.length;fe++)xe+=ne[fe]*ee[fe+he-se]/pe;ae[he-se]=xe}return'post'===ie.pad&&(ae=G(ae,{size:se,value:ie.padValue})),ae}},function(module,exports,__webpack_require__){'use strict';function SOM(I,R,D,O){for(var E in this.x=I,this.y=R,D=D||{},this.options={},defaultOptions)this.options[E]=D.hasOwnProperty(E)?D[E]:defaultOptions[E];if('number'==typeof this.options.fields)this.numWeights=this.options.fields;else if(Array.isArray(this.options.fields)){this.numWeights=this.options.fields.length;var G=getConverters(this.options.fields);this.extractor=G.extractor,this.creator=G.creator}else throw new Error('Invalid fields definition');if('rect'===this.options.gridType)this.nodeType=NodeSquare,this.gridDim={x:I,y:R};else{this.nodeType=NodeHexagonal;var Z=this.x-Math.floor(this.y/2);this.gridDim={x:Z,y:this.y,z:-(0-Z-this.y)}}if(this.torus=this.options.torus,this.distanceMethod=this.torus?'getDistanceTorus':'getDistance',this.distance=this.options.distance,this.maxDistance=getMaxDistance(this.distance,this.numWeights),!0===O)return void(this.done=!0);if(!(0<I&&0<R))throw new Error('x and y must be positive');this.times={findBMU:0,adjust:0},this.randomizer=this.options.randomizer,this.iterationCount=0,this.iterations=this.options.iterations,this.startLearningRate=this.learningRate=this.options.learningRate,this.mapRadius=Math.floor(Math.max(I,R)/2),this.algorithmMethod=this.options.method,this._initNodes(),this.done=!1}function getConverters(I){for(var R=I.length,D=Array(R),O=Array(R),E=0;E<R;E++)D[E]=getNormalizer(I[E].range),O[E]=getDenormalizer(I[E].range);return{extractor:function(Z){for(var $=Array(R),ee=0;ee<R;ee++)$[ee]=D[ee](Z[I[ee].name]);return $},creator:function(Z){for(var $={},ee=0;ee<R;ee++)$[I[ee].name]=O[ee](Z[ee]);return $}}}function getNormalizer(I){return function(D){return(D-I[0])/(I[1]-I[0])}}function getDenormalizer(I){return function(D){return I[0]+D*(I[1]-I[0])}}function squareEuclidean(I,R){for(var D=0,O=0,E=I.length;O<E;O++)D+=(I[O]-R[O])*(I[O]-R[O]);return D}function getRandomValue(I,R){return I[Math.floor(R()*I.length)]}function getMaxDistance(I,R){for(var D=Array(R),O=Array(R),E=0;E<R;E++)D[E]=0,O[E]=1;return I(D,O)}var NodeSquare=__webpack_require__(42),NodeHexagonal=__webpack_require__(159),defaultOptions={fields:3,randomizer:Math.random,distance:squareEuclidean,iterations:10,learningRate:0.1,gridType:'rect',torus:!0,method:'random'};SOM.load=function(model,distance){if('SOM'===model.name){var x=model.data.length,y=model.data[0].length;distance?model.options.distance=distance:model.options.distance&&(model.options.distance=eval('('+model.options.distance+')'));var som=new SOM(x,y,model.options,!0);som.nodes=Array(x);for(var i=0;i<x;i++){som.nodes[i]=Array(y);for(var j=0;j<y;j++)som.nodes[i][j]=new som.nodeType(i,j,model.data[i][j],som)}return som}throw new Error('expecting a SOM model')},SOM.prototype.export=function(R){if(!this.done)throw new Error('model is not ready yet');for(var D={name:'SOM',options:{fields:this.options.fields,gridType:this.options.gridType,torus:this.options.torus},data:Array(this.x)},O=0;O<this.x;O++){D.data[O]=Array(this.y);for(var E=0;E<this.y;E++)D.data[O][E]=this.nodes[O][E].weights}return R&&(D.options.distance=this.distance.toString()),D},SOM.prototype._initNodes=function(){var R=Date.now(),D,O,E;for(this.nodes=Array(this.x),D=0;D<this.x;D++)for(this.nodes[D]=Array(this.y),O=0;O<this.y;O++){var G=Array(this.numWeights);for(E=0;E<this.numWeights;E++)G[E]=this.randomizer();this.nodes[D][O]=new this.nodeType(D,O,G,this)}this.times.initNodes=Date.now()-R},SOM.prototype.setTraining=function(R){if(this.trainingSet)throw new Error('training set has already been set');var D=Date.now(),O=R,E,G=R.length;if(this.extractor)for(O=Array(G),E=0;E<G;E++)O[E]=this.extractor(R[E]);this.numIterations=this.iterations*G,this.timeConstant='random'===this.algorithmMethod?this.numIterations/Math.log(this.mapRadius):G/Math.log(this.mapRadius),this.trainingSet=O,this.times.setTraining=Date.now()-D},SOM.prototype.trainOne=function(){if(this.done)return!1;if(0<this.numIterations--){var R,D,O;return'random'===this.algorithmMethod?(R=this.mapRadius*Math.exp(-this.iterationCount/this.timeConstant),D=getRandomValue(this.trainingSet,this.randomizer),this._adjust(D,R),this.learningRate=this.startLearningRate*Math.exp(-this.iterationCount/this.numIterations)):(O=-Math.floor(this.iterationCount/this.trainingSet.length),R=this.mapRadius*Math.exp(O/this.timeConstant),D=this.trainingSet[this.iterationCount%this.trainingSet.length],this._adjust(D,R),0==(this.iterationCount+1)%this.trainingSet.length&&(this.learningRate=this.startLearningRate*Math.exp(O/Math.floor(this.numIterations/this.trainingSet.length)))),this.iterationCount++,!0}return this.done=!0,!1},SOM.prototype._adjust=function(R,D){var O=Date.now(),E,G,Z,$,ee=this._findBestMatchingUnit(R),te=Date.now();this.times.findBMU+=te-O;var ie=Math.floor(D),ne=ee.x-ie,oe=ee.x+ie,se=ee.y-ie,ae=ee.y+ie;for(E=ne;E<=oe;E++){var le=E;for(0>E?le+=this.x:E>=this.x&&(le-=this.x),G=se;G<=ae;G++){var de=G;0>G?de+=this.y:G>=this.y&&(de-=this.y),Z=ee[this.distanceMethod](this.nodes[le][de]),Z<D&&($=Math.exp(-Z/(2*D)),this.nodes[le][de].adjustWeights(R,this.learningRate,$))}}this.times.adjust+=Date.now()-te},SOM.prototype.train=function(R){if(!this.done)for(this.setTraining(R);this.trainOne(););},SOM.prototype.getConvertedNodes=function(){for(var R=Array(this.x),D=0;D<this.x;D++){R[D]=Array(this.y);for(var O=0,E;O<this.y;O++)E=this.nodes[D][O],R[D][O]=this.creator?this.creator(E.weights):E.weights}return R},SOM.prototype._findBestMatchingUnit=function(R){for(var O=Infinity,G=0,D,E;G<this.x;G++)for(var Z=0;Z<this.y;Z++)E=this.distance(this.nodes[G][Z].weights,R),E<O&&(O=E,D=this.nodes[G][Z]);return D},SOM.prototype.predict=function(R,D){if('boolean'==typeof R&&(D=R,R=null),R||(R=this.trainingSet),Array.isArray(R)&&(Array.isArray(R[0])||'object'==typeof R[0])){var O=this;return R.map(function(E){return O._predict(E,D)})}return this._predict(R,D)},SOM.prototype._predict=function(R,D){Array.isArray(R)||(R=this.extractor(R));var O=this._findBestMatchingUnit(R),E=[O.x,O.y];return D&&(E[2]=O.getPosition(R)),E},SOM.prototype.getQuantizationError=function(){for(var R=this.getFit(),D=R.length,O=0,E=0;E<D;E++)O+=R[E];return O/D},SOM.prototype.getFit=function(R){R||(R=this.trainingSet);for(var D=R.length,E=Array(D),G=0,O;G<D;G++)O=this._findBestMatchingUnit(R[G]),E[G]=Math.sqrt(this.distance(R[G],O.weights));return E},module.exports=SOM},function(module,exports,__webpack_require__){function fillTemplateFunction(I,R){for(var D in R)I=I.replace(new RegExp('%'+D+'%','g'),R[D]);return I}const HashTable=__webpack_require__(19);class I{constructor(R,D,O={}){if(R instanceof I){const $=R;return void this._init($.rows,$.columns,$.elements.clone(),$.threshold)}if(Array.isArray(R)){const $=R;R=$.length,O=D||{},D=$[0].length,this._init(R,D,new HashTable(O),O.threshold);for(var E=0;E<R;E++)for(var G=0,Z;G<D;G++)Z=$[E][G],this.threshold&&Math.abs(Z)<this.threshold&&(Z=0),0!==Z&&this.elements.set(E*D+G,$[E][G])}else this._init(R,D,new HashTable(O),O.threshold)}_init(R,D,O,E){this.rows=R,this.columns=D,this.elements=O,this.threshold=E||0}static eye(R=1,D=R){const O=Math.min(R,D),E=new I(R,D,{initialCapacity:O});for(var G=0;G<O;G++)E.set(G,G,1);return E}clone(){return new I(this)}to2DArray(){const R=Array(this.rows);for(var D=0;D<this.rows;D++){R[D]=Array(this.columns);for(var O=0;O<this.columns;O++)R[D][O]=this.get(D,O)}return R}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var R=!0;return this.forEachNonZero((D,O,E)=>{return this.get(O,D)===E?E:(R=!1,!1)}),R}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(R,D){return this.elements.get(R*this.columns+D)}set(R,D,O){return this.threshold&&Math.abs(O)<this.threshold&&(O=0),0===O?this.elements.remove(R*this.columns+D):this.elements.set(R*this.columns+D,O),this}mmul(R){this.columns!==R.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');const D=this.rows,O=R.columns,E=new I(D,O);return this.forEachNonZero((G,Z,$)=>{return R.forEachNonZero((ee,te,ie)=>{return Z===ee&&E.set(G,te,E.get(G,te)+$*ie),ie}),$}),E}kroneckerProduct(R){const D=this.rows,O=this.columns,E=R.rows,G=R.columns,Z=new I(D*E,O*G,{initialCapacity:this.cardinality*R.cardinality});return this.forEachNonZero(($,ee,te)=>{return R.forEachNonZero((ie,ne,oe)=>{return Z.set(E*$+ie,G*ee+ne,te*oe),oe}),te}),Z}forEachNonZero(R){return this.elements.forEachPair((D,O)=>{const E=0|D/this.columns,G=D%this.columns;let Z=R(E,G,O);return!1!==Z&&(this.threshold&&Math.abs(Z)<this.threshold&&(Z=0),Z!==O&&(0===Z?this.elements.remove(D,!0):this.elements.set(D,Z)),!0)}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){const R=this.cardinality,D=Array(R),O=Array(R),E=Array(R);var G=0;return this.forEachNonZero((Z,$,ee)=>{return D[G]=Z,O[G]=$,E[G]=ee,G++,ee}),{rows:D,columns:O,values:E}}setThreshold(R){return 0!==R&&R!==this.threshold&&(this.threshold=R,this.forEachNonZero((D,O,E)=>E)),this}}I.prototype.klass='Matrix',I.identity=I.eye,I.prototype.tensorProduct=I.prototype.kroneckerProduct,module.exports=I;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    this.forEachNonZero((i, j, v) => v %op% value);
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix.forEachNonZero((i, j, v) => {
        this.set(i, j, this.get(i, j) %op% v);
        return v;
    });
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    this.forEachNonZero((i, j, v) => %method%(v));
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%();
})
`,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var operator of operators)for(var i=1;i<operator.length;i++)I.prototype[operator[i]]=eval(fillTemplateFunction(inplaceOperator,{name:operator[i],op:operator[0]})),I.prototype[operator[i]+'S']=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[i]+'S',op:operator[0]})),I.prototype[operator[i]+'M']=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[i]+'M',op:operator[0]})),I[operator[i]]=eval(fillTemplateFunction(staticOperator,{name:operator[i]}));var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(I){methods.push(['Math.'+I,I])});for(var method of methods)for(var i=1;i<method.length;i++)I.prototype[method[i]]=eval(fillTemplateFunction(inplaceMethod,{name:method[i],method:method[0]})),I[method[i]]=eval(fillTemplateFunction(staticMethod,{name:method[i]}))},function(I,R,D){'use strict';function O($){this.options=Object.assign({},Z,$),this.kernel=new E(this.options.kernel,this.options.kernelOptions),this.b=0}const E=D(8),G=D(2).array;var Z={C:1,tol:1e-4,maxPasses:10,maxIterations:1e4,kernel:'linear',alphaTol:1e-6,random:Math.random,whitening:!0};O.prototype.train=function($,ee){if($.length!==ee.length)throw new Error('Features and labels should have the same length');if(2>$.length)throw new Error('Cannot train with less than 2 observations');if(this._trained=!1,this._loaded=!1,this.N=ee.length,this.D=$[0].length,this.options.whitening){this.X=Array(this.N);for(var te=0;te<this.N;te++)this.X[te]=Array(this.D);this.minMax=Array(this.D);for(var ie=0,ne;ie<this.D;ie++){for(ne=Array(this.N),te=0;te<this.N;te++)ne[te]=$[te][ie];for(this.minMax[ie]=G.minMax(ne),te=0;te<this.N;te++)this.X[te][ie]=($[te][ie]-this.minMax[ie].min)/(this.minMax[ie].max-this.minMax[ie].min)}}else this.X=$;this.Y=ee,this.b=0,this.W=void 0;var oe=this.kernel.compute(this.X),se=ee.length,ae=Array(se).fill(0);this.alphas=ae;for(var le=0;le<se;le++)ae[le]=0;for(var de=0,ce=0,ue=0,me=0,ge=0,pe=0,he=0,xe=0,fe=0,ye=0,je=0,ke;me<this.options.maxPasses&&ue<this.options.maxIterations;){for(ke=0,te=0;te<se;te++)if(ge=this._marginOnePrecomputed(te,oe)-ee[te],ee[te]*ge<-this.options.tol&&ae[te]<this.options.C||ee[te]*ge>this.options.tol&&0<ae[te]){for(ie=te;ie===te;)ie=Math.floor(this.options.random()*se);if(pe=this._marginOnePrecomputed(ie,oe)-ee[ie],he=ae[te],xe=ae[ie],ee[te]===ee[ie]?(fe=Math.max(0,he+xe-this.options.C),ye=Math.min(this.options.C,he+xe)):(fe=Math.max(0,xe-he),ye=Math.min(this.options.C,this.options.C+xe+he)),1e-4>Math.abs(fe-ye))continue;if(je=2*oe[te][ie]-oe[te][te]-oe[ie][ie],0<=je)continue;var we=ae[ie]-ee[ie]*(ge-pe)/je;if(we>ye?we=ye:we<fe&&(we=fe),1e-3>Math.abs(xe-we))continue;ae[ie]=we,ae[te]+=ee[te]*ee[ie]*(xe-we),de=this.b-ge-ee[te]*(ae[te]-he)*oe[te][te]-ee[ie]*(ae[ie]-xe)*oe[te][ie],ce=this.b-pe-ee[te]*(ae[te]-he)*oe[te][ie]-ee[ie]*(ae[ie]-xe)*oe[ie][ie],this.b=(de+ce)/2,ae[te]<this.options.C&&0<ae[te]&&(this.b=de),ae[ie]<this.options.C&&0<ae[ie]&&(this.b=ce),ke+=1}ue++,0==ke?me+=1:me=0}if(ue===this.options.maxIterations)throw new Error('max iterations reached');if(this.iterations=ue,'linear'===this.options.kernel){this.W=Array(this.D);for(var be=0;be<this.D;be++){this.W[be]=0;for(var ve=0;ve<se;ve++)this.W[be]+=ee[ve]*ae[ve]*this.X[ve][be]}}var Me=[],ze=[],Se=[];for(this._supportVectorIdx=[],te=0;te<this.N;te++)this.alphas[te]>this.options.alphaTol&&(Me.push(this.X[te]),ze.push(ee[te]),Se.push(this.alphas[te]),this._supportVectorIdx.push(te));this.X=Me,this.Y=ze,this.N=Me.length,this.alphas=Se,this._trained=!0},O.prototype.predictOne=function($){var ee=this.marginOne($);return 0<ee?1:-1},O.prototype.predict=function($){if(!this._trained&&!this._loaded)throw new Error('Cannot predict, you need to train the SVM first');return Array.isArray($)&&Array.isArray($[0])?$.map(this.predictOne.bind(this)):this.predictOne($)},O.prototype.marginOne=function($,ee){this.options.whitening&&!ee&&($=this._applyWhitening($));var te=this.b,ie;if('linear'===this.options.kernel&&this.W)for(ie=0;ie<this.W.length;ie++)te+=this.W[ie]*$[ie];else for(ie=0;ie<this.N;ie++)te+=this.alphas[ie]*this.Y[ie]*this.kernel.compute([$],[this.X[ie]])[0][0];return te},O.prototype._marginOnePrecomputed=function($,ee){var te=this.b,ie;for(ie=0;ie<this.N;ie++)te+=this.alphas[ie]*this.Y[ie]*ee[$][ie];return te},O.prototype.margin=function($){return Array.isArray($)?$.map(this.marginOne.bind(this)):this.marginOne($)},O.prototype.supportVectors=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot get support vectors, you need to train the SVM first');if(this._loaded&&'linear'===this.options.kernel)throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');return this._supportVectorIdx},O.load=function($){this._loaded=!0,this._trained=!1;var ee=new O($.options);return'linear'===$.options.kernel?(ee.W=$.W.slice(),ee.D=ee.W.length):(ee.X=$.X.slice(),ee.Y=$.Y.slice(),ee.alphas=$.alphas.slice(),ee.N=ee.X.length,ee.D=ee.X[0].length),ee.minMax=$.minMax,ee.b=$.b,ee._loaded=!0,ee._trained=!1,ee},O.prototype.toJSON=function(){if(!this._trained&&!this._loaded)throw new Error('Cannot export, you need to train the SVM first');var $={};return $.options=Object.assign({},this.options),$.b=this.b,$.minMax=this.minMax,'linear'===$.options.kernel?$.W=this.W.slice():($.X=this.X.slice(),$.Y=this.Y.slice(),$.alphas=this.alphas.slice()),$},O.prototype._applyWhitening=function($){if(!this.minMax)throw new Error('Could not apply whitening');for(var ee=Array($.length),te=0;te<$.length;te++)ee[te]=($[te]-this.minMax[te].min)/(this.minMax[te].max-this.minMax[te].min);return ee},I.exports=O},function(I,R){'use strict';function O(ae,le){if(!(ae instanceof le))throw new TypeError('Cannot call a class as a function')}function E(ae,le){ae>>>=0,le>>>=0;var de=65535&ae,ce=ae-de;return(ce*le>>>0)+de*le>>>0}function G(ae){0===ae.state[0]&&0===ae.state[1]&&0===ae.state[2]&&0===ae.state[3]&&(ae.state[0]=88,ae.state[1]=83,ae.state[2]=65,ae.state[3]=68)}function Z(ae){var le=ae.state[0];le^=le<<ne,le^=le>>>oe,le^=ae.state[3]<<se,ae.state[0]=ae.state[1],ae.state[1]=ae.state[2],ae.state[2]=ae.state[3],ae.state[3]=le}Object.defineProperty(R,'__esModule',{value:!0});var $=function(){function ae(le,de){for(var ce=0,ue;ce<de.length;ce++)ue=de[ce],ue.enumerable=ue.enumerable||!1,ue.configurable=!0,'value'in ue&&(ue.writable=!0),Object.defineProperty(le,ue.key,ue)}return function(le,de,ce){return de&&ae(le.prototype,de),ce&&ae(le,ce),le}}(),ee=8,ie=function(){function ae(){var le=0>=arguments.length||void 0===arguments[0]?Date.now():arguments[0];O(this,ae),this.state=new Uint32Array(4),this.init(le)}return $(ae,[{key:'init',value:function(de){this.state[0]=de,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(var ce=1;ce<ee;ce++)this.state[3&ce]^=ce+E(1812433253,this.state[3&ce-1]^this.state[3&ce-1]>>>30>>>0)>>>0;G(this);for(var ce=0;ce<ee;ce++)Z(this)}},{key:'getUint32',value:function(){return Z(this),this.state[3]+this.state[2]>>>0}},{key:'getFloat',value:function(){return(this.getUint32()>>>8)*(1/16777216)}},{key:'random',get:function(){return this._random||(this._random=this.getFloat.bind(this)),this._random}}]),ae}();R['default']=ie;var ne=15,oe=18,se=11;I.exports=R['default']},function(I){(function(){'use strict';function O(Z){for(var $=[],ee=0;ee<Z.length;ee++)$.push(Z[ee]);return $}var G;G='undefined'!=typeof I&&I.exports?I.exports:this.RandomSelection={},G.Picker=function(Z){this._originalOptions=Z,this._remainingOptions=[]},G.Picker.prototype={pick:function(){0===this._remainingOptions.length&&(this._remainingOptions=O(this._originalOptions));var Z=Math.floor(Math.random()*this._remainingOptions.length);return this._remainingOptions.splice(Z,1)[0]}}}).call(this)},function(I,R,D){I.exports=D(64)},function(I,R){var O,E,G;(function(){var Z,$,ee,te,ie,ne,oe,se,ae,le,de,ce,ue,me,ge;ee=Math.floor,le=Math.min,$=function(pe,he){return pe<he?-1:pe>he?1:0},ae=function(pe,he,xe,fe,ye){var je;if(null==xe&&(xe=0),null==ye&&(ye=$),0>xe)throw new Error('lo must be non-negative');for(null==fe&&(fe=pe.length);xe<fe;)je=ee((xe+fe)/2),0>ye(he,pe[je])?fe=je:xe=je+1;return[].splice.apply(pe,[xe,xe-xe].concat(he)),he},ne=function(pe,he,xe){return null==xe&&(xe=$),pe.push(he),me(pe,0,pe.length-1,xe)},ie=function(pe,he){var xe,fe;return null==he&&(he=$),xe=pe.pop(),pe.length?(fe=pe[0],pe[0]=xe,ge(pe,0,he)):fe=xe,fe},se=function(pe,he,xe){var fe;return null==xe&&(xe=$),fe=pe[0],pe[0]=he,ge(pe,0,xe),fe},oe=function(pe,he,xe){var fe;return null==xe&&(xe=$),pe.length&&0>xe(pe[0],he)&&(fe=[pe[0],he],he=fe[0],pe[0]=fe[1],ge(pe,0,xe)),he},te=function(pe,he){var xe,fe,je,we,be,ve;for(null==he&&(he=$),we=function(){ve=[];for(var Me=0,ze=ee(pe.length/2);0<=ze?Me<ze:Me>ze;0<=ze?Me++:Me--)ve.push(Me);return ve}.apply(this).reverse(),be=[],(fe=0,je=we.length);fe<je;fe++)xe=we[fe],be.push(ge(pe,xe,he));return be},ue=function(pe,he,xe){var fe;if(null==xe&&(xe=$),fe=pe.indexOf(he),-1!==fe)return me(pe,0,fe,xe),ge(pe,fe,xe)},de=function(pe,he,xe){var fe,ye,je,ke,we;if(null==xe&&(xe=$),ye=pe.slice(0,he),!ye.length)return ye;for(te(ye,xe),we=pe.slice(he),(je=0,ke=we.length);je<ke;je++)fe=we[je],oe(ye,fe,xe);return ye.sort(xe).reverse()},ce=function(pe,he,xe){var fe,ye,je,ke,we,be,ve,Me,ze,Se;if(null==xe&&(xe=$),10*he<=pe.length){if(ke=pe.slice(0,he).sort(xe),!ke.length)return ke;for(je=ke[ke.length-1],Me=pe.slice(he),(we=0,ve=Me.length);we<ve;we++)fe=Me[we],0>xe(fe,je)&&(ae(ke,fe,0,null,xe),ke.pop(),je=ke[ke.length-1]);return ke}for(te(pe,xe),Se=[],(ye=be=0,ze=le(he,pe.length));0<=ze?be<ze:be>ze;ye=0<=ze?++be:--be)Se.push(ie(pe,xe));return Se},me=function(pe,he,xe,fe){var ye,je,ke;for(null==fe&&(fe=$),ye=pe[xe];xe>he;){if(ke=xe-1>>1,je=pe[ke],0>fe(ye,je)){pe[xe]=je,xe=ke;continue}break}return pe[xe]=ye},ge=function(pe,he,xe){var fe,ye,je,ke,we;for(null==xe&&(xe=$),ye=pe.length,we=he,je=pe[he],fe=2*he+1;fe<ye;)ke=fe+1,ke<ye&&!(0>xe(pe[fe],pe[ke]))&&(fe=ke),pe[he]=pe[fe],he=fe,fe=2*he+1;return pe[he]=je,me(pe,we,he,xe)},Z=function(){function pe(he){this.cmp=null==he?$:he,this.nodes=[]}return pe.push=ne,pe.pop=ie,pe.replace=se,pe.pushpop=oe,pe.heapify=te,pe.updateItem=ue,pe.nlargest=de,pe.nsmallest=ce,pe.prototype.push=function(he){return ne(this.nodes,he,this.cmp)},pe.prototype.pop=function(){return ie(this.nodes,this.cmp)},pe.prototype.peek=function(){return this.nodes[0]},pe.prototype.contains=function(he){return-1!==this.nodes.indexOf(he)},pe.prototype.replace=function(he){return se(this.nodes,he,this.cmp)},pe.prototype.pushpop=function(he){return oe(this.nodes,he,this.cmp)},pe.prototype.heapify=function(){return te(this.nodes,this.cmp)},pe.prototype.updateItem=function(he){return ue(this.nodes,he,this.cmp)},pe.prototype.clear=function(){return this.nodes=[]},pe.prototype.empty=function(){return 0===this.nodes.length},pe.prototype.size=function(){return this.nodes.length},pe.prototype.clone=function(){var he;return he=new pe,he.nodes=this.nodes.slice(0),he},pe.prototype.toArray=function(){return this.nodes.slice(0)},pe.prototype.insert=pe.prototype.push,pe.prototype.top=pe.prototype.peek,pe.prototype.front=pe.prototype.peek,pe.prototype.has=pe.prototype.contains,pe.prototype.copy=pe.prototype.clone,pe}(),function(pe,he){return E=[],O=he,G='function'==typeof O?O.apply(R,E):O,!(void 0!==G&&(I.exports=G))}(this,function(){return Z})}).call(this)},function(I,R,D){'use strict';function Z(ne){for(var oe=Array(ne[0].length),se=0;se<oe.length;++se)oe[se]=Array(ne.length);for(se=0;se<ne.length;++se)for(var ae=0;ae<ne[0].length;++ae)oe[ae][se]=ne[se][ae];return oe}const ie=D(2).array;I.exports={coordArrayToPoints:function(ne,oe){if(0!=ne.length%oe)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var se=ne.length/oe,ae=Array(se),le=0,de=0,ce;de<ne.length;de+=oe){ce=Array(oe);for(var ue=0;ue<oe;++ue)ce[ue]=ne[de+ue];ae[le]=ce,le++}return ae},coordArrayToCoordMatrix:function(ne,oe){if(0!=ne.length%oe)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var se=Array(oe),ae=ne.length/oe,le=0;le<se.length;le++)se[le]=Array(ae);for(le=0;le<ne.length;le+=oe)for(var de=0,ce;de<oe;++de)ce=Math.floor(le/oe),se[de][ce]=ne[le+de];return se},coordMatrixToCoordArray:function(ne){for(var oe=Array(ne.length*ne[0].length),se=0,ae=0;ae<ne[0].length;++ae)for(var le=0;le<ne.length;++le)oe[se]=ne[le][ae],++se;return oe},coordMatrixToPoints:Z,pointsToCoordArray:function(ne){for(var oe=Array(ne.length*ne[0].length),se=0,ae=0;ae<ne.length;++ae)for(var le=0;le<ne[0].length;++le)oe[se]=ne[ae][le],++se;return oe},pointsToCoordMatrix:Z,applyDotProduct:function(ne,oe){var se,ae;ne.length<=oe.length?(ae=ne,se=oe):(ae=oe,se=ne);for(var le=se.length-ae.length+1,de=Array(le),ce=0,ue;ce<le;++ce){ue=0;for(var me=0;me<ae.length;++me)ue+=ae[me]*se[ce+me];de[ce]=ue}return de},scale:function(ne,oe){var se=oe.inPlace?ne:Array(ne.length);const ae=oe.max,le=oe.min;if('number'==typeof ae){if('number'==typeof le)for(var de=ie.minMax(ne),ce=(ae-le)/(de.max-de.min),ue=0;ue<se.length;ue++)se[ue]=(ne[ue]-de.min)*ce+le;else for(var me=ie.max(ne),ce=ae/me,ue=0;ue<se.length;ue++)se[ue]=ne[ue]*ce;}else if('number'==typeof le)for(var me=ie.min(ne),ce=le/me,ue=0;ue<se.length;ue++)se[ue]=ne[ue]*ce;return se}}},function(I,R){'use strict';function E($,ee,te,ie,ne){function oe(qe,Ce,Ie,Re){return(Re-Ce)/(Ie-qe)}var se=$.length,ae=(ie-te)/(ne-1),de=te-ae/2,ce=Array(ne),ue=$[1]-$[0],me=$[$.length-1]-$[$.length-2],ge=de,pe=de+ae,he=Number.MIN_VALUE,xe=0,fe=$[0]-ue,ye=0,je=0,ke=0,we=0,be=0,ve=0,Me=0,ze=0;main:for(;;){for(;0<=fe-pe;){var Se=Z(0,pe-he,ke,xe);if(ve=je+Se,ce[ze]=(ve-be)/ae,ze++,ze===ne)break main;ge=pe,pe+=ae,be=ve}he<=ge&&ge<=fe&&(Se=Z(0,ge-he,ke,xe),be=je+Se),je+=Z(he,fe,ke,we),he=fe,xe=ye,Me<se?(fe=$[Me],ye=ee[Me],Me++):Me===se&&(fe+=me,ye=0),ke=oe(he,xe,fe,ye),we=-ke*he+xe}return ce}function G($,ee,te,ie,ne){var oe=$.length,se=(ie-te)/(ne-1),le=$[$.length-1]-$[$.length-2],de=te-se/2,ce=Array(ne),ue=de,me=de+se,ge=-Number.MAX_VALUE,pe=0,he=$[0],xe=ee[0],fe=0,ye=!0,je=0,ke=0,we=1,be=0;main:for(;;){if(ge>=he)throw new Error('x must be an increasing serie');for(;0<ge-me;){if(ye&&(ke++,ye=!1),ce[be]=0>=ke?0:je/ke,be++,be===ne)break main;ue=me,me+=se,je=0,ke=0}ge>ue&&(je+=pe,ke++),(ge==-Number.MAX_VALUE||1<fe)&&ke--,ge=he,pe=xe,we<oe?(he=$[we],xe=ee[we],we++):(he+=le,xe=0,fe++)}return ce}function Z($,ee,te,ie){return 0.5*te*ee*ee+ie*ee-(0.5*te*$*$+ie*$)}R.getEquallySpacedData=function($,ee,te){1<$.length&&$[0]>$[1]&&($=$.slice().reverse(),ee=ee.slice().reverse());var ie=$.length;if(ie!==ee.length)throw new RangeError('the x and y vector doesn\'t have the same size.');te===void 0&&(te={});var ne=te.from===void 0?$[0]:te.from;if(isNaN(ne)||!isFinite(ne))throw new RangeError('\'From\' value must be a number');var oe=te.to===void 0?$[$.length-1]:te.to;if(isNaN(oe)||!isFinite(oe))throw new RangeError('\'To\' value must be a number');var se=ne>oe;if(se){var ae=ne;ne=oe,oe=ae}var le=te.numberOfPoints===void 0?100:te.numberOfPoints;if(isNaN(le)||!isFinite(le))throw new RangeError('\'Number of points\' value must be a number');if(1>le)throw new RangeError('the number of point must be higher than 1');var de='slot'===te.variant?'slot':'smooth',ce='slot'==de?G($,ee,ne,oe,le):E($,ee,ne,oe,le);return se?ce.reverse():ce},R.integral=Z},function(I,R,D){'use strict';R.SNV=function(G){for(var Z=E.mean(G),$=E.standardDeviation(G),ee=G.slice(),te=0;te<G.length;te++)ee[te]=(ee[te]-Z)/$;return ee};var E=D(2).array},function(I){for(var D=Array(256),O=0;256>O;O++){for(var E=O,G=0;E;)E&=E-1,G++;D[O]=G}I.exports=D},function(I){'use strict';const O={mode:'index'};I.exports=function*(E,G,Z){function $(){var de,ce,ue;for(ce=1;0>=ne[ce];)ce++;if(0===ne[ce-1]){for(de=ce-1;1!==de;de--)ne[de]=-1;ne[ce]=0,oe=ae=0,ne[1]=1,se=ce-1}else{1<ce&&(ne[ce-1]=0);do ce++;while(0<ne[ce]);for(ue=ce-1,de=ce;0===ne[de];)ne[de++]=-1;if(-1===ne[de])ne[de]=ne[ue],ae=ne[ue]-1,oe=de-1,se=ue-1,ne[ue]=-1;else{if(de===ne[0])return 0;ne[ce]=ne[de],ae=ne[de]-1,ne[de]=0,oe=ce-1,se=de-1}}return 1}Z=Object.assign({},O,Z);for(var ee=Array(G),te=Array(E),ie=Array(G),ne=Array(G+2),le=0,oe,se,ae;le<G;le++)ee[le]=le,ie[le]=le<G-E?0:1;for(le=0;le<E;le++)te[le]=G-E+le;for(le=0;le<ne.length;le++)ne[le]=0===le?G+1:le<=G-E?0:le<=G?le-G+E:-2;if('index'===Z.mode)for(yield te.slice();$();)te[ae]=ee[oe],yield te.slice();else if('mask'===Z.mode)for(yield ie.slice();$();)ie[oe]=1,ie[se]=0,yield ie.slice();else throw new Error('Invalid mode')}},function(I){'use strict';class O{constructor(E,G){if(E.length!==E[0].length)throw new Error('Confusion matrix must be square');if(G.length!==E.length)throw new Error('Confusion matrix and labels should have the same length');this.labels=G,this.matrix=E}get accuracy(){for(var E=0,G=0,Z=0;Z<this.matrix.length;Z++)for(var $=0;$<this.matrix.length;$++)Z===$?E+=this.matrix[Z][$]:G+=this.matrix[Z][$];return E/(E+G)}get nbPredicted(){for(var E=0,G=0;G<this.matrix.length;G++)for(var Z=0;Z<this.matrix.length;Z++)E+=this.matrix[G][Z];return E}}I.exports=O},function(I,R,D){var O=D(0),E=D(22);I.exports={optimize:function($,ee,te,ie,ne,oe,se,ae,le,de){var ue=0;if('object'!=typeof ee[0])for(var me=0;me<ee.length;me++)ee[me]=[ee[me]];var pe=-50,he=ee.length,xe=ie.length,fe=O.zeros(he,1),ye=O.zeros(xe,1),je=0.01/pe,ke=0.01/pe,we=O.zeros(xe,he),me,ge;if(te.length!=ie.length){console.log('lm.m error: the length of t must equal the length of y_dat'),length_t=te.length,length_y_dat=ie.length;var je=0;return}ne=ne||Math.sqrt((xe-he+1)/E.multiply(E.transpose(ie),ie)),oe=oe||1e-3,se=se||E.multiply(Math.abs(ee),-100),ae=ae||E.multiply(Math.abs(ee),100),le=le||1,de=de||[3,10*he,1e-3,1e-3,1e-3,0.01,0.01,11,9,1];var qe=de[0],Ce=de[1],Ie=de[2],Re=de[3],De=de[4],Pe=de[5],Ve=de[6],Ae=de[7],_e=de[8],Oe=de[9];if(0,!oe.length||1==oe.length){for(var Le=Array(he),me=0;me<he;me++)Le[me]=[oe];oe=Le}var Ne=[];for(me=0;me<oe.length;me++)0!=oe[me][0]&&Ne.push(me);var Fe=Ne.length,Te=!1,Ue=null;if(!ne.length||ne.length<xe){var Xe=E.multiply(O.ones(xe,1),ne[0]);Ue=E.dotMultiply(Xe,Xe)}else Ue=E.dotMultiply(ne,ne);var We=this.lm_matx($,te,fe,ye,1,we,ee,ie,Ue,oe,le),Ee=We.JtWJ,Be=We.JtWdy,je=We.Chi_sq,Je=We.y_hat,we=We.J;Math.max(Math.abs(Be))<Ie&&(console.log(' *** Your Initial Guess is Extremely Close to Optimal ***'),console.log(' *** epsilon_1 = ',Ie),Te=!0),1===Oe?lambda=Ve:(lambda=Ve*Math.max(E.diag(Ee)),nu=2),ke=je;for(var Qe=null;!Te&&ue<=Ce;){++ue,Qe=1===Oe?E.solve(E.add(Ee,E.multiply(E.diag(E.diag(Ee)),lambda)),Be):E.solve(E.add(Ee,E.multiply(O.eye(he),lambda)),Be);var Ye=Array(Ne.length);for(ge=0;ge<Ne.length;ge++)Ye[ge]=Qe[Ne[ge]];var He=E.add(ee,Ye);for(ge=0;ge<He.length;ge++)He[ge][0]=Math.min(Math.max(se[ge][0],He[ge][0]),ae[ge][0]);var Ke=E.subtract(ie,$(te,He,le)),Ge=E.multiply(E.transpose(Ke),E.dotMultiply(Ke,Ue));if(2==Oe){var Ze=E.multiply(E.transpose(Be),Qe),$e=E.multiply(Ze,E.inv(E.add(E.multiply(E.subtract(Ge-je),1/2)),E.multiply(Ze,2)));Qe=E.multiply($e,Qe);for(var ge=0;ge<Ne.length;ge++)Ye[ge]=Qe[Ne[ge]];He=E.add(ee,Ye),He=E.min(E.max(se,He),ae),Ke=E.subtract(ie,$(te,He,le)),Ge=E.multiply(E.transpose(Ke),mat.dotMultiply(Ke,Ue))}var et=(je-Ge)/E.multiply(E.multiply(E.transpose(Qe),2),E.add(E.multiply(lambda,Qe),Be));et>Pe?(dX2=je-ke,ke=je,fe=ee,ye=Je,ee=He,We=this.lm_matx($,te,fe,ye,dX2,we,ee,ie,Ue,oe,le),Ee=We.JtWJ,Be=We.JtWdy,je=We.Chi_sq,Je=We.y_hat,we=We.J,1===Oe?lambda=Math.max(lambda/_e,1e-7):2===Oe?lambda=Math.max(lambda/(1+$e),1e-7):3===Oe?(lambda=E.multiply(Math.max(1/3,3^1-(2*et-1)),lambda),nu=2):void 0):(je=ke,0==ue%(2*he)&&(We=this.lm_matx($,te,fe,ye,-1,we,ee,ie,Ue,oe,le),Ee=We.JtWJ,Be=We.JtWdy,dX2=We.Chi_sq,Je=We.y_hat,we=We.J),1===Oe?lambda=Math.min(lambda*Ae,1e7):2===Oe?lambda+=Math.abs((Ge-je)/2/$e):3===Oe?(lambda*=nu,nu=2*nu):void 0)}return Ue=E.multiply(E.multiply(E.transpose(Ke),Ke),O.ones(xe,1)),Ue.apply(function(tt,it){Ue[tt][it]=(xe-Fe+1)/Ue[tt][it]}),We=this.lm_matx($,te,fe,ye,-1,we,ee,ie,Ue,oe,le),Ee=We.JtWJ,Be=We.JtWdy,je=We.Chi_sq,Je=We.y_hat,we=We.J,{p:ee,X2:je}},lm_FD_J:function($,ee,te,ie,ne,oe){var se=ie.length,ae=te.length;ne=ne||E.multiply(O.ones(ae,1),1e-3);for(var le=te.clone(),de=new O(se,ae),ce=Array(ae),ue=0;ue<ae;ue++){if(ce[ue]=ne[ue]*(1+Math.abs(te[ue][0])),te[ue]=[le[ue][0]+ce[ue]],0!=ce[ue])if(y1=$(ee,te,oe),0>ne[ue][0])for(var me=E.dotDivide(E.subtract(y1,ie),ce[ue]),ge=0;ge<se;ge++)de[ge][ue]=me[ge][0];else{te[ue][0]=le[ue][0]-ce[ue];for(var me=E.dotDivide(E.subtract(y1,$(ee,te,oe)),2*ce[ue]),ge=0;ge<se;ge++)de[ge][ue]=me[ge][0]}te[ue]=le[ue]}return de},lm_Broyden_J:function($,ee,te,ie,ne){var oe=E.subtract(ie,$),se=E.transpose(oe);return se.div(E.multiply(se,oe)),te=E.add(te,E.multiply(E.subtract(ne,E.add(ee,E.multiply(te,oe))),se)),te},lm_matx:function($,ee,te,ie,ne,oe,se,ae,le,de,ce,ue){var me=ae.length,ge=se.length;de=de||1e-3;var pe=$(ee,se,ce);oe=0==ue%(2*ge)||0<ne?this.lm_FD_J($,ee,se,pe,de,ce):this.lm_Broyden_J(te,ie,oe,se,pe);var he=E.subtract(ae,pe),xe=E.multiply(E.transpose(he),E.dotMultiply(he,le)),fe=E.transpose(oe),ye=E.multiply(fe,E.dotMultiply(oe,E.multiply(le,O.ones(1,ge)))),je=E.multiply(fe,E.dotMultiply(le,he));return{JtWJ:ye,JtWdy:je,Chi_sq:xe,y_hat:pe,J:oe}}}},function(I,R,D){'use strict';R.additiveSymmetric=D(73),R.avg=D(74),R.bhattacharyya=D(75),R.canberra=D(76),R.chebyshev=D(77),R.clark=D(78),R.czekanowski=D(79),R.dice=D(23),R.divergence=D(80),R.euclidean=D(1),R.fidelity=D(81),R.gower=D(82),R.harmonicMean=D(83),R.hellinger=D(84),R.innerProduct=D(85),R.intersection=D(24),R.jaccard=D(25),R.jeffreys=D(86),R.jensenDifference=D(87),R.jensenShannon=D(88),R.kdivergence=D(89),R.kulczynski=D(26),R.kullbackLeibler=D(90),R.kumarHassebrook=D(91),R.kumarJohnson=D(92),R.lorentzian=D(93),R.manhattan=D(94),R.matusita=D(95),R.minkowski=D(96),R.motyka=D(27),R.neyman=D(97),R.pearson=D(98),R.probabilisticSymmetric=D(99),R.ruzicka=D(100),R.soergel=D(101),R.sorensen=D(102),R.squared=D(103),R.squaredChord=D(28),R.squaredEuclidean=D(1).squared,R.taneja=D(104),R.tanimoto=D(105),R.topsoe=D(106),R.tree=D(161),R.waveHedges=D(107)},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])*(O[G]+E[G])/(O[G]*E[G]);return 2*$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)ee=Math.abs(O[te]-E[te]),$+=ee,Z<ee&&(Z=ee);return(Z+$)/2}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return-Math.log(Z)}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.abs(O[$]-E[$])/(O[$]+E[$]);return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)$=Math.abs(O[ee]-E[ee]),Z<$&&(Z=$);return Z}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=Math.sqrt((O[G]-E[G])*(O[G]-E[G])/((O[G]+E[G])*(O[G]+E[G])));return 2*$}},function(I,R,D){'use strict';const O=D(30);I.exports=function(G,Z){return 1-O(G,Z)}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/((O[G]+E[G])*(O[G]+E[G]));return 2*$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.abs(O[$]-E[$]);return Z/G}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*E[$]/(O[$]+E[$]);return 2*Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return 2*Math.sqrt(1-Z)}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*E[$];return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(O[$]-E[$])*Math.log(O[$]/E[$]);return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(O[$]*Math.log(O[$])+E[$]*Math.log(E[$]))/2-(O[$]+E[$])/2*Math.log((O[$]+E[$])/2);return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=O[ee]*Math.log(2*O[ee]/(O[ee]+E[ee])),$+=E[ee]*Math.log(2*E[ee]/(O[ee]+E[ee]));return(Z+$)/2}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*Math.log(2*O[$]/(O[$]+E[$]));return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*Math.log(O[$]/E[$]);return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0,te=0;te<G;te++)Z+=O[te]*E[te],$+=O[te]*O[te],ee+=E[te]*E[te];return Z/($+ee-Z)}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.pow(O[$]*O[$]-E[$]*E[$],2)/(2*Math.pow(O[$]*E[$],1.5));return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.log(Math.abs(O[$]-E[$])+1);return Z}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=Math.abs(O[G]-E[G]);return $}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=Math.sqrt(O[$]*E[$]);return Math.sqrt(2-2*Z)}},function(I){I.exports=function(O,E,G){for(var Z=0,$=O.length,ee=0;Z<$;Z++)ee+=Math.pow(Math.abs(O[Z]-E[Z]),G);return Math.pow(ee,1/G)}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/O[G];return $}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/E[G];return $}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/(O[G]+E[G]);return 2*$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.min(O[ee],E[ee]),$+=Math.max(O[ee],E[ee]);return Z/$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.abs(O[ee]-E[ee]),$+=Math.max(O[ee],E[ee]);return Z/$}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0,ee=0;ee<G;ee++)Z+=Math.abs(O[ee]-E[ee]),$+=O[ee]+E[ee];return Z/$}},function(I){I.exports=function(O,E){for(var G=0,Z=O.length,$=0;G<Z;G++)$+=(O[G]-E[G])*(O[G]-E[G])/(O[G]+E[G]);return $}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=(O[$]+E[$])/2*Math.log((O[$]+E[$])/(2*Math.sqrt(O[$]*E[$])));return Z}},function(I,R,D){var O=D(31);I.exports=function(G,Z,$){if($)return 1-O(G,Z,$);for(var ee=G.length,te=0,ie=0,ne=0,oe=0;oe<ee;oe++)te+=G[oe],ie+=Z[oe],ne+=Math.min(G[oe],Z[oe]);return(te+ie-2*ne)/(te+ie-ne)}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=O[$]*Math.log(2*O[$]/(O[$]+E[$]))+E[$]*Math.log(2*E[$]/(O[$]+E[$]));return Z}},function(I){I.exports=function(O,E){for(var G=O.length,Z=0,$=0;$<G;$++)Z+=1-Math.min(O[$],E[$])/Math.max(O[$],E[$]);return Z}},function(I,R,D){'use strict';R.cosine=D(29),R.czekanowski=D(30),R.dice=D(109),R.intersection=D(110),R.jaccard=D(111),R.kulczynski=D(112),R.motyka=D(113),R.pearson=D(114),R.squaredChord=D(115),R.tanimoto=D(31)},function(I,R,D){var O=D(23);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){var O=D(24);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){var O=D(25);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){var O=D(26);I.exports=function(G,Z){return 1/O(G,Z)}},function(I,R,D){var O=D(27);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){'use strict';var O=D(2).array,E=D(29);I.exports=function(Z,$){for(var ee=O.mean(Z),te=O.mean($),ie=Array(Z.length),ne=Array($.length),oe=0;oe<ie.length;oe++)ie[oe]=Z[oe]-ee,ne[oe]=$[oe]-te;return E(ie,ne)}},function(I,R,D){var O=D(28);I.exports=function(G,Z){return 1-O(G,Z)}},function(I,R,D){'use strict';var O=D(32);class E extends O{constructor(G){super(G),this.activationFunction=function(Z,$){this[Z][$]=Math.exp(this[Z][$])}}static load(G){if('Layer'!==G.model)throw new RangeError('the current model is not a Layer model');return new E(G)}}I.exports=E},function(I,R,D){const E=D(15),G=D(21).asc,Z=2147483647,$=[Z,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];$.sort(G),R.nextPrime=function(ee){let te=E($,ee,G);return 0>te&&(te=~te),$[te]},R.largestPrime=Z},function(I,R,D){'use strict';function O(le,de,ce){for(var ue=1e101,me=0;me<le.length;me++)for(var ge=0,pe;ge<de.length;ge++)pe=ce[le[me]][de[ge]],ue=Math.min(pe,ue);return ue}function E(le,de,ce){for(var ue=-1,me=0;me<le.length;me++)for(var ge=0,pe;ge<de.length;ge++)pe=ce[le[me]][de[ge]],ue=Math.max(pe,ue);return ue}function G(le,de,ce){for(var ue=0,me=0;me<le.length;me++)for(var ge=0;ge<de.length;ge++)ue+=ce[le[me]][de[ge]];return ue/(le.length*de.length)}function Z(le,de,ce){for(var me=Array(le.length*de.length),ge=0;ge<le.length;ge++)for(var pe=0;pe<de.length;pe++)me[ge*le.length+pe]=ce[le[ge]][de[pe]];return te(me)}function $(le,de,ce){return Z(le,de,ce)*le.length*de.length/(le.length+de.length)}function ee(le,de){return le-de}function te(le,de){de===void 0&&(de=!1),de||(le=[].concat(le).sort(ee));var ce=le.length,ue=Math.floor(ce/2);return 0==ce%2?0.5*(le[ue-1]+le[ue]):le[ue]}var ne=D(1),oe=D(35),se=D(10),ae={disFunc:ne,kind:'single',isDistanceMatrix:!1};I.exports=function(le,de){de=Object.assign({},ae,de);var ce=le.length,ue=le;if(!de.isDistanceMatrix){ue=Array(ce);for(var me=0;me<ce;me++){ue[me]=Array(ce);for(var ge=0;ge<ce;ge++)ue[me][ge]=de.disFunc(le[me],le[ge])}}if('string'==typeof de.kind)switch(de.kind){case'single':de.kind=O;break;case'complete':de.kind=E;break;case'average':de.kind=G;break;case'centroid':de.kind=Z;break;case'ward':de.kind=$;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof de.kind)throw new TypeError('Undefined kind of similarity');for(var pe=Array(ce),me=0;me<ue.length;me++)pe[me]=new oe(me);for(var he=1e6,xe={},fe=0;1<pe.length;){xe={},he=1e6;for(var ge=0;ge<pe.length;ge++)for(var ye=ge+1;ye<pe.length;ye++){var je,ke;if(pe[ge]instanceof oe)je=[pe[ge].index];else{je=Array(pe[ge].index.length);for(var we=0;we<je.length;we++)je[we]=pe[ge].index[we].index}if(pe[ye]instanceof oe)ke=[pe[ye].index];else{ke=Array(pe[ye].index.length);for(var be=0;be<ke.length;be++)ke[be]=pe[ye].index[be].index}fe=de.kind(je,ke,ue).toFixed(4),fe in xe?xe[fe].push([pe[ge],pe[ye]]):xe[fe]=[[pe[ge],pe[ye]]],he=Math.min(fe,he)}for(var ve=xe[he.toFixed(4)],Me=Array(ve.length),Se=0,ze;0<ve.length;){ze=ve.shift();for(var qe=0,Ce;qe<ve.length;qe++)if(Ce=ve[qe].filter(function(Ae){return-1!==ze.indexOf(Ae)}),0<Ce.length){var Ie=ve[qe].filter(function(Ae){return-1===ze.indexOf(Ae)});ze=ze.concat(Ie),ve.splice(qe--,1)}Me[Se++]=ze}Me.length=Se;for(var Re=0,De;Re<Me.length;Re++){De=new se,De.children=Me[Re].concat(),De.distance=he,De.index=Array(ce);for(var Pe=0,Ve=0;Ve<Me[Re].length;Ve++)Me[Re][Ve]instanceof oe?De.index[Pe++]=Me[Re][Ve]:(Pe+=Me[Re][Ve].index.length,De.index=Me[Re][Ve].index.concat(De.index)),pe.splice(pe.indexOf(Me[Re][Ve]),1);De.index.length=Pe,pe.push(De)}}return pe[0]}},function(I,R,D){'use strict';function O(le,de,ce){for(var ue=1e101,me=0;me<le.length;me++)for(var ge=me,pe;ge<de.length;ge++)pe=ce(le[me],de[ge]),ue=Math.min(pe,ue);return ue}function E(le,de,ce){for(var ue=-1,me=0;me<le.length;me++)for(var ge=me,pe;ge<de.length;ge++)pe=ce(le[me],de[ge]),ue=Math.max(pe,ue);return ue}function G(le,de,ce){for(var ue=0,me=0;me<le.length;me++)for(var ge=0;ge<de.length;ge++)ue+=ce(le[me],de[ge]);return ue/(le.length*de.length)}function Z(le,de,ce){for(var ue=0,me=0,ge=0,pe=0,he=0;he<le.length;he++)ue+=le[he][0],me+=le[he][1];for(var xe=0;xe<de.length;xe++)ge+=de[xe][0],pe+=de[xe][1];return ue/=le.length,me/=le.length,ge/=de.length,pe/=de.length,ce([ue,me],[ge,pe])}function $(le,de,ce){for(var ue=0,me=0,ge=0,pe=0,he=0;he<le.length;he++)ue+=le[he][0],me+=le[he][1];for(var xe=0;xe<de.length;xe++)ge+=de[xe][0],pe+=de[xe][1];return ue/=le.length,me/=le.length,ge/=de.length,pe/=de.length,ce([ue,me],[ge,pe])*le.length*de.length/(le.length+de.length)}function ee(le,de,ce){for(var ue={d:0,p:0},me=Array(le[0].length),ge=0;ge<le[0].length;ge++)me[ge]=de[le[0][ge]];for(var pe=Array(le[1].length),he=0;he<le[1].length;he++)pe[he]=de[le[1][he]];for(var ye=0,xe,fe;ye<me.length;ye++){xe=0;for(var je=0;je<me.length;je++)ye!==je&&(xe+=ce(me[ye],me[je]));xe/=me.length-1,fe=0;for(var ke=0;ke<pe.length;ke++)fe+=ce(me[ye],pe[ke]);fe/=pe.length,xe-fe>ue.d&&(ue.d=xe-fe,ue.p=ye)}return ue}function te(le,de,ce){for(var ue=0,me=0,ge=0;ge<le.length;ge++)for(var pe=ge;pe<le.length;pe++)ue+=ce(de[le[ge].index],de[le[pe].index]),me++;return ue/me}var ne=D(1),oe=D(35),se=D(10),ae={dist:ne,kind:'single'};I.exports=function(le,de){for(var ce in de=de||{},ae)de.hasOwnProperty(ce)||(de[ce]=ae[ce]);if('string'==typeof de.kind)switch(de.kind){case'single':de.kind=O;break;case'complete':de.kind=E;break;case'average':de.kind=G;break;case'centroid':de.kind=Z;break;case'ward':de.kind=$;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof de.kind)throw new TypeError('Undefined kind of similarity');var ue=new se;ue.children=Array(le.length),ue.index=Array(le.length);for(var me=0;me<le.length;me++)ue.children[me]=new oe(me),ue.index[me]=new oe(me);ue.distance=te(ue.index,le,de.dist);for(var ye=[ue],ge,pe,he,xe,fe;0<ye.length;){pe=0,he=0;for(var je=0;je<ye.length;je++){ge=0;for(var ke=0;ke<ye[je].length;ke++)for(var we=ke+1;we<ye[je].length;we++)ge=Math.max(de.dist(le[ye[je].index[ke].index],le[ye[je].index[we].index]),ge);ge>pe&&(pe=ge,he=je)}if(pe=0,2===ye[he].index.length)ye[he].children=[ye[he].index[0],ye[he].index[1]],ye[he].distance=de.dist(le[ye[he].index[0].index],le[ye[he].index[1].index]);else if(3===ye[he].index.length){ye[he].children=[ye[he].index[0],ye[he].index[1],ye[he].index[2]];var be=[de.dist(le[ye[he].index[0].index],le[ye[he].index[1].index]),de.dist(le[ye[he].index[1].index],le[ye[he].index[2].index])];ye[he].distance=(be[0]+be[1])/2}else{for(var ve=new se,Me=new se,ze=[Array(ye[he].index.length),[]],Se=0;Se<ze[0].length;Se++)ze[0][Se]=Se;for(var qe=0;qe<ze[0].length;qe++){xe=0;for(var Ce=0;Ce<ze[0].length;Ce++)qe!==Ce&&(xe+=de.dist(le[ye[he].index[ze[0][Ce]].index],le[ye[he].index[ze[0][qe]].index]));xe/=ze[0].length-1,xe>pe&&(pe=xe,fe=qe)}for(ze[1]=[fe],ze[0].splice(fe,1),xe=ee(ze,le,de.dist);0<xe.d;)ze[1].push(ze[0][xe.p]),ze[0].splice(xe.p,1),xe=ee(ze,le,de.dist);var Ie=Array(ze[0].length);ve.index=Array(ze[0].length);for(var Re=0;Re<Ie.length;Re++)Ie[Re]=le[ye[he].index[ze[0][Re]].index],ve.index[Re]=ye[he].index[ze[0][Re]],ve.children[Re]=ye[he].index[ze[0][Re]];var De=Array(ze[1].length);Me.index=Array(ze[1].length);for(var Pe=0;Pe<De.length;Pe++)De[Pe]=le[ye[he].index[ze[1][Pe]].index],Me.index[Pe]=ye[he].index[ze[1][Pe]],Me.children[Pe]=ye[he].index[ze[1][Pe]];ve.distance=te(ve.index,le,de.dist),Me.distance=te(Me.index,le,de.dist),ye.push(ve),ye.push(Me),ye[he].children=[ve,Me]}ye.splice(he,1)}return ue}},function(I,R,D){'use strict';const O=D(1).squared,E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma,this.divisor=2*Z.sigma*Z.sigma}compute(Z,$){const ee=O(Z,$);return Math.exp(-ee/this.divisor)}}},function(I){'use strict';const O={degree:1,constant:1,scale:1};I.exports=class{constructor(G){G=Object.assign({},O,G),this.degree=G.degree,this.constant=G.constant,this.scale=G.scale}compute(G,Z){for(var $=0,ee=0;ee<G.length;ee++)$+=G[ee]*Z[ee];return Math.pow(this.scale*$+this.constant,this.degree)}}},function(I){'use strict';const O={alpha:0.01,constant:-Math.E};I.exports=class{constructor(G){G=Object.assign({},O,G),this.alpha=G.alpha,this.constant=G.constant}compute(G,Z){for(var $=0,ee=0;ee<G.length;ee++)$+=G[ee]*Z[ee];return Math.tanh(this.alpha*$+this.constant)}}},function(I){'use strict';const O={sigma:1,degree:1};I.exports=class{constructor(G){G=Object.assign({},O,G),this.sigma=G.sigma,this.degree=G.degree}compute(G,Z){for(var $=0,ee=Math.min(G.length,Z.length),te=1;te<=ee;++te)$+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(G[te-1],te)-Math.pow(Z[te-1],te),2)),this.degree);return $}}},function(I,R,D){'use strict';const O=D(1).squared,E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma}compute(Z,$){return 1/(1+O(Z,$)/(this.sigma*this.sigma))}}},function(I,R,D){'use strict';const O=D(1),E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma,this.divisor=2*Z.sigma*Z.sigma}compute(Z,$){const ee=O(Z,$);return Math.exp(-ee/this.divisor)}}},function(I){'use strict';I.exports=class{compute(E,G){for(var Z=Math.min(E.length,G.length),$=0,ee=0;ee<Z;++ee)$+=Math.min(E[ee],G[ee]);return $}}},function(I,R,D){'use strict';const O=D(1),E={sigma:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.sigma=Z.sigma}compute(Z,$){const ee=O(Z,$);return Math.exp(-ee/this.sigma)}}},function(I,R,D){'use strict';const O=D(1).squared,E={constant:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.constant=Z.constant}compute(Z,$){return Math.sqrt(O(Z,$)+this.constant*this.constant)}}},function(I,R,D){'use strict';const O=D(1).squared,E={constant:1};I.exports=class{constructor(Z){Z=Object.assign({},E,Z),this.constant=Z.constant}compute(Z,$){const ee=O(Z,$);return 1-ee/(ee+this.constant)}}},function(I,R,D){'use strict';function O(Z,$,ee,te,ie){this.clusters=Z,this.centroids=$,this.converged=ee,this.iterations=te,this[G]=ie}const E=D(36),G=Symbol('distance');O.prototype.nearest=function(Z){var $=Array(Z.length),ee=this.centroids.map(function(te){return te.centroid});return E.updateClusterID(Z,ee,$,this[G])},O.prototype.computeInformation=function(Z){for(var $=this.centroids.map(function(ie){return{centroid:ie,error:0,size:0}}),ee=0;ee<Z.length;ee++)$[this.clusters[ee]].error+=this[G](Z[ee],this.centroids[this.clusters[ee]]),$[this.clusters[ee]].size++;for(var te=0;te<this.centroids.length;te++)$[te].error/=$[te].size;return new O(this.clusters,$,this.converged,this.iterations,this[G])},I.exports=O},function(I,R,D){'use strict';const G=D(62).Picker;R.random=function(Z,$){const ee=new G(Z);for(var te=Array($),ie=0;ie<$;++ie)te[ie]=ee.pick();return te},R.mostDistant=function(Z,$,ee){var te=Array($);if(te[0]=Math.floor(Math.random()*Z.length),1<$){for(var ie={dist:-1,index:-1},ne=0;ne<Z.length;++ne)ee[te[0]][ne]>ie.dist&&(ie.dist=ee[te[0]][ne],ie.index=ne);if(te[1]=ie.index,2<$)for(var oe=2,se;oe<$;++oe){se={dist:-1,index:-1};for(var ae=0,le;ae<Z.length;++ae){le={dist:Number.MAX_VALUE,index:-1};for(var de=0;de<oe;++de)ee[de][ae]<le.dist&&-1===te.indexOf(ae)&&(le={dist:ee[de][ae],index:ae});le.dist!==Number.MAX_VALUE&&le.dist>se.dist&&(se=Object.assign({},le))}te[oe]=se.index}}return te.map(ce=>Z[ce])}},function(I,R){'use strict';/**
* k-d Tree JavaScript - V 1.01
*
* https://github.com/ubilabs/kd-tree-javascript
*
* @author Mircea Pricop <pricop@ubilabs.net>, 2012
* @author Martin Kleppe <kleppe@ubilabs.net>, 2012
* @author Ubilabs http://ubilabs.net, 2012
* @license MIT License <http://www.opensource.org/licenses/mit-license.php>
*/function O(Z,$,ee){this.obj=Z,this.left=null,this.right=null,this.parent=ee,this.dimension=$}function E(Z,$,ee){function te(oe,se,ae){var le=se%ee.length,de,ce;return 0===oe.length?null:1===oe.length?new O(oe[0],le,ae):(oe.sort(function(ue,me){return ue[ee[le]]-me[ee[le]]}),de=Math.floor(oe.length/2),ce=new O(oe[de],le,ae),ce.left=te(oe.slice(0,de),se+1,ce),ce.right=te(oe.slice(de+1),se+1,ce),ce)}var ne=this;Array.isArray(Z)?this.root=te(Z,0,null):function(oe){function se(ae){ae.left&&(ae.left.parent=ae,se(ae.left)),ae.right&&(ae.right.parent=ae,se(ae.right))}ne.root=oe,se(ne.root)}(Z,$,ee),this.toJSON=function(oe){oe||(oe=this.root);var se=new O(oe.obj,oe.dimension,null);return oe.left&&(se.left=ne.toJSON(oe.left)),oe.right&&(se.right=ne.toJSON(oe.right)),se},this.insert=function(oe){function se(ce,ue){if(null===ce)return ue;var me=ee[ce.dimension];return oe[me]<ce.obj[me]?se(ce.left,ce):se(ce.right,ce)}var ae=se(this.root,null),le,de;return null===ae?void(this.root=new O(oe,0,null)):void(le=new O(oe,(ae.dimension+1)%ee.length,ae),de=ee[ae.dimension],oe[de]<ae.obj[de]?ae.left=le:ae.right=le)},this.remove=function(oe){function se(de){if(null===de)return null;if(de.obj===oe)return de;var ce=ee[de.dimension];return oe[ce]<de.obj[ce]?se(de.left,de):se(de.right,de)}function ae(de){function ce(pe,he){var xe,fe,ye,je,ke;return null===pe?null:(xe=ee[he],pe.dimension===he)?null===pe.left?pe:ce(pe.left,he):(fe=pe.obj[xe],ye=ce(pe.left,he),je=ce(pe.right,he),ke=pe,null!==ye&&ye.obj[xe]<fe&&(ke=ye),null!==je&&je.obj[xe]<ke.obj[xe]&&(ke=je),ke)}var ue,me,ge;return null===de.left&&null===de.right?null===de.parent?void(ne.root=null):(ge=ee[de.parent.dimension],void(de.obj[ge]<de.parent.obj[ge]?de.parent.left=null:de.parent.right=null)):void(null===de.right?(ue=ce(de.left,de.dimension),me=ue.obj,ae(ue),de.right=de.left,de.left=null,de.obj=me):(ue=ce(de.right,de.dimension),me=ue.obj,ae(ue),de.obj=me))}var le=se(ne.root);null===le||ae(le)},this.nearest=function(oe,se,ae){function le(me){function ge(we,be){ue.push([we,be]),ue.size()>se&&ue.pop()}var he=ee[me.dimension],xe=$(oe,me.obj),fe={},pe,ye,je,ke;for(ke=0;ke<ee.length;ke+=1)fe[ee[ke]]=ke===me.dimension?oe[ee[ke]]:me.obj[ee[ke]];return ye=$(fe,me.obj),null===me.right&&null===me.left?void((ue.size()<se||xe<ue.peek()[1])&&ge(me,xe)):void(pe=null===me.right?me.left:null===me.left?me.right:oe[he]<me.obj[he]?me.left:me.right,le(pe),(ue.size()<se||xe<ue.peek()[1])&&ge(me,xe),(ue.size()<se||Math.abs(ye)<ue.peek()[1])&&(je=pe===me.left?me.right:me.left,null!==je&&le(je)))}var de,ce,ue;if(ue=new G(function(me){return-me[1]}),ae)for(de=0;de<se;de+=1)ue.push([null,ae]);for(ne.root&&le(ne.root),ce=[],de=0;de<Math.min(se,ue.content.length);de+=1)ue.content[de][0]&&ce.push([ue.content[de][0].obj,ue.content[de][1]]);return ce},this.balanceFactor=function(){function oe(ae){return null===ae?0:Math.max(oe(ae.left),oe(ae.right))+1}function se(ae){return null===ae?0:se(ae.left)+se(ae.right)+1}return oe(ne.root)/(Math.log(se(ne.root))/Math.log(2))}}function G(Z){this.content=[],this.scoreFunction=Z}G.prototype={push:function(Z){this.content.push(Z),this.bubbleUp(this.content.length-1)},pop:function(){var Z=this.content[0],$=this.content.pop();return 0<this.content.length&&(this.content[0]=$,this.sinkDown(0)),Z},peek:function(){return this.content[0]},remove:function(Z){for(var $=this.content.length,ee=0;ee<$;ee++)if(this.content[ee]==Z){var te=this.content.pop();return void(ee!=$-1&&(this.content[ee]=te,this.scoreFunction(te)<this.scoreFunction(Z)?this.bubbleUp(ee):this.sinkDown(ee)))}throw new Error('Node not found.')},size:function(){return this.content.length},bubbleUp:function(Z){for(var $=this.content[Z];0<Z;){var ee=Math.floor((Z+1)/2)-1,te=this.content[ee];if(this.scoreFunction($)<this.scoreFunction(te))this.content[ee]=$,this.content[Z]=te,Z=ee;else break}},sinkDown:function(Z){for(var $=this.content.length,ee=this.content[Z],te=this.scoreFunction(ee);;){var ie=2*(Z+1),ne=ie-1,oe=null;if(ne<$){var se=this.content[ne],ae=this.scoreFunction(se);ae<te&&(oe=ne)}if(ie<$){var le=this.content[ie],de=this.scoreFunction(le);de<(null==oe?te:ae)&&(oe=ie)}if(null!=oe)this.content[Z]=this.content[oe],this.content[oe]=ee,Z=oe;else break}}},this.kdTree=E,R.kdTree=E,R.BinaryHeap=G},function(I,R,D){'use strict';function O(Z,$){Z&&(this.kdtree=$.kdtree,this.k=$.k,this.classes=$.classes)}I.exports=O;var E=D(132).kdTree,G=D(18);O.prototype.train=function(Z,$,ee){ee===void 0&&(ee={}),ee.distance===void 0&&(ee.distance=G.distance.euclidean),ee.k===void 0&&(ee.k=Z[0].length+1);for(var te=0,ie=Array(1e3),ne=0,oe=0;oe<$.length;++oe)-1===ie.indexOf($[oe])&&(te++,ie[ne]=$[oe],ne++);var se=Array(Z.length);for(oe=0;oe<se.length;++oe)se[oe]=Z[oe].slice();for(this.features=Z[0].length,oe=0;oe<$.length;++oe)se[oe].push($[oe]);var ae=Array(Z[0].length);for(oe=0;oe<ae.length;++oe)ae[oe]=oe;this.kdtree=new E(se,ee.distance,ae),this.k=ee.k,this.classes=te},O.prototype.predict=function(Z){for(var $=Array(Z.length),ee=0;ee<Z.length;++ee)$[ee]=this.getSinglePrediction(Z[ee]);return $},O.prototype.getSinglePrediction=function(Z){for(var $=this.kdtree.nearest(Z,this.k),ee=Array(this.classes),te=-1,ie=-1,ne=$[0][0].length-1,oe=0;oe<ee.length;++oe)ee[oe]=0;for(oe=0;oe<$.length;++oe){var se=$[oe][0][ne],ae=++ee[se];ae>ie&&(te=se,ie=ae)}return te},O.load=function(Z){if('KNN'!==Z.modelName)throw new RangeError('The given model is invalid!');return new O(!0,Z)},O.prototype.export=function(){return{modelName:'KNN',kdtree:this.kdtree,k:this.k,classes:this.classes}}},function(I,R,D){'use strict';function O(G){if(!(this instanceof O))return new O(G);if(G=E.checkMatrix(G),!G.isSymmetric())throw new Error('Matrix is not symmetric');var Z=G,$=Z.rows,ee=new E($,$),te=!0,ie,ne,oe;for(ne=0;ne<$;ne++){var se=ee[ne],ae=0;for(oe=0;oe<ne;oe++){var le=ee[oe],de=0;for(ie=0;ie<oe;ie++)de+=le[ie]*se[ie];se[oe]=de=(Z[ne][oe]-de)/ee[oe][oe],ae+=de*de}for(ae=Z[ne][ne]-ae,te&=0<ae,ee[ne][ne]=Math.sqrt(Math.max(ae,0)),oe=ne+1;oe<$;oe++)ee[ne][oe]=0}if(!te)throw new Error('Matrix is not positive definite');this.L=ee}var E=D(3).Matrix;O.prototype={get lowerTriangularMatrix(){return this.L},solve:function(G){G=E.checkMatrix(G);var Z=this.L,$=Z.rows;if(G.rows!==$)throw new Error('Matrix dimensions do not match');var ee=G.columns,te=G.clone(),ie,ne,oe;for(oe=0;oe<$;oe++)for(ne=0;ne<ee;ne++){for(ie=0;ie<oe;ie++)te[oe][ne]-=te[ie][ne]*Z[oe][ie];te[oe][ne]/=Z[oe][oe]}for(oe=$-1;0<=oe;oe--)for(ne=0;ne<ee;ne++){for(ie=oe+1;ie<$;ie++)te[oe][ne]-=te[ie][ne]*Z[ie][oe];te[oe][ne]/=Z[oe][oe]}return te}},I.exports=O},function(I,R,D){'use strict';function O(ae,le){if(le=Object.assign({},se,le),!(this instanceof O))return new O(ae,le);if(ae=te.checkMatrix(ae),!ae.isSquare())throw new Error('Matrix is not a square matrix');var de=ae.columns,ce=oe(de,de,0),ue=Array(de),me=Array(de),ge=ae,xe=!1,pe,he;if(xe=!!le.assumeSymmetric||ae.isSymmetric(),xe){for(pe=0;pe<de;pe++)for(he=0;he<de;he++)ce[pe][he]=ge.get(pe,he);E(de,me,ue,ce),G(de,me,ue,ce)}else{var fe=oe(de,de,0),ye=Array(de);for(he=0;he<de;he++)for(pe=0;pe<de;pe++)fe[pe][he]=ge.get(pe,he);Z(de,fe,ye,ce),$(de,me,ue,ce,fe)}this.n=de,this.e=me,this.d=ue,this.V=ce}function E(ae,le,de,ce){var ue,me,ge,pe,he,xe,fe,ye;for(he=0;he<ae;he++)de[he]=ce[ae-1][he];for(pe=ae-1;0<pe;pe--){for(ye=0,ge=0,xe=0;xe<pe;xe++)ye+=Math.abs(de[xe]);if(0===ye)for(le[pe]=de[pe-1],he=0;he<pe;he++)de[he]=ce[pe-1][he],ce[pe][he]=0,ce[he][pe]=0;else{for(xe=0;xe<pe;xe++)de[xe]/=ye,ge+=de[xe]*de[xe];for(ue=de[pe-1],me=Math.sqrt(ge),0<ue&&(me=-me),le[pe]=ye*me,ge-=ue*me,de[pe-1]=ue-me,he=0;he<pe;he++)le[he]=0;for(he=0;he<pe;he++){for(ue=de[he],ce[he][pe]=ue,me=le[he]+ce[he][he]*ue,xe=he+1;xe<=pe-1;xe++)me+=ce[xe][he]*de[xe],le[xe]+=ce[xe][he]*ue;le[he]=me}for(ue=0,he=0;he<pe;he++)le[he]/=ge,ue+=le[he]*de[he];for(fe=ue/(ge+ge),he=0;he<pe;he++)le[he]-=fe*de[he];for(he=0;he<pe;he++){for(ue=de[he],me=le[he],xe=he;xe<=pe-1;xe++)ce[xe][he]-=ue*le[xe]+me*de[xe];de[he]=ce[pe-1][he],ce[pe][he]=0}}de[pe]=ge}for(pe=0;pe<ae-1;pe++){if(ce[ae-1][pe]=ce[pe][pe],ce[pe][pe]=1,ge=de[pe+1],0!==ge){for(xe=0;xe<=pe;xe++)de[xe]=ce[xe][pe+1]/ge;for(he=0;he<=pe;he++){for(me=0,xe=0;xe<=pe;xe++)me+=ce[xe][pe+1]*ce[xe][he];for(xe=0;xe<=pe;xe++)ce[xe][he]-=me*de[xe]}}for(xe=0;xe<=pe;xe++)ce[xe][pe+1]=0}for(he=0;he<ae;he++)de[he]=ce[ae-1][he],ce[ae-1][he]=0;ce[ae-1][ae-1]=1,le[0]=0}function G(ae,le,de,ce){var ue,me,ge,pe,he,xe,fe,ye,je,ke,we,be,ve,Me,ze,Se,qe;for(ge=1;ge<ae;ge++)le[ge-1]=le[ge];le[ae-1]=0;var Ce=0,Ie=0,Re=Math.pow(2,-52);for(xe=0;xe<ae;xe++){for(Ie=Math.max(Ie,Math.abs(de[xe])+Math.abs(le[xe])),fe=xe;fe<ae&&!(Math.abs(le[fe])<=Re*Ie);)fe++;if(fe>xe){qe=0;do{for(++qe,ue=de[xe],ye=(de[xe+1]-ue)/(2*le[xe]),je=ne(ye,1),0>ye&&(je=-je),de[xe]=le[xe]/(ye+je),de[xe+1]=le[xe]*(ye+je),ke=de[xe+1],me=ue-de[xe],ge=xe+2;ge<ae;ge++)de[ge]-=me;for(Ce+=me,ye=de[fe],we=1,be=we,ve=we,Me=le[xe+1],ze=0,Se=0,ge=fe-1;ge>=xe;ge--)for(ve=be,be=we,Se=ze,ue=we*le[ge],me=we*ye,je=ne(ye,le[ge]),le[ge+1]=ze*je,ze=le[ge]/je,we=ye/je,ye=we*de[ge]-ze*ue,de[ge+1]=me+ze*(we*ue+ze*de[ge]),he=0;he<ae;he++)me=ce[he][ge+1],ce[he][ge+1]=ze*ce[he][ge]+we*me,ce[he][ge]=we*ce[he][ge]-ze*me;ye=-ze*Se*ve*Me*le[xe]/ke,le[xe]=ze*ye,de[xe]=we*ye}while(Math.abs(le[xe])>Re*Ie)}de[xe]+=Ce,le[xe]=0}for(ge=0;ge<ae-1;ge++){for(he=ge,ye=de[ge],pe=ge+1;pe<ae;pe++)de[pe]<ye&&(he=pe,ye=de[pe]);if(he!==ge)for(de[he]=de[ge],de[ge]=ye,pe=0;pe<ae;pe++)ye=ce[pe][ge],ce[pe][ge]=ce[pe][he],ce[pe][he]=ye}}function Z(ae,le,de,ce){var ue=0,me=ae-1,ge,pe,he,xe,fe,ye,je;for(ye=ue+1;ye<=me-1;ye++){for(je=0,xe=ye;xe<=me;xe++)je+=Math.abs(le[xe][ye-1]);if(0!==je){for(he=0,xe=me;xe>=ye;xe--)de[xe]=le[xe][ye-1]/je,he+=de[xe]*de[xe];for(pe=Math.sqrt(he),0<de[ye]&&(pe=-pe),he-=de[ye]*pe,de[ye]-=pe,fe=ye;fe<ae;fe++){for(ge=0,xe=me;xe>=ye;xe--)ge+=de[xe]*le[xe][fe];for(ge/=he,xe=ye;xe<=me;xe++)le[xe][fe]-=ge*de[xe]}for(xe=0;xe<=me;xe++){for(ge=0,fe=me;fe>=ye;fe--)ge+=de[fe]*le[xe][fe];for(ge/=he,fe=ye;fe<=me;fe++)le[xe][fe]-=ge*de[fe]}de[ye]=je*de[ye],le[ye][ye-1]=je*pe}}for(xe=0;xe<ae;xe++)for(fe=0;fe<ae;fe++)ce[xe][fe]=xe===fe?1:0;for(ye=me-1;ye>=ue+1;ye--)if(0!==le[ye][ye-1]){for(xe=ye+1;xe<=me;xe++)de[xe]=le[xe][ye-1];for(fe=ye;fe<=me;fe++){for(pe=0,xe=ye;xe<=me;xe++)pe+=de[xe]*ce[xe][fe];for(pe=pe/de[ye]/le[ye][ye-1],xe=ye;xe<=me;xe++)ce[xe][fe]+=pe*de[xe]}}}function $(ae,le,de,ce,ue){var me=ae-1,ge=0,pe=ae-1,he=Math.pow(2,-52),xe=0,fe=0,ye=0,je=0,ke=0,we=0,be=0,ve=0,Me,ze,Se,qe,Ce,Ie,Re,De,Pe,Ve,Ae,_e,Oe,Le,Ne;for(Me=0;Me<ae;Me++)for((Me<ge||Me>pe)&&(de[Me]=ue[Me][Me],le[Me]=0),ze=Math.max(Me-1,0);ze<ae;ze++)fe+=Math.abs(ue[Me][ze]);for(;me>=ge;){for(qe=me;qe>ge&&(we=Math.abs(ue[qe-1][qe-1])+Math.abs(ue[qe][qe]),0==we&&(we=fe),!(Math.abs(ue[qe][qe-1])<he*we));)qe--;if(qe===me)ue[me][me]+=xe,de[me]=ue[me][me],le[me]=0,me--,ve=0;else if(qe===me-1){if(Re=ue[me][me-1]*ue[me-1][me],ye=(ue[me-1][me-1]-ue[me][me])/2,je=ye*ye+Re,be=Math.sqrt(Math.abs(je)),ue[me][me]+=xe,ue[me-1][me-1]=ue[me-1][me-1]+xe,De=ue[me][me],0<=je){for(be=0<=ye?ye+be:ye-be,de[me-1]=De+be,de[me]=de[me-1],0!=be&&(de[me]=De-Re/be),le[me-1]=0,le[me]=0,De=ue[me][me-1],we=Math.abs(De)+Math.abs(be),ye=De/we,je=be/we,ke=Math.sqrt(ye*ye+je*je),ye/=ke,je/=ke,ze=me-1;ze<ae;ze++)be=ue[me-1][ze],ue[me-1][ze]=je*be+ye*ue[me][ze],ue[me][ze]=je*ue[me][ze]-ye*be;for(Me=0;Me<=me;Me++)be=ue[Me][me-1],ue[Me][me-1]=je*be+ye*ue[Me][me],ue[Me][me]=je*ue[Me][me]-ye*be;for(Me=ge;Me<=pe;Me++)be=ce[Me][me-1],ce[Me][me-1]=je*be+ye*ce[Me][me],ce[Me][me]=je*ce[Me][me]-ye*be}else de[me-1]=De+ye,de[me]=De+ye,le[me-1]=be,le[me]=-be;me-=2,ve=0}else{if(De=ue[me][me],Pe=0,Re=0,qe<me&&(Pe=ue[me-1][me-1],Re=ue[me][me-1]*ue[me-1][me]),10==ve){for(xe+=De,Me=ge;Me<=me;Me++)ue[Me][Me]-=De;we=Math.abs(ue[me][me-1])+Math.abs(ue[me-1][me-2]),De=Pe=0.75*we,Re=-0.4375*we*we}if(30==ve&&(we=(Pe-De)/2,we=we*we+Re,0<we)){for(we=Math.sqrt(we),Pe<De&&(we=-we),we=De-Re/((Pe-De)/2+we),Me=ge;Me<=me;Me++)ue[Me][Me]-=we;xe+=we,De=Pe=Re=0.964}for(++ve,Ce=me-2;Ce>=qe&&(be=ue[Ce][Ce],ke=De-be,we=Pe-be,ye=(ke*we-Re)/ue[Ce+1][Ce]+ue[Ce][Ce+1],je=ue[Ce+1][Ce+1]-be-ke-we,ke=ue[Ce+2][Ce+1],we=Math.abs(ye)+Math.abs(je)+Math.abs(ke),ye/=we,je/=we,ke/=we,Ce!=qe)&&!(Math.abs(ue[Ce][Ce-1])*(Math.abs(je)+Math.abs(ke))<he*(Math.abs(ye)*(Math.abs(ue[Ce-1][Ce-1])+Math.abs(be)+Math.abs(ue[Ce+1][Ce+1]))));)Ce--;for(Me=Ce+2;Me<=me;Me++)ue[Me][Me-2]=0,Me>Ce+2&&(ue[Me][Me-3]=0);for(Se=Ce;Se<=me-1&&(Le=Se!==me-1,Se!=Ce&&(ye=ue[Se][Se-1],je=ue[Se+1][Se-1],ke=Le?ue[Se+2][Se-1]:0,De=Math.abs(ye)+Math.abs(je)+Math.abs(ke),0!==De&&(ye/=De,je/=De,ke/=De)),0!==De);Se++)if(we=Math.sqrt(ye*ye+je*je+ke*ke),0>ye&&(we=-we),0!==we){for(Se==Ce?qe!==Ce&&(ue[Se][Se-1]=-ue[Se][Se-1]):ue[Se][Se-1]=-we*De,ye+=we,De=ye/we,Pe=je/we,be=ke/we,je/=ye,ke/=ye,ze=Se;ze<ae;ze++)ye=ue[Se][ze]+je*ue[Se+1][ze],Le&&(ye+=ke*ue[Se+2][ze],ue[Se+2][ze]=ue[Se+2][ze]-ye*be),ue[Se][ze]-=ye*De,ue[Se+1][ze]=ue[Se+1][ze]-ye*Pe;for(Me=0;Me<=Math.min(me,Se+3);Me++)ye=De*ue[Me][Se]+Pe*ue[Me][Se+1],Le&&(ye+=be*ue[Me][Se+2],ue[Me][Se+2]=ue[Me][Se+2]-ye*ke),ue[Me][Se]-=ye,ue[Me][Se+1]=ue[Me][Se+1]-ye*je;for(Me=ge;Me<=pe;Me++)ye=De*ce[Me][Se]+Pe*ce[Me][Se+1],Le&&(ye+=be*ce[Me][Se+2],ce[Me][Se+2]=ce[Me][Se+2]-ye*ke),ce[Me][Se]-=ye,ce[Me][Se+1]=ce[Me][Se+1]-ye*je}}}if(0!==fe){for(me=ae-1;0<=me;me--)if(ye=de[me],je=le[me],0===je)for(qe=me,ue[me][me]=1,Me=me-1;0<=Me;Me--){for(Re=ue[Me][Me]-ye,ke=0,ze=qe;ze<=me;ze++)ke+=ue[Me][ze]*ue[ze][me];if(0>le[Me])be=Re,we=ke;else if(qe=Me,0===le[Me]?ue[Me][me]=0===Re?-ke/(he*fe):-ke/Re:(De=ue[Me][Me+1],Pe=ue[Me+1][Me],je=(de[Me]-ye)*(de[Me]-ye)+le[Me]*le[Me],Ie=(De*we-be*ke)/je,ue[Me][me]=Ie,ue[Me+1][me]=Math.abs(De)>Math.abs(be)?(-ke-Re*Ie)/De:(-we-Pe*Ie)/be),Ie=Math.abs(ue[Me][me]),1<he*Ie*Ie)for(ze=Me;ze<=me;ze++)ue[ze][me]/=Ie}else if(0>je)for(qe=me-1,Math.abs(ue[me][me-1])>Math.abs(ue[me-1][me])?(ue[me-1][me-1]=je/ue[me][me-1],ue[me-1][me]=-(ue[me][me]-ye)/ue[me][me-1]):(Ne=ee(0,-ue[me-1][me],ue[me-1][me-1]-ye,je),ue[me-1][me-1]=Ne[0],ue[me-1][me]=Ne[1]),ue[me][me-1]=0,ue[me][me]=1,Me=me-2;0<=Me;Me--){for(Ve=0,Ae=0,ze=qe;ze<=me;ze++)Ve+=ue[Me][ze]*ue[ze][me-1],Ae+=ue[Me][ze]*ue[ze][me];if(Re=ue[Me][Me]-ye,0>le[Me])be=Re,ke=Ve,we=Ae;else if(qe=Me,0===le[Me]?(Ne=ee(-Ve,-Ae,Re,je),ue[Me][me-1]=Ne[0],ue[Me][me]=Ne[1]):(De=ue[Me][Me+1],Pe=ue[Me+1][Me],_e=(de[Me]-ye)*(de[Me]-ye)+le[Me]*le[Me]-je*je,Oe=2*(de[Me]-ye)*je,0===_e&&0===Oe&&(_e=he*fe*(Math.abs(Re)+Math.abs(je)+Math.abs(De)+Math.abs(Pe)+Math.abs(be))),Ne=ee(De*ke-be*Ve+je*Ae,De*we-be*Ae-je*Ve,_e,Oe),ue[Me][me-1]=Ne[0],ue[Me][me]=Ne[1],Math.abs(De)>Math.abs(be)+Math.abs(je)?(ue[Me+1][me-1]=(-Ve-Re*ue[Me][me-1]+je*ue[Me][me])/De,ue[Me+1][me]=(-Ae-Re*ue[Me][me]-je*ue[Me][me-1])/De):(Ne=ee(-ke-Pe*ue[Me][me-1],-we-Pe*ue[Me][me],be,je),ue[Me+1][me-1]=Ne[0],ue[Me+1][me]=Ne[1])),Ie=Math.max(Math.abs(ue[Me][me-1]),Math.abs(ue[Me][me])),1<he*Ie*Ie)for(ze=Me;ze<=me;ze++)ue[ze][me-1]=ue[ze][me-1]/Ie,ue[ze][me]/=Ie}for(Me=0;Me<ae;Me++)if(Me<ge||Me>pe)for(ze=Me;ze<ae;ze++)ce[Me][ze]=ue[Me][ze];for(ze=ae-1;ze>=ge;ze--)for(Me=ge;Me<=pe;Me++){for(be=0,Se=ge;Se<=Math.min(ze,pe);Se++)be+=ce[Me][Se]*ue[Se][ze];ce[Me][ze]=be}}}function ee(ae,le,de,ce){var ue,me;return Math.abs(de)>Math.abs(ce)?(ue=ce/de,me=de+ue*ce,[(ae+ue*le)/me,(le-ue*ae)/me]):(ue=de/ce,me=ce+ue*de,[(ue*ae+le)/me,(ue*le-ae)/me])}const te=D(3).Matrix,ie=D(11),ne=ie.hypotenuse,oe=ie.getFilled2DArray,se={assumeSymmetric:!1};O.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return te.isMatrix(this.V)||(this.V=new te(this.V)),this.V},get diagonalMatrix(){var ae=this.n,le=this.e,de=this.d,ce=new te(ae,ae),ue,me;for(ue=0;ue<ae;ue++){for(me=0;me<ae;me++)ce[ue][me]=0;ce[ue][ue]=de[ue],0<le[ue]?ce[ue][ue+1]=le[ue]:0>le[ue]&&(ce[ue][ue-1]=le[ue])}return ce}},I.exports=O},function(I,R,D){'use strict';function O(Z){if(!(this instanceof O))return new O(Z);Z=E.checkMatrix(Z);var $=Z.clone(),ee=Z.rows,te=Z.columns,ie=Array(te),ne,oe,se,ae;for(se=0;se<te;se++){var le=0;for(ne=se;ne<ee;ne++)le=G(le,$[ne][se]);if(0!==le){for(0>$[se][se]&&(le=-le),ne=se;ne<ee;ne++)$[ne][se]/=le;for($[se][se]+=1,oe=se+1;oe<te;oe++){for(ae=0,ne=se;ne<ee;ne++)ae+=$[ne][se]*$[ne][oe];for(ae=-ae/$[se][se],ne=se;ne<ee;ne++)$[ne][oe]+=ae*$[ne][se]}}ie[se]=-le}this.QR=$,this.Rdiag=ie}var E=D(3).Matrix,G=D(11).hypotenuse;O.prototype={solve:function(Z){Z=E.checkMatrix(Z);var $=this.QR,ee=$.rows;if(Z.rows!==ee)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var te=Z.columns,ie=Z.clone(),ne=$.columns,oe,se,ae,le;for(ae=0;ae<ne;ae++)for(se=0;se<te;se++){for(le=0,oe=ae;oe<ee;oe++)le+=$[oe][ae]*ie[oe][se];for(le=-le/$[ae][ae],oe=ae;oe<ee;oe++)ie[oe][se]+=le*$[oe][ae]}for(ae=ne-1;0<=ae;ae--){for(se=0;se<te;se++)ie[ae][se]/=this.Rdiag[ae];for(oe=0;oe<ae;oe++)for(se=0;se<te;se++)ie[oe][se]-=ie[ae][se]*$[oe][ae]}return ie.subMatrix(0,ne-1,0,te-1)},isFullRank:function(){for(var Z=this.QR.columns,$=0;$<Z;$++)if(0===this.Rdiag[$])return!1;return!0},get upperTriangularMatrix(){var Z=this.QR,$=Z.columns,ee=new E($,$),te,ie;for(te=0;te<$;te++)for(ie=0;ie<$;ie++)ee[te][ie]=te<ie?Z[te][ie]:te===ie?this.Rdiag[te]:0;return ee},get orthogonalMatrix(){var Z=this.QR,$=Z.rows,ee=Z.columns,te=new E($,ee),ie,ne,oe,se;for(oe=ee-1;0<=oe;oe--){for(ie=0;ie<$;ie++)te[ie][oe]=0;for(te[oe][oe]=1,ne=oe;ne<ee;ne++)if(0!==Z[oe][oe]){for(se=0,ie=oe;ie<$;ie++)se+=Z[ie][oe]*te[ie][ne];for(se=-se/Z[oe][oe],ie=oe;ie<$;ie++)te[ie][ne]+=se*Z[ie][oe]}}return te}},I.exports=O},function(I,R,D){'use strict';function O(ee,te){if(!(this instanceof O))return new O(ee,te);ee=E.checkMatrix(ee),te=te||{};var ie=ee.rows,ne=ee.columns,oe=Math.min(ie,ne),se=!0,ae=!0;!1===te.computeLeftSingularVectors&&(se=!1),!1===te.computeRightSingularVectors&&(ae=!1);var le=!0===te.autoTranspose,de=!1,ce;if(!(ie<ne))ce=ee.clone();else if(!le)ce=ee.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{ce=ee.transpose(),ie=ce.rows,ne=ce.columns,de=!0;var ue=se;se=ae,ae=ue}var me=Array(Math.min(ie+1,ne)),ge=$(ie,oe,0),pe=$(ne,ne,0),he=Array(ne),xe=Array(ie),fe=Math.min(ie-1,ne),ye=Math.max(0,Math.min(ne-2,ie)),je,ke,we,be,ve,Me,ze,Se,qe,Ce,Ie,Re,De,Pe,Ve,Ae,_e,Oe,Le,Ne,Fe;for(we=0,Ce=Math.max(fe,ye);we<Ce;we++){if(we<fe){for(me[we]=0,je=we;je<ie;je++)me[we]=Z(me[we],ce[je][we]);if(0!==me[we]){for(0>ce[we][we]&&(me[we]=-me[we]),je=we;je<ie;je++)ce[je][we]/=me[we];ce[we][we]+=1}me[we]=-me[we]}for(ke=we+1;ke<ne;ke++){if(we<fe&&0!==me[we]){for(ve=0,je=we;je<ie;je++)ve+=ce[je][we]*ce[je][ke];for(ve=-ve/ce[we][we],je=we;je<ie;je++)ce[je][ke]+=ve*ce[je][we]}he[ke]=ce[we][ke]}if(se&&we<fe)for(je=we;je<ie;je++)ge[je][we]=ce[je][we];if(we<ye){for(he[we]=0,je=we+1;je<ne;je++)he[we]=Z(he[we],he[je]);if(0!==he[we]){for(0>he[we+1]&&(he[we]=0-he[we]),je=we+1;je<ne;je++)he[je]/=he[we];he[we+1]+=1}if(he[we]=-he[we],we+1<ie&&0!==he[we]){for(je=we+1;je<ie;je++)xe[je]=0;for(ke=we+1;ke<ne;ke++)for(je=we+1;je<ie;je++)xe[je]+=he[ke]*ce[je][ke];for(ke=we+1;ke<ne;ke++)for(ve=-he[ke]/he[we+1],je=we+1;je<ie;je++)ce[je][ke]+=ve*xe[je]}if(ae)for(je=we+1;je<ne;je++)pe[je][we]=he[je]}}if(be=Math.min(ne,ie+1),fe<ne&&(me[fe]=ce[fe][fe]),ie<be&&(me[be-1]=0),ye+1<be&&(he[ye]=ce[ye][be-1]),he[be-1]=0,se){for(ke=fe;ke<oe;ke++){for(je=0;je<ie;je++)ge[je][ke]=0;ge[ke][ke]=1}for(we=fe-1;0<=we;we--)if(0!==me[we]){for(ke=we+1;ke<oe;ke++){for(ve=0,je=we;je<ie;je++)ve+=ge[je][we]*ge[je][ke];for(ve=-ve/ge[we][we],je=we;je<ie;je++)ge[je][ke]+=ve*ge[je][we]}for(je=we;je<ie;je++)ge[je][we]=-ge[je][we];for(ge[we][we]=1+ge[we][we],je=0;je<we-1;je++)ge[je][we]=0}else{for(je=0;je<ie;je++)ge[je][we]=0;ge[we][we]=1}}if(ae)for(we=ne-1;0<=we;we--){if(we<ye&&0!==he[we])for(ke=we+1;ke<ne;ke++){for(ve=0,je=we+1;je<ne;je++)ve+=pe[je][we]*pe[je][ke];for(ve=-ve/pe[we+1][we],je=we+1;je<ne;je++)pe[je][ke]+=ve*pe[je][we]}for(je=0;je<ne;je++)pe[je][we]=0;pe[we][we]=1}for(var Te=be-1,Ue=0,Xe=Math.pow(2,-52);0<be;){for(we=be-2;-1<=we&&-1!==we;we--)if(Math.abs(he[we])<=Xe*(Math.abs(me[we])+Math.abs(me[we+1]))){he[we]=0;break}if(we===be-2)Ie=4;else{for(Me=be-1;Me>=we&&Me!==we;Me--)if(ve=(Me===be?0:Math.abs(he[Me]))+(Me===we+1?0:Math.abs(he[Me-1])),Math.abs(me[Me])<=Xe*ve){me[Me]=0;break}Me===we?Ie=3:Me===be-1?Ie=1:(Ie=2,we=Me)}switch(we++,Ie){case 1:{for(ze=he[be-2],he[be-2]=0,ke=be-2;ke>=we;ke--)if(ve=Z(me[ke],ze),Se=me[ke]/ve,qe=ze/ve,me[ke]=ve,ke!==we&&(ze=-qe*he[ke-1],he[ke-1]=Se*he[ke-1]),ae)for(je=0;je<ne;je++)ve=Se*pe[je][ke]+qe*pe[je][be-1],pe[je][be-1]=-qe*pe[je][ke]+Se*pe[je][be-1],pe[je][ke]=ve;break}case 2:{for(ze=he[we-1],he[we-1]=0,ke=we;ke<be;ke++)if(ve=Z(me[ke],ze),Se=me[ke]/ve,qe=ze/ve,me[ke]=ve,ze=-qe*he[ke],he[ke]=Se*he[ke],se)for(je=0;je<ie;je++)ve=Se*ge[je][ke]+qe*ge[je][we-1],ge[je][we-1]=-qe*ge[je][ke]+Se*ge[je][we-1],ge[je][ke]=ve;break}case 3:{for(Re=Math.max(Math.max(Math.max(Math.max(Math.abs(me[be-1]),Math.abs(me[be-2])),Math.abs(he[be-2])),Math.abs(me[we])),Math.abs(he[we])),De=me[be-1]/Re,Pe=me[be-2]/Re,Ve=he[be-2]/Re,Ae=me[we]/Re,_e=he[we]/Re,Oe=((Pe+De)*(Pe-De)+Ve*Ve)/2,Le=De*Ve*(De*Ve),Ne=0,(0!==Oe||0!==Le)&&(Ne=Math.sqrt(Oe*Oe+Le),0>Oe&&(Ne=-Ne),Ne=Le/(Oe+Ne)),ze=(Ae+De)*(Ae-De)+Ne,Fe=Ae*_e,ke=we;ke<be-1;ke++){if(ve=Z(ze,Fe),Se=ze/ve,qe=Fe/ve,ke!==we&&(he[ke-1]=ve),ze=Se*me[ke]+qe*he[ke],he[ke]=Se*he[ke]-qe*me[ke],Fe=qe*me[ke+1],me[ke+1]=Se*me[ke+1],ae)for(je=0;je<ne;je++)ve=Se*pe[je][ke]+qe*pe[je][ke+1],pe[je][ke+1]=-qe*pe[je][ke]+Se*pe[je][ke+1],pe[je][ke]=ve;if(ve=Z(ze,Fe),Se=ze/ve,qe=Fe/ve,me[ke]=ve,ze=Se*he[ke]+qe*me[ke+1],me[ke+1]=-qe*he[ke]+Se*me[ke+1],Fe=qe*he[ke+1],he[ke+1]=Se*he[ke+1],se&&ke<ie-1)for(je=0;je<ie;je++)ve=Se*ge[je][ke]+qe*ge[je][ke+1],ge[je][ke+1]=-qe*ge[je][ke]+Se*ge[je][ke+1],ge[je][ke]=ve}he[be-2]=ze,++Ue;break}case 4:{if(0>=me[we]&&(me[we]=0>me[we]?-me[we]:0,ae))for(je=0;je<=Te;je++)pe[je][we]=-pe[je][we];for(;we<Te&&!(me[we]>=me[we+1]);){if(ve=me[we],me[we]=me[we+1],me[we+1]=ve,ae&&we<ne-1)for(je=0;je<ne;je++)ve=pe[je][we+1],pe[je][we+1]=pe[je][we],pe[je][we]=ve;if(se&&we<ie-1)for(je=0;je<ie;je++)ve=ge[je][we+1],ge[je][we+1]=ge[je][we],ge[je][we]=ve;we++}Ue=0,be--;break}}}if(de){var We=pe;pe=ge,ge=We}this.m=ie,this.n=ne,this.s=me,this.U=ge,this.V=pe}var E=D(3).Matrix,G=D(11),Z=G.hypotenuse,$=G.getFilled2DArray;O.prototype={get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var ee=Math.pow(2,-52),te=Math.max(this.m,this.n)*this.s[0]*ee,ie=0,ne=this.s,oe=0,se=ne.length;oe<se;oe++)ne[oe]>te&&ie++;return ie},get diagonal(){return this.s},get threshold(){return Math.pow(2,-52)/2*Math.max(this.m,this.n)*this.s[0]},get leftSingularVectors(){return E.isMatrix(this.U)||(this.U=new E(this.U)),this.U},get rightSingularVectors(){return E.isMatrix(this.V)||(this.V=new E(this.V)),this.V},get diagonalMatrix(){return E.diag(this.s)},solve:function(ee){var ie=this.threshold,ne=this.s.length,oe=E.zeros(ne,ne),se;for(se=0;se<ne;se++)oe[se][se]=Math.abs(this.s[se])<=ie?0:1/this.s[se];var ae=this.U,le=this.rightSingularVectors,de=le.mmul(oe),ce=le.rows,ue=ae.length,me=E.zeros(ce,ue),ge,pe,he;for(se=0;se<ce;se++)for(ge=0;ge<ue;ge++){for(he=0,pe=0;pe<ne;pe++)he+=de[se][pe]*ae[ge][pe];me[se][ge]=he}return me.mmul(ee)},solveForDiagonal:function(ee){return this.solve(E.diag(ee))},inverse:function(){var ee=this.V,te=this.threshold,ie=ee.length,ne=ee[0].length,oe=new E(ie,this.s.length),se,ae;for(se=0;se<ie;se++)for(ae=0;ae<ne;ae++)oe[se][ae]=Math.abs(this.s[ae])>te?ee[se][ae]/this.s[ae]:0;var le=this.U,de=le.length,ce=le[0].length,ue=new E(ie,de),me,ge;for(se=0;se<ie;se++)for(ae=0;ae<de;ae++){for(ge=0,me=0;me<ce;me++)ge+=oe[se][me]*le[ae][me];ue[se][ae]=ge}return ue}},I.exports=O},function(I,R,D){'use strict';function O(ne){return ne=G.checkMatrix(ne),E(ne,G.eye(ne.rows))}function E(ne,oe){return ne=G.checkMatrix(ne),oe=G.checkMatrix(oe),ne.isSquare()?new ee(ne).solve(oe):new te(ne).solve(oe)}var G=D(3).Matrix,Z=D(137),$=D(135),ee=D(38),te=D(136),ie=D(134);G.inverse=G.inv=O,G.prototype.inverse=G.prototype.inv=function(){return O(this)},G.solve=E,G.prototype.solve=function(ne){return E(this,ne)},I.exports={SingularValueDecomposition:Z,SVD:Z,EigenvalueDecomposition:$,EVD:$,LuDecomposition:ee,LU:ee,QrDecomposition:te,QR:te,CholeskyDecomposition:ie,CHO:ie,inverse:O,solve:E}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(I,R,D){'use strict';var O=D(5);I.exports=class extends O{constructor(G,Z){super(G,G.rows,1),this.column=Z}set(G,Z,$){return this.matrix.set(G,this.column,$),this}get(G){return this.matrix.get(G,this.column)}}},function(I,R,D){'use strict';var O=D(5);I.exports=class extends O{constructor(G){super(G,G.rows,G.columns)}set(G,Z,$){return this.matrix.set(G,this.columns-Z-1,$),this}get(G,Z){return this.matrix.get(G,this.columns-Z-1)}}},function(I,R,D){'use strict';var O=D(5);I.exports=class extends O{constructor(G){super(G,G.rows,G.columns)}set(G,Z,$){return this.matrix.set(this.rows-G-1,Z,$),this}get(G,Z){return this.matrix.get(this.rows-G-1,Z)}}},function(I,R,D){'use strict';var O=D(5);I.exports=class extends O{constructor(G,Z){super(G,1,G.columns),this.row=Z}set(G,Z,$){return this.matrix.set(this.row,Z,$),this}get(G,Z){return this.matrix.get(this.row,Z)}}},function(I,R,D){'use strict';var O=D(5),E=D(7);I.exports=class extends O{constructor(Z,$,ee){var te=E.checkIndices(Z,$,ee);super(Z,te.row.length,te.column.length),this.rowIndices=te.row,this.columnIndices=te.column}set(Z,$,ee){return this.matrix.set(this.rowIndices[Z],this.columnIndices[$],ee),this}get(Z,$){return this.matrix.get(this.rowIndices[Z],this.columnIndices[$])}}},function(I,R,D){'use strict';var O=D(5),E=D(7);I.exports=class extends O{constructor(Z,$,ee,te,ie){E.checkRange(Z,$,ee,te,ie),super(Z,ee-$+1,ie-te+1),this.startRow=$,this.startColumn=te}set(Z,$,ee){return this.matrix.set(this.startRow+Z,this.startColumn+$,ee),this}get(Z,$){return this.matrix.get(this.startRow+Z,this.startColumn+$)}}},function(I,R,D){'use strict';var O=D(5);I.exports=class extends O{constructor(G){super(G,G.columns,G.rows)}set(G,Z,$){return this.matrix.set(Z,G,$),this}get(G,Z){return this.matrix.get(Z,G)}}},function(I,R,D){'use strict';const E=D(1).squared,G={distanceFunction:E,similarityFunction:!1,returnVector:!1};I.exports=function(Z,$,ee){ee=ee||G;const te=ee.distanceFunction||G.distanceFunction,ie=ee.similarityFunction||G.similarityFunction,ne=ee.returnVector||G.returnVector;var oe=-1;if('function'==typeof ie)for(var se=Number.MIN_VALUE,ae=0,le;ae<Z.length;ae++)le=ie($,Z[ae]),le>se&&(se=le,oe=ae);else if('function'==typeof te)for(var de=Number.MAX_VALUE,ce=0,ue;ce<Z.length;ce++)ue=te($,Z[ce]),ue<de&&(de=ue,oe=ce);else throw new Error('A similarity or distance function it\'s required');return ne?Z[oe]:oe}},function(I,R){'use strict';R.acc=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=(O.tn[Z]+O.tp[Z])/(E-1);return G},R.err=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.fn[Z]+O.fp[Z]/(E-1);return G},R.fpr=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.fp[Z]/O.nNeg;return G},R.tpr=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.tp[Z]/O.nPos;return G},R.fnr=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.fn[Z]/O.nPos;return G},R.tnr=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.tn[Z]/O.nNeg;return G},R.ppv=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=0===O.fp[Z]+O.tp[Z]?0:O.tp[Z]/(O.fp[Z]+O.tp[Z]);return G},R.npv=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=0===O.fn[Z]+O.tn[Z]?0:O.tn[Z]/(O.fn[Z]+O.tn[Z]);return G},R.pcfall=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=0===O.fp[Z]+O.tp[Z]?1:1-O.tp[Z]/(O.fp[Z]+O.tp[Z]);return G},R.pcmiss=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=0===O.fn[Z]+O.tn[Z]?1:1-O.tn[Z]/(O.fn[Z]+O.tn[Z]);return G},R.lift=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=0===O.nPosPred[Z]?0:O.tp[Z]/O.nPos/(O.nPosPred[Z]/O.nSamples);return G},R.rpp=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.nPosPred[Z]/O.nSamples;return G},R.rnp=O=>{const E=O.cutoffs.length,G=Array(E);for(var Z=0;Z<E;Z++)G[Z]=O.nNegPred[Z]/O.nSamples;return G},R.threshold=O=>{const E=O.cutoffs.slice();return E[0]=E[1],E}},function(I,R,D){'use strict';function O(Z,$,ee){var te=new E(Z),ie=new E($);te=G.featureNormalize(te).result,ie=G.featureNormalize(ie).result;var ne=te.rows,oe=te.columns,se=te.clone().mul(te).sum(),ae=te.transpose().mmul(ie);ae.div(G.norm(ae));for(var le=Array(ee),de=Array(ee),ce=Array(ee),ue=0;ue<ee;ue++){var me=te.mmul(ae),ge=te.transpose().mmul(me),pe=me.transpose().mmul(me)[0][0],he=ge.div(pe);ge=ae.transpose().mmul(he)[0][0],pe=ae.transpose().mmul(ae)[0][0];var xe=he.sub(ae.clone().mul(ge/pe));xe.div(G.norm(xe));var fe=te.mmul(xe);ge=te.transpose().mmul(fe),pe=fe.transpose().mmul(fe)[0][0];var ye=ge.div(pe);te.sub(fe.mmul(ye.transpose())),le[ue]=xe.getColumn(0),de[ue]=fe.getColumn(0),ce[ue]=ye.getColumn(0)}this.Xosc=te;var je=this.Xosc.clone().mul(this.Xosc).sum();this.R2X=1-je/se,this.W=le,this.T=de,this.P=ce,this.numberOSC=ee}var E=D(0),G=D(12);I.exports=O,O.prototype.correctDataset=function(Z){for(var $=new E(Z),ee=$.clone().mul($).sum(),te=0;te<this.numberOSC;te++){var ie=this.W.getColumnVector(te),ne=this.P.getColumnVector(te),oe=$.mmul(ie);$.sub(oe.mmul(ne))}var se=$.clone().mul($).sum();return{datasetOsc:$,R2Dataset:1-se/ee}}},function(I,R,D){'use strict';function O(ee,te){for(var ie=0,ne=0;ne<ee.rows;ne++)ie+=ee[ne][te];return ie}function E(ee){for(var te=0,ie=-Infinity,ne=0,oe;ne<ee.columns;++ne)oe=O(ee,ne),oe>ie&&(ie=oe,te=ne);return te}var G=D(0),Z=D(12);class ${constructor(ee,te){if(!0===ee){const ie=te;this.meanX=ie.meanX,this.stdDevX=ie.stdDevX,this.meanY=ie.meanY,this.stdDevY=ie.stdDevY,this.PBQ=G.checkMatrix(ie.PBQ),this.R2X=ie.R2X}else{if(ee.length!==te.length)throw new RangeError('The number of X rows must be equal to the number of Y rows');const ie=Z.featureNormalize(ee);this.X=ie.result,this.meanX=ie.means,this.stdDevX=ie.std;const ne=Z.featureNormalize(te);this.Y=ne.result,this.meanY=ne.means,this.stdDevY=ne.std}}train(ee){ee===void 0&&(ee={});var te=ee.latentVectors;te===void 0&&(te=Math.min(this.X.length-1,this.X[0].length));var ie=ee.tolerance;ie===void 0&&(ie=1e-5);for(var ne=this.X,oe=this.Y,se=ne.rows,ae=ne.columns,le=oe.rows,de=oe.columns,ce=ne.clone().mul(ne).sum(),ue=oe.clone().mul(oe).sum(),me=te,ge=G.zeros(se,me),pe=G.zeros(ae,me),he=G.zeros(le,me),xe=G.zeros(de,me),fe=G.zeros(me,me),ye=pe.clone(),je=0;Z.norm(oe)>ie&&je<me;){for(var ke=ne.transpose(),we=oe.transpose(),be=E(ne.clone().mulM(ne)),ve=E(oe.clone().mulM(oe)),Me=ne.getColumnVector(be),ze=oe.getColumnVector(ve),Se=G.zeros(se,1),qe;Z.norm(Me.clone().sub(Se))>ie;){qe=ke.mmul(ze),qe.div(Z.norm(qe)),Se=Me,Me=ne.mmul(qe);var Ce=we.mmul(Me);Ce.div(Z.norm(Ce)),ze=oe.mmul(Ce)}Se=Me;var Ie=ke.mmul(Se),Re=Se.transpose().mmul(Se)[0][0],De=Ie.div(Re),Pe=Z.norm(De);De.div(Pe),Se.mul(Pe),qe.mul(Pe),Ie=ze.transpose().mmul(Se),Re=Se.transpose().mmul(Se)[0][0];var Ve=Ie.div(Re)[0][0];ne.sub(Se.mmul(De.transpose())),oe.sub(Se.clone().mul(Ve).mmul(Ce.transpose())),ge.setColumn(je,Se),pe.setColumn(je,De),he.setColumn(je,ze),xe.setColumn(je,Ce),ye.setColumn(je,qe),fe[je][je]=Ve,je++}je--,ge=ge.subMatrix(0,ge.rows-1,0,je),pe=pe.subMatrix(0,pe.rows-1,0,je),he=he.subMatrix(0,he.rows-1,0,je),xe=xe.subMatrix(0,xe.rows-1,0,je),ye=ye.subMatrix(0,ye.rows-1,0,je),fe=fe.subMatrix(0,je,0,je),this.ssqYcal=ue,this.E=ne,this.F=oe,this.T=ge,this.P=pe,this.U=he,this.Q=xe,this.W=ye,this.B=fe,this.PBQ=pe.mmul(fe).mmul(xe.transpose()),this.R2X=Se.transpose().mmul(Se).mmul(De.transpose().mmul(De)).div(ce)[0][0]}predict(ee){var te=G.checkMatrix(ee);te=te.subRowVector(this.meanX).divRowVector(this.stdDevX);var ie=te.mmul(this.PBQ);return ie=ie.mulRowVector(this.stdDevY).addRowVector(this.meanY),ie}getExplainedVariance(){return this.R2X}toJSON(){return{name:'PLS',R2X:this.R2X,meanX:this.meanX,stdDevX:this.stdDevX,meanY:this.meanY,stdDevY:this.stdDevY,PBQ:this.PBQ}}static load(ee){if('PLS'!==ee.name)throw new RangeError('Invalid model: '+ee.name);return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';const O=D(6).maybeToPrecision,E=D(13),G=D(4);class Z extends G{constructor($,ee,te){super();if(!0===$)this.A=ee.A,this.C=ee.C,ee.quality&&(this.quality=ee.quality);else{var ne=$.length;if(ne!==ee.length)throw new RangeError('input and output array have a different length');for(var oe=Array(ne),se=0;se<ne;se++)oe[se]=Math.log(ee[se]);var ae=new E($,oe,{computeCoefficient:!1});this.A=ae.slope,this.C=Math.exp(ae.intercept),(te||{}).computeQuality&&(this.quality=this.modelQuality($,ee))}}_predict($){return this.C*Math.exp($*this.A)}toJSON(){var $={name:'expRegression',A:this.A,C:this.C};return this.quality&&($.quality=this.quality),$}toString($){return'f(x) = '+O(this.C,$)+' * exp('+O(this.A,$)+' * x)'}toLaTeX($){return 0<=this.A?'f(x) = '+O(this.C,$)+'e^{'+O(this.A,$)+'x}':'f(x) = \\frac{'+O(this.C,$)+'}{e^{'+O(-this.A,$)+'x}}'}static load($){if('expRegression'!==$.name)throw new TypeError('not a exp regression model');return new Z(!0,$)}}I.exports=Z},function(I,R,D){'use strict';const O=D(0),E=D(8),G=D(4),Z={lambda:0.1,kernelType:'gaussian',kernelOptions:{},computeCoefficient:!1};class $ extends G{constructor(ee,te,ie){if(super(),!0===ee)this.alpha=te.alpha,this.inputs=te.inputs,this.kernelType=te.kernelType,this.kernelOptions=te.kernelOptions,this.kernel=new E(te.kernelType,te.kernelOptions),te.quality&&(this.quality=te.quality);else{ie=Object.assign({},Z,ie);const ne=new E(ie.kernelType,ie.kernelOptions),oe=ne.compute(ee),se=ee.length;oe.add(O.eye(se,se).mul(ie.lambda)),this.alpha=oe.solve(te),this.inputs=ee,this.kernelType=ie.kernelType,this.kernelOptions=ie.kernelOptions,this.kernel=ne,ie.computeQuality&&(this.quality=this.modelQuality(ee,te))}}_predict(ee){return this.kernel.compute([ee],this.inputs).mmul(this.alpha)[0]}toJSON(){var ee={name:'kernelRidgeRegression',alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions};return this.quality&&(ee.quality=this.quality),ee}static load(ee){if('kernelRidgeRegression'!==ee.name)throw new TypeError('not a KRR model');return new $(!0,ee)}}I.exports=$},function(I,R,D){'use strict';function O(ie,ne){for(var oe=ie.clone(),se=0;se<ie.rows;++se)oe[se][0]=Math.pow(oe[se][0],ne);return oe}function E(ie,ne){this[ie][ne]=Math.abs(this[ie][ne])}const G=D(0),Z=G.DC.SingularValueDecomposition,$=D(4),ee={order:2};class te extends ${constructor(ie,ne,oe){super(),!0===ie?(this.coefficients=G.columnVector(ne.coefficients),this.order=ne.order,ne.r&&(this.r=ne.r,this.r2=ne.r2),ne.chi2&&(this.chi2=ne.chi2)):(oe=Object.assign({},ee,oe),this.order=oe.order,this.coefficients=[],this.X=ie,this.y=ne,this.train(this.X,this.y,oe),oe.computeQuality&&(this.quality=this.modelQuality(ie,ne)))}train(ie,ne){if(G.isMatrix(ie)||(ie=new G(ie)),G.isMatrix(ne)||(ne=G.columnVector(ne)),ne.rows!==ie.rows&&(ne=ne.transpose()),2!==ie.columns)throw new RangeError('You give X with '+ie.columns+' columns and it must be 2');if(ie.rows!==ne.rows)throw new RangeError('X and y must have the same rows');var oe=ie.rows,se=(this.order+2)*(this.order+1)/2;this.coefficients=Array(se);var ae=ie.getColumnVector(0),le=ie.getColumnVector(1),de=1/ae.clone().apply(E).max(),ce=1/le.clone().apply(E).max(),ue=1/ne.clone().apply(E).max();ae.mulColumn(0,de),le.mulColumn(0,ce),ne.mulColumn(0,ue);for(var me=new G(oe,se),ge=0,pe=0,he;pe<=this.order;++pe){he=this.order-pe;for(var xe=0,fe;xe<=he;++xe)fe=O(ae,pe).mulColumnVector(O(le,xe)),me.setColumn(ge,fe),ge++}var ye=new Z(me.transpose(),{computeLeftSingularVectors:!0,computeRightSingularVectors:!0,autoTranspose:!1}),je=G.rowVector(ye.diagonal);je=je.apply(function(ve,Me){this[ve][Me]=1e-15<=this[ve][Me]?1/this[ve][Me]:0});var ke=G.zeros(oe,se);for(pe=0;pe<se;++pe)ke[pe][pe]=je[0][pe];je=ke;var we=ye.rightSingularVectors,be=ye.leftSingularVectors;for(this.coefficients=be.mmul(je.transpose()).mmul(we.transpose()).mmul(ne),ge=0,pe=0;pe<=se;++pe)for(he=this.order-pe,xe=0;xe<=he;++xe)this.coefficients[ge][0]=this.coefficients[ge][0]*Math.pow(de,pe)*Math.pow(ce,xe)/ue,ge++}_predict(ie){for(var ne=ie[0],oe=ie[1],se=0,ae=0,le=0;le<=this.order;le++)for(var de=0;de<=this.order-le;de++)se+=Math.pow(ne,le)*Math.pow(oe,de)*this.coefficients[ae][0],ae++;return se}toJSON(){var ie={name:'polyfit2D',order:this.order,coefficients:this.coefficients};return this.quality&&(ie.quality=this.quality),ie}static load(ie){if('polyfit2D'!==ie.name)throw new TypeError('not a polyfit2D model');return new te(!0,ie)}}I.exports=te},function(I,R,D){'use strict';const O=D(6).maybeToPrecision,E=D(40),G=D(4);class Z extends G{constructor($,ee,te,ie){super();if(!0===$)this.A=ee.A,this.M=ee.M,ee.quality&&(this.quality=ee.quality);else{var oe=$.length;if(oe!==ee.length)throw new RangeError('input and output array have a different length');var se=new E($,ee,[te],{computeCoefficient:!0});this.A=se.coefficients[0],this.M=te,(ie||{}).computeQuality&&(this.quality=this.modelQuality($,ee))}}_predict($){return this.A*Math.pow($,this.M)}toJSON(){var $={name:'potentialRegression',A:this.A,M:this.M};return this.quality&&($.quality=this.quality),$}toString($){return'f(x) = '+O(this.A,$)+' * x^'+this.M}toLaTeX($){return 0<=this.M?'f(x) = '+O(this.A,$)+'x^{'+this.M+'}':'f(x) = \\frac{'+O(this.A,$)+'}{x^{'+-this.M+'}}'}static load($){if('potentialRegression'!==$.name)throw new TypeError('not a potential regression model');return new Z(!0,$)}}I.exports=Z},function(I,R,D){'use strict';const O=D(6).maybeToPrecision,E=D(13),G=D(4);class Z extends G{constructor($,ee,te){super();if(!0===$)this.A=ee.A,this.B=ee.B,this.quality=ee.quality||{},ee.quality.r&&(this.quality.r=ee.quality.r,this.quality.r2=ee.quality.r2),ee.quality.chi2&&(this.quality.chi2=ee.quality.chi2);else{var ne=$.length;if(ne!==ee.length)throw new RangeError('input and output array have a different length');for(var oe=Array(ne),se=Array(ne),ae=0;ae<ne;ae++)oe[ae]=Math.log($[ae]),se[ae]=Math.log(ee[ae]);var le=new E(oe,se,{computeCoefficient:!1});this.A=Math.exp(le.intercept),this.B=le.slope,(te||{}).computeQuality&&(this.quality=this.modelQuality($,ee))}}_predict($){return this.A*Math.pow($,this.B)}toJSON(){var $={name:'powerRegression',A:this.A,B:this.B};return this.quality&&($.quality=this.quality),$}toString($){return'f(x) = '+O(this.A,$)+' * x^'+O(this.B,$)}toLaTeX($){return 0<=this.B?'f(x) = '+O(this.A,$)+'x^{'+O(this.B,$)+'}':'f(x) = \\frac{'+O(this.A,$)+'}{x^{'+O(-this.B,$)+'}}'}static load($){if('powerRegression'!==$.name)throw new TypeError('not a power regression model');return new Z(!0,$)}}I.exports=Z},function(I,R,D){'use strict';const O=D(4),E=D(6).maybeToPrecision,G=D(14).median;class Z extends O{constructor($,ee,te){if(te=te||{},super(),!0===$)this.slope=ee.slope,this.intercept=ee.intercept,this.quality=Object.assign({},ee.quality,this.quality);else{let ie=$.length;if(ie!==ee.length)throw new RangeError('Input and output array have a different length');let ne=Array(ie*ie),oe=0;for(let le=0;le<ie;++le)for(let de=le+1;de<ie;++de)$[le]!==$[de]&&(ne[oe++]=(ee[de]-ee[le])/($[de]-$[le]));ne.length=oe;let se=G(ne),ae=Array(ie);for(let le=0;le<ie;++le)ae[le]=ee[le]-se*$[le];this.slope=se,this.intercept=G(ae),this.coefficients=[this.intercept,this.slope],te.computeQuality&&(this.quality=this.modelQuality($,ee))}}toJSON(){var $={name:'TheilSenRegression',slope:this.slope,intercept:this.intercept};return this.quality&&($.quality=this.quality),$}_predict($){return this.slope*$+this.intercept}computeX($){return($-this.intercept)/this.slope}toString($){var ee='f(x) = ';if(this.slope){var te=E(this.slope,$);if(ee+=(1e-5>Math.abs(te-1)?'':te+' * ')+'x',this.intercept){var ie=Math.abs(this.intercept),ne=ie===this.intercept?'+':'-';ee+=' '+ne+' '+E(ie,$)}}else ee+=E(this.intercept,$);return ee}toLaTeX($){return this.toString($)}static load($){if('TheilSenRegression'!==$.name)throw new TypeError('not a Theil-Sen model');return new Z(!0,$)}}I.exports=Z},function(I,R,D){'use strict';R.array=D(41),R.matrix=D(158)},function(I,R,D){'use strict';function E(xe,fe){'undefined'==typeof fe&&(fe=0);var ye=xe.length,je=xe[0].length,ke,we,be,ve;if(-1===fe){for(ke=[0],we=ye*je,be=0;be<ye;be++)for(ve=0;ve<je;ve++)ke[0]+=xe[be][ve];ke[0]/=we}else if(0===fe)for(ke=Array(je),we=ye,ve=0;ve<je;ve++){for(ke[ve]=0,be=0;be<ye;be++)ke[ve]+=xe[be][ve];ke[ve]/=we}else if(1===fe)for(ke=Array(ye),we=je,ve=0;ve<ye;ve++){for(ke[ve]=0,be=0;be<je;be++)ke[ve]+=xe[ve][be];ke[ve]/=we}else throw new Error('Invalid dimension');return ke}function G(xe,fe,ye){for(var je=Z(xe,fe,ye),ke=je.length,we=0;we<ke;we++)je[we]=Math.sqrt(je[we]);return je}function Z(xe,fe,ye){'undefined'==typeof ye&&(ye=!0),fe=fe||E(xe);var je=xe.length;if(0===je)return[];for(var ke=xe[0].length,we=Array(ke),be=0;be<ke;be++){for(var ve=0,Me=0,ze=0,Se=0;Se<je;Se++)ze=xe[Se][be]-fe[be],ve+=ze,Me+=ze*ze;we[be]=ye?(Me-ve*ve/je)/(je-1):(Me-ve*ve/je)/je}return we}function se(xe,fe,ye){'undefined'==typeof ye&&(ye=0),'undefined'==typeof fe&&(0===ye?fe=xe.length-1:1==ye&&(fe=xe[0].length-1));var je=E(xe,ye),ke=xe.length;if(0===ke)return[[]];var we=xe[0].length,be,ve,Me,ze,Se;if(0===ye){for(be=Array(we),ve=0;ve<we;ve++)be[ve]=Array(we);for(ve=0;ve<we;ve++)for(Me=ve;Me<we;Me++){for(ze=0,Se=0;Se<ke;Se++)ze+=(xe[Se][Me]-je[Me])*(xe[Se][ve]-je[ve]);ze/=fe,be[ve][Me]=ze,be[Me][ve]=ze}}else if(1===ye){for(be=Array(ke),ve=0;ve<ke;ve++)be[ve]=Array(ke);for(ve=0;ve<ke;ve++)for(Me=ve;Me<ke;Me++){for(ze=0,Se=0;Se<we;Se++)ze+=(xe[Me][Se]-je[Me])*(xe[ve][Se]-je[ve]);ze/=fe,be[ve][Me]=ze,be[Me][ve]=ze}}else throw new Error('Invalid dimension');return be}function le(xe,fe,ye){return fe=fe||E(xe),'undefined'==typeof ye&&(ye=G(xe,!0,fe)),ce(de(xe,fe,!1),ye,!0)}function de(xe,fe,ye){fe=fe||E(xe);var je=xe,ke=xe.length,we,be,ve;if(!ye)for(je=Array(ke),we=0;we<ke;we++)je[we]=Array(xe[we].length);for(we=0;we<ke;we++){var Me=je[we];for(be=0,ve=Me.length;be<ve;be++)Me[be]=xe[we][be]-fe[be]}return je}function ce(xe,fe,ye){'undefined'==typeof fe&&(fe=G(xe));var je=xe,ke=xe.length,we,be,ve;if(!ye)for(je=Array(ke),we=0;we<ke;we++)je[we]=Array(xe[we].length);for(we=0;we<ke;we++){var Me=je[we],ze=xe[we];for(be=0,ve=Me.length;be<ve;be++)0===fe[be]||isNaN(fe[be])||(Me[be]=ze[be]/fe[be])}return je}function me(xe,fe,ye){'undefined'==typeof ye&&(ye=0);var je=xe.length;if(0===je)return[];var ke=xe[0].length,we,be,ve,Me,ze,Se;if(0===ye){for(we=Array(ke),be=0;be<ke;be++)we[be]=0;for(be=0;be<je;be++)for(Se=xe[be],ze=fe[be],Me=0;Me<ke;Me++)we[Me]+=Se[Me]*ze}else if(1===ye){for(we=Array(je),be=0;be<je;be++)we[be]=0;for(Me=0;Me<je;Me++)for(Se=xe[Me],ze=fe[Me],be=0;be<ke;be++)we[Me]+=Se[be]*ze}else throw new Error('Invalid dimension');var qe=he.sum(fe);if(0!==qe)for(be=0,ve=we.length;be<ve;be++)we[be]/=qe;return we}function pe(xe,fe,ye,je,ke){ke=ke||0,ye=ye||me(xe,fe,ke),'undefined'==typeof je&&(je=1);var we=xe.length;if(0===we)return[[]];var be=xe[0].length,ve,Me,ze,Se,qe;if(0===ke){for(ve=Array(be),Me=0;Me<be;Me++)ve[Me]=Array(be);for(Me=0;Me<be;Me++)for(ze=Me;ze<be;ze++){for(qe=0,Se=0;Se<we;Se++)qe+=fe[Se]*(xe[Se][ze]-ye[ze])*(xe[Se][Me]-ye[Me]);ve[Me][ze]=qe*je,ve[ze][Me]=qe*je}}else if(1===ke){for(ve=Array(we),Me=0;Me<we;Me++)ve[Me]=Array(we);for(Me=0;Me<we;Me++)for(ze=Me;ze<we;ze++){for(qe=0,Se=0;Se<be;Se++)qe+=fe[Se]*(xe[ze][Se]-ye[ze])*(xe[Me][Se]-ye[Me]);ve[Me][ze]=qe*je,ve[ze][Me]=qe*je}}else throw new Error('Invalid dimension');return ve}var he=D(41);I.exports={entropy:function(xe,fe){'undefined'==typeof fe&&(fe=0);for(var ye=0,je=xe.length,ke=xe[0].length,we=0;we<je;we++)for(var be=0;be<ke;be++)ye+=xe[we][be]*Math.log(xe[we][be]+fe);return-ye},mean:E,standardDeviation:G,variance:Z,median:function(xe){for(var fe=xe.length,ye=xe[0].length,je=Array(ye),ke=0,we;ke<ye;ke++){we=Array(fe);for(var be=0;be<fe;be++)we[be]=xe[be][ke];we.sort();var ve=we.length;je[ke]=0==ve%2?0.5*(we[ve/2]+we[ve/2-1]):we[Math.floor(ve/2)]}return je},mode:function(xe){var fe=xe.length,ye=xe[0].length,je=Array(ye),ke,we;for(ke=0;ke<ye;ke++){for(var be=Array(fe),ve=0;ve<fe;ve++)be[ve]=0;var Me=Array(fe),ze=0;for(we=0;we<fe;we++){var Se=Me.indexOf(xe[we][ke]);0<=Se?be[Se]++:(Me[ze]=xe[we][ke],be[ze]=1,ze++)}var qe=0,Ce=0;for(we=0;we<ze;we++)be[we]>qe&&(qe=be[we],Ce=we);je[ke]=Me[Ce]}return je},skewness:function(xe,fe){'undefined'==typeof fe&&(fe=!0);for(var ye=E(xe),je=xe.length,ke=ye.length,we=Array(ke),be=0;be<ke;be++){for(var ve=0,Me=0,ze=0,Se;ze<je;ze++)Se=xe[ze][be]-ye[be],ve+=Se*Se,Me+=Se*Se*Se;var qe=ve/je,Ce=Me/je,Ie=Ce/Math.pow(qe,3/2);if(fe){var Re=Math.sqrt(je*(je-1));we[be]=Re/(je-2)*Ie}else we[be]=Ie}return we},kurtosis:function(xe,fe){'undefined'==typeof fe&&(fe=!0);for(var ye=E(xe),je=xe.length,ke=xe[0].length,we=Array(ke),be=0;be<ke;be++){for(var ve=0,Me=0,ze=0,Se;ze<je;ze++)Se=xe[ze][be]-ye[be],ve+=Se*Se,Me+=Se*Se*Se*Se;var qe=ve/je,Ce=Me/je;if(fe){var Ie=ve/(je-1),De=Me/(Ie*Ie);we[be]=je*(je+1)/((je-1)*(je-2)*(je-3))*De-3*((je-1)*(je-1)/((je-2)*(je-3)))}else we[be]=Ce/(qe*qe)-3}return we},standardError:function(xe){for(var fe=xe.length,ye=G(xe),je=ye.length,ke=Array(je),we=Math.sqrt(fe),be=0;be<je;be++)ke[be]=ye[be]/we;return ke},covariance:function(xe,fe){return se(xe,void 0,fe)},scatter:se,correlation:function(xe){var fe=E(xe),ye=G(xe,!0,fe),je=le(xe,fe,ye),ke=xe.length,we=xe[0].length,be,ve,Me=Array(we);for(be=0;be<we;be++)Me[be]=Array(we);for(be=0;be<we;be++)for(ve=be;ve<we;ve++){for(var ze=0,Se=0,qe=je.length;Se<qe;Se++)ze+=je[Se][ve]*je[Se][be];ze/=ke-1,Me[be][ve]=ze,Me[ve][be]=ze}return Me},zScores:le,center:de,standardize:ce,weightedVariance:function(xe,fe){var ye=E(xe),je=xe.length;if(0===je)return[];for(var ke=xe[0].length,we=Array(ke),be=0;be<ke;be++){for(var ve=0,Me=0,ze=0,Se=0;Se<je;Se++){var qe=xe[Se][be]-ye[be],Ce=fe[Se];ve+=Ce*(qe*qe),ze+=Ce,Me+=Ce*Ce}we[be]=ve*(ze/(ze*ze-Me))}return we},weightedMean:me,weightedCovariance:function(xe,fe,ye,je){je=je||0,ye=ye||me(xe,fe,je);for(var ke=0,we=0,be=0,ve=fe.length;be<ve;be++)ke+=fe[be],we+=fe[be]*fe[be];var Me=ke/(ke*ke-we);return pe(xe,fe,ye,Me,je)},weightedScatter:pe}},function(I,R,D){function O(G,Z,$,ee){E.call(this,G,Z,$,ee),this.hX=G-Math.floor(Z/2),this.z=0-this.hX-Z}var E=D(42);O.prototype=new E,O.prototype.constructor=O,O.prototype.getDistance=function(Z){return Math.max(Math.abs(this.hX-Z.hX),Math.abs(this.y-Z.y),Math.abs(this.z-Z.z))},O.prototype.getDistanceTorus=function(Z){var $=Math.abs(this.hX-Z.hX),ee=Math.abs(this.y-Z.y),te=Math.abs(this.z-Z.z);return Math.max(Math.min($,this.som.gridDim.x-$),Math.min(ee,this.som.gridDim.y-ee),Math.min(te,this.som.gridDim.z-te))},O.prototype.getPosition=function(){throw new Error('Unimplemented : cannot get position of the points for hexagonal grid')},I.exports=O},function(I,R,D){'use strict';function O(G,Z){return G-Z}var E=D(14);R.max=function(Z){for(var G=-Infinity,$=0;$<Z.length;$++)for(var ee=0;ee<Z[$].length;ee++)Z[$][ee]>G&&(G=Z[$][ee]);return G},R.min=function(Z){for(var G=Infinity,$=0;$<Z.length;$++)for(var ee=0;ee<Z[$].length;ee++)Z[$][ee]<G&&(G=Z[$][ee]);return G},R.minMax=function(Z){for(var $=Infinity,ee=-Infinity,te=0;te<Z.length;te++)for(var ie=0;ie<Z[te].length;ie++)Z[te][ie]<$&&($=Z[te][ie]),Z[te][ie]>ee&&(ee=Z[te][ie]);return{min:$,max:ee}},R.entropy=function(Z,$){'undefined'==typeof $&&($=0);for(var ee=0,te=Z.length,ie=Z[0].length,ne=0;ne<te;ne++)for(var oe=0;oe<ie;oe++)ee+=Z[ne][oe]*Math.log(Z[ne][oe]+$);return-ee},R.mean=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe,se;if(-1===$){for(ie=[0],ne=ee*te,oe=0;oe<ee;oe++)for(se=0;se<te;se++)ie[0]+=Z[oe][se];ie[0]/=ne}else if(0===$)for(ie=Array(te),ne=ee,se=0;se<te;se++){for(ie[se]=0,oe=0;oe<ee;oe++)ie[se]+=Z[oe][se];ie[se]/=ne}else if(1===$)for(ie=Array(ee),ne=te,se=0;se<ee;se++){for(ie[se]=0,oe=0;oe<te;oe++)ie[se]+=Z[se][oe];ie[se]/=ne}else throw new Error('Invalid dimension');return ie},R.sum=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe;if(-1===$)for(ie=[0],ne=0;ne<ee;ne++)for(oe=0;oe<te;oe++)ie[0]+=Z[ne][oe];else if(0===$)for(ie=Array(te),oe=0;oe<te;oe++)for(ie[oe]=0,ne=0;ne<ee;ne++)ie[oe]+=Z[ne][oe];else if(1===$)for(ie=Array(ee),oe=0;oe<ee;oe++)for(ie[oe]=0,ne=0;ne<te;ne++)ie[oe]+=Z[oe][ne];else throw new Error('Invalid dimension');return ie},R.product=function(Z,$){'undefined'==typeof $&&($=0);var ee=Z.length,te=Z[0].length,ie,ne,oe;if(-1===$)for(ie=[1],ne=0;ne<ee;ne++)for(oe=0;oe<te;oe++)ie[0]*=Z[ne][oe];else if(0===$)for(ie=Array(te),oe=0;oe<te;oe++)for(ie[oe]=1,ne=0;ne<ee;ne++)ie[oe]*=Z[ne][oe];else if(1===$)for(ie=Array(ee),oe=0;oe<ee;oe++)for(ie[oe]=1,ne=0;ne<te;ne++)ie[oe]*=Z[oe][ne];else throw new Error('Invalid dimension');return ie},R.standardDeviation=function(Z,$,ee){for(var te=R.variance(Z,$,ee),ie=te.length,ne=0;ne<ie;ne++)te[ne]=Math.sqrt(te[ne]);return te},R.variance=function(Z,$,ee){'undefined'==typeof ee&&(ee=!0),$=$||R.mean(Z);var te=Z.length;if(0===te)return[];for(var ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0,de=0;de<te;de++)le=Z[de][oe]-$[oe],se+=le,ae+=le*le;ne[oe]=ee?(ae-se*se/te)/(te-1):(ae-se*se/te)/te}return ne},R.median=function(Z){for(var $=Z.length,ee=Z[0].length,te=Array(ee),ie=0,ne;ie<ee;ie++){ne=Array($);for(var oe=0;oe<$;oe++)ne[oe]=Z[oe][ie];ne.sort(O);var se=ne.length;te[ie]=0==se%2?0.5*(ne[se/2]+ne[se/2-1]):ne[Math.floor(se/2)]}return te},R.mode=function(Z){var $=Z.length,ee=Z[0].length,te=Array(ee),ie,ne;for(ie=0;ie<ee;ie++){for(var oe=Array($),se=0;se<$;se++)oe[se]=0;var ae=Array($),le=0;for(ne=0;ne<$;ne++){var de=ae.indexOf(Z[ne][ie]);0<=de?oe[de]++:(ae[le]=Z[ne][ie],oe[le]=1,le++)}var ce=0,ue=0;for(ne=0;ne<le;ne++)oe[ne]>ce&&(ce=oe[ne],ue=ne);te[ie]=ae[ue]}return te},R.skewness=function(Z,$){'undefined'==typeof $&&($=!0);for(var ee=R.mean(Z),te=Z.length,ie=ee.length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0,de;le<te;le++)de=Z[le][oe]-ee[oe],se+=de*de,ae+=de*de*de;var ce=se/te,ue=ae/te,me=ue/Math.pow(ce,3/2);if($){var ge=Math.sqrt(te*(te-1));ne[oe]=ge/(te-2)*me}else ne[oe]=me}return ne},R.kurtosis=function(Z,$){'undefined'==typeof $&&($=!0);for(var ee=R.mean(Z),te=Z.length,ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0,de;le<te;le++)de=Z[le][oe]-ee[oe],se+=de*de,ae+=de*de*de*de;var ce=se/te,ue=ae/te;if($){var me=se/(te-1),pe=ae/(me*me);ne[oe]=te*(te+1)/((te-1)*(te-2)*(te-3))*pe-3*((te-1)*(te-1)/((te-2)*(te-3)))}else ne[oe]=ue/(ce*ce)-3}return ne},R.standardError=function(Z){for(var $=Z.length,ee=R.standardDeviation(Z),te=ee.length,ie=Array(te),ne=Math.sqrt($),oe=0;oe<te;oe++)ie[oe]=ee[oe]/ne;return ie},R.covariance=function(Z,$){return R.scatter(Z,void 0,$)},R.scatter=function(Z,$,ee){'undefined'==typeof ee&&(ee=0),'undefined'==typeof $&&(0===ee?$=Z.length-1:1==ee&&($=Z[0].length-1));var te=R.mean(Z,ee),ie=Z.length;if(0===ie)return[[]];var ne=Z[0].length,oe,se,ae,le,de;if(0===ee){for(oe=Array(ne),se=0;se<ne;se++)oe[se]=Array(ne);for(se=0;se<ne;se++)for(ae=se;ae<ne;ae++){for(le=0,de=0;de<ie;de++)le+=(Z[de][ae]-te[ae])*(Z[de][se]-te[se]);le/=$,oe[se][ae]=le,oe[ae][se]=le}}else if(1===ee){for(oe=Array(ie),se=0;se<ie;se++)oe[se]=Array(ie);for(se=0;se<ie;se++)for(ae=se;ae<ie;ae++){for(le=0,de=0;de<ne;de++)le+=(Z[ae][de]-te[ae])*(Z[se][de]-te[se]);le/=$,oe[se][ae]=le,oe[ae][se]=le}}else throw new Error('Invalid dimension');return oe},R.correlation=function(Z){var $=R.mean(Z),ee=R.standardDeviation(Z,!0,$),te=R.zScores(Z,$,ee),ie=Z.length,ne=Z[0].length,oe,se,ae=Array(ne);for(oe=0;oe<ne;oe++)ae[oe]=Array(ne);for(oe=0;oe<ne;oe++)for(se=oe;se<ne;se++){for(var le=0,de=0,ce=te.length;de<ce;de++)le+=te[de][se]*te[de][oe];le/=ie-1,ae[oe][se]=le,ae[se][oe]=le}return ae},R.zScores=function(Z,$,ee){return $=$||R.mean(Z),'undefined'==typeof ee&&(ee=R.standardDeviation(Z,!0,$)),R.standardize(R.center(Z,$,!1),ee,!0)},R.center=function(Z,$,ee){$=$||R.mean(Z);var te=Z,ie=Z.length,ne,oe,se;if(!ee)for(te=Array(ie),ne=0;ne<ie;ne++)te[ne]=Array(Z[ne].length);for(ne=0;ne<ie;ne++){var ae=te[ne];for(oe=0,se=ae.length;oe<se;oe++)ae[oe]=Z[ne][oe]-$[oe]}return te},R.standardize=function(Z,$,ee){'undefined'==typeof $&&($=R.standardDeviation(Z));var te=Z,ie=Z.length,ne,oe,se;if(!ee)for(te=Array(ie),ne=0;ne<ie;ne++)te[ne]=Array(Z[ne].length);for(ne=0;ne<ie;ne++){var ae=te[ne],le=Z[ne];for(oe=0,se=ae.length;oe<se;oe++)0===$[oe]||isNaN($[oe])||(ae[oe]=le[oe]/$[oe])}return te},R.weightedVariance=function(Z,$){var ee=R.mean(Z),te=Z.length;if(0===te)return[];for(var ie=Z[0].length,ne=Array(ie),oe=0;oe<ie;oe++){for(var se=0,ae=0,le=0,de=0;de<te;de++){var ce=Z[de][oe]-ee[oe],ue=$[de];se+=ue*(ce*ce),le+=ue,ae+=ue*ue}ne[oe]=se*(le/(le*le-ae))}return ne},R.weightedMean=function(Z,$,ee){'undefined'==typeof ee&&(ee=0);var te=Z.length;if(0===te)return[];var ie=Z[0].length,ne,oe,se,ae,le,de;if(0===ee){for(ne=Array(ie),oe=0;oe<ie;oe++)ne[oe]=0;for(oe=0;oe<te;oe++)for(de=Z[oe],le=$[oe],ae=0;ae<ie;ae++)ne[ae]+=de[ae]*le}else if(1===ee){for(ne=Array(te),oe=0;oe<te;oe++)ne[oe]=0;for(ae=0;ae<te;ae++)for(de=Z[ae],le=$[ae],oe=0;oe<ie;oe++)ne[ae]+=de[oe]*le}else throw new Error('Invalid dimension');var ce=E.sum($);if(0!==ce)for(oe=0,se=ne.length;oe<se;oe++)ne[oe]/=ce;return ne},R.weightedCovariance=function(Z,$,ee,te){te=te||0,ee=ee||R.weightedMean(Z,$,te);for(var ie=0,ne=0,oe=0,se=$.length;oe<se;oe++)ie+=$[oe],ne+=$[oe]*$[oe];var ae=ie/(ie*ie-ne);return R.weightedScatter(Z,$,ee,ae,te)},R.weightedScatter=function(Z,$,ee,te,ie){ie=ie||0,ee=ee||R.weightedMean(Z,$,ie),'undefined'==typeof te&&(te=1);var ne=Z.length;if(0===ne)return[[]];var oe=Z[0].length,se,ae,le,de,ce;if(0===ie){for(se=Array(oe),ae=0;ae<oe;ae++)se[ae]=Array(oe);for(ae=0;ae<oe;ae++)for(le=ae;le<oe;le++){for(ce=0,de=0;de<ne;de++)ce+=$[de]*(Z[de][le]-ee[le])*(Z[de][ae]-ee[ae]);se[ae][le]=ce*te,se[le][ae]=ce*te}}else if(1===ie){for(se=Array(ne),ae=0;ae<ne;ae++)se[ae]=Array(ne);for(ae=0;ae<ne;ae++)for(le=ae;le<ne;le++){for(ce=0,de=0;de<oe;de++)ce+=$[de]*(Z[le][de]-ee[le])*(Z[ae][de]-ee[ae]);se[ae][le]=ce*te,se[le][ae]=ce*te}}else throw new Error('Invalid dimension');return se}},function(I){'use strict';function O($,ee,te,ie,ne,oe){if(ne=ne||0.16,oe=oe||0.01,!(ie-te<ne)){for(var se=0,ae=0;$[ae]<ie;ae++)$[ae]>te&&(se+=ee[ae]);if(!(se<oe)){for(var le=0,de=0;$[de]<ie;de++)$[ae]>te&&(le+=$[de]*ee[de]);return le/=se,1e-5>le-te||1e-5>ie-le?void 0:le-te<ne/4?O($,ee,le,ie,ne,oe):ie-le<ne/4?O($,ee,te,le,ne,oe):{sum:se,center:le,left:O($,ee,te,le,ne,oe),right:O($,ee,le,ie,ne,oe)}}}}function E($,ee,te,ie,ne){if($===void 0||ee===void 0)return 0;var oe=te*Math.min($.sum,ee.sum)/Math.max($.sum,ee.sum)+(1-te)*Math.exp(-ne*Math.abs($.center-ee.center));return ie*oe+(1-ie)*(E($.left,ee.left,te,ie,ne)+E($.right,ee.right,te,ie,ne))}var Z={minWindow:0.16,threshold:0.01,alpha:0.1,beta:0.33,gamma:1e-3};I.exports={calc:function($,ee,te,ie,ne){for(var oe in ne=ne||{},Z)ne.hasOwnProperty(oe)||(ne[oe]=Z[oe]);var se,ae;return se=$.sum?$:O($.x,$.y,te,ie,ne.minWindow,ne.threshold),ae=ee.sum?ee:O(ee.x,ee.y,te,ie,ne.minWindow,ne.threshold),E(se,ae,ne.alpha,ne.beta,ne.gamma)},createTree:O}},function(I){I.exports=function(O,E){O=O||0;for(var G=Array(O),Z=0;Z<O;Z++)G[Z]=E;return G}},function(I){'use strict';I.exports=Number.isNaN||function(O){return O!==O}},function(I){function D(){throw new Error('setTimeout has not been defined')}function O(){throw new Error('clearTimeout has not been defined')}function E(ce){if(ne===setTimeout)return setTimeout(ce,0);if((ne===D||!ne)&&setTimeout)return ne=setTimeout,setTimeout(ce,0);try{return ne(ce,0)}catch(ue){try{return ne.call(null,ce,0)}catch(me){return ne.call(this,ce,0)}}}function G(ce){if(oe===clearTimeout)return clearTimeout(ce);if((oe===O||!oe)&&clearTimeout)return oe=clearTimeout,clearTimeout(ce);try{return oe(ce)}catch(ue){try{return oe.call(null,ce)}catch(me){return oe.call(this,ce)}}}function Z(){ae&&le&&(ae=!1,le.length?se=le.concat(se):de=-1,se.length&&$())}function $(){if(!ae){var ce=E(Z);ae=!0;for(var ue=se.length;ue;){for(le=se,se=[];++de<ue;)le&&le[de].run();de=-1,ue=se.length}le=null,ae=!1,G(ce)}}function ee(ce,ue){this.fun=ce,this.array=ue}function te(){}var ie=I.exports={},ne,oe;(function(){try{ne='function'==typeof setTimeout?setTimeout:D}catch(ce){ne=D}try{oe='function'==typeof clearTimeout?clearTimeout:O}catch(ce){oe=O}})();var se=[],ae=!1,le,de=-1;ie.nextTick=function(ce){var ue=Array(arguments.length-1);if(1<arguments.length)for(var me=1;me<arguments.length;me++)ue[me-1]=arguments[me];se.push(new ee(ce,ue)),1!==se.length||ae||E($)},ee.prototype.run=function(){this.fun.apply(null,this.array)},ie.title='browser',ie.browser=!0,ie.env={},ie.argv=[],ie.version='',ie.versions={},ie.on=te,ie.addListener=te,ie.once=te,ie.off=te,ie.removeListener=te,ie.removeAllListeners=te,ie.emit=te,ie.binding=function(){throw new Error('process.binding is not supported')},ie.cwd=function(){return'/'},ie.chdir=function(){throw new Error('process.chdir is not supported')},ie.umask=function(){return 0}},function(I){I.exports='function'==typeof Object.create?function(O,E){O.super_=E,O.prototype=Object.create(E.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}})}:function(O,E){O.super_=E;var G=function(){};G.prototype=E.prototype,O.prototype=new G,O.prototype.constructor=O}},function(I){I.exports=function(O){return O&&'object'==typeof O&&'function'==typeof O.copy&&'function'==typeof O.fill&&'function'==typeof O.readUInt8}},function(I,R,D){(function(O,E){function G(Re,De){var Pe={seen:[],stylize:$};return 3<=arguments.length&&(Pe.depth=arguments[2]),4<=arguments.length&&(Pe.colors=arguments[3]),de(De)?Pe.showHidden=De:De&&R._extend(Pe,De),he(Pe.showHidden)&&(Pe.showHidden=!1),he(Pe.depth)&&(Pe.depth=2),he(Pe.colors)&&(Pe.colors=!1),he(Pe.customInspect)&&(Pe.customInspect=!0),Pe.colors&&(Pe.stylize=Z),te(Pe,Re,Pe.depth)}function Z(Re,De){var Pe=G.styles[De];return Pe?'\x1B['+G.colors[Pe][0]+'m'+Re+'\x1B['+G.colors[Pe][1]+'m':Re}function $(Re){return Re}function ee(Re){var De={};return Re.forEach(function(Pe){De[Pe]=!0}),De}function te(Re,De,Pe){if(Re.customInspect&&De&&ke(De.inspect)&&De.inspect!==R.inspect&&!(De.constructor&&De.constructor.prototype===De)){var Ve=De.inspect(Pe,Re);return ge(Ve)||(Ve=te(Re,Ve,Pe)),Ve}var Ae=ie(Re,De);if(Ae)return Ae;var _e=Object.keys(De),Oe=ee(_e);if(Re.showHidden&&(_e=Object.getOwnPropertyNames(De)),je(De)&&(0<=_e.indexOf('message')||0<=_e.indexOf('description')))return ne(De);if(0===_e.length){if(ke(De)){var Le=De.name?': '+De.name:'';return Re.stylize('[Function'+Le+']','special')}if(xe(De))return Re.stylize(RegExp.prototype.toString.call(De),'regexp');if(ye(De))return Re.stylize(Date.prototype.toString.call(De),'date');if(je(De))return ne(De)}var Ne='',Fe=!1,Te=['{','}'];if(le(De)&&(Fe=!0,Te=['[',']']),ke(De)){var Ue=De.name?': '+De.name:'';Ne=' [Function'+Ue+']'}if(xe(De)&&(Ne=' '+RegExp.prototype.toString.call(De)),ye(De)&&(Ne=' '+Date.prototype.toUTCString.call(De)),je(De)&&(Ne=' '+ne(De)),0===_e.length&&(!Fe||0==De.length))return Te[0]+Ne+Te[1];if(0>Pe)return xe(De)?Re.stylize(RegExp.prototype.toString.call(De),'regexp'):Re.stylize('[Object]','special');Re.seen.push(De);var Xe;return Xe=Fe?oe(Re,De,Pe,Oe,_e):_e.map(function(We){return se(Re,De,Pe,Oe,We,Fe)}),Re.seen.pop(),ae(Xe,Ne,Te)}function ie(Re,De){if(he(De))return Re.stylize('undefined','undefined');if(ge(De)){var Pe='\''+JSON.stringify(De).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return Re.stylize(Pe,'string')}return me(De)?Re.stylize(''+De,'number'):de(De)?Re.stylize(''+De,'boolean'):ce(De)?Re.stylize('null','null'):void 0}function ne(Re){return'['+Error.prototype.toString.call(Re)+']'}function oe(Re,De,Pe,Ve,Ae){for(var _e=[],Oe=0,Le=De.length;Oe<Le;++Oe)ze(De,Oe+'')?_e.push(se(Re,De,Pe,Ve,Oe+'',!0)):_e.push('');return Ae.forEach(function(Ne){Ne.match(/^\d+$/)||_e.push(se(Re,De,Pe,Ve,Ne,!0))}),_e}function se(Re,De,Pe,Ve,Ae,_e){var Oe,Le,Ne;if(Ne=Object.getOwnPropertyDescriptor(De,Ae)||{value:De[Ae]},Ne.get?Ne.set?Le=Re.stylize('[Getter/Setter]','special'):Le=Re.stylize('[Getter]','special'):Ne.set&&(Le=Re.stylize('[Setter]','special')),ze(Ve,Ae)||(Oe='['+Ae+']'),Le||(0>Re.seen.indexOf(Ne.value)?(Le=ce(Pe)?te(Re,Ne.value,null):te(Re,Ne.value,Pe-1),-1<Le.indexOf('\n')&&(_e?Le=Le.split('\n').map(function(Fe){return'  '+Fe}).join('\n').substr(2):Le='\n'+Le.split('\n').map(function(Fe){return'   '+Fe}).join('\n'))):Le=Re.stylize('[Circular]','special')),he(Oe)){if(_e&&Ae.match(/^\d+$/))return Le;Oe=JSON.stringify(''+Ae),Oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Oe=Oe.substr(1,Oe.length-2),Oe=Re.stylize(Oe,'name')):(Oe=Oe.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),Oe=Re.stylize(Oe,'string'))}return Oe+': '+Le}function ae(Re,De,Pe){var Ve=0,Ae=Re.reduce(function(_e,Oe){return Ve++,0<=Oe.indexOf('\n')&&Ve++,_e+Oe.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<Ae?Pe[0]+(''===De?'':De+'\n ')+' '+Re.join(',\n  ')+' '+Pe[1]:Pe[0]+De+' '+Re.join(', ')+' '+Pe[1]}function le(Re){return Array.isArray(Re)}function de(Re){return'boolean'==typeof Re}function ce(Re){return null===Re}function me(Re){return'number'==typeof Re}function ge(Re){return'string'==typeof Re}function he(Re){return void 0===Re}function xe(Re){return fe(Re)&&'[object RegExp]'===be(Re)}function fe(Re){return'object'==typeof Re&&null!==Re}function ye(Re){return fe(Re)&&'[object Date]'===be(Re)}function je(Re){return fe(Re)&&('[object Error]'===be(Re)||Re instanceof Error)}function ke(Re){return'function'==typeof Re}function be(Re){return Object.prototype.toString.call(Re)}function ve(Re){return 10>Re?'0'+Re.toString(10):Re.toString(10)}function Me(){var Re=new Date,De=[ve(Re.getHours()),ve(Re.getMinutes()),ve(Re.getSeconds())].join(':');return[Re.getDate(),Ie[Re.getMonth()],De].join(' ')}function ze(Re,De){return Object.prototype.hasOwnProperty.call(Re,De)}var Se=/%[sdj%]/g;R.format=function(Re){if(!ge(Re)){for(var De=[],Pe=0;Pe<arguments.length;Pe++)De.push(G(arguments[Pe]));return De.join(' ')}for(var Pe=1,Ve=arguments,Ae=Ve.length,_e=(Re+'').replace(Se,function(Le){if('%%'===Le)return'%';if(Pe>=Ae)return Le;switch(Le){case'%s':return Ve[Pe++]+'';case'%d':return+Ve[Pe++];case'%j':try{return JSON.stringify(Ve[Pe++])}catch(Ne){return'[Circular]'}default:return Le;}}),Oe=Ve[Pe];Pe<Ae;Oe=Ve[++Pe])_e+=ce(Oe)||!fe(Oe)?' '+Oe:' '+G(Oe);return _e},R.deprecate=function(Re,De){if(he(O.process))return function(){return R.deprecate(Re,De).apply(this,arguments)};if(!0===E.noDeprecation)return Re;var Ve=!1;return function(){if(!Ve){if(E.throwDeprecation)throw new Error(De);else E.traceDeprecation?console.trace(De):console.error(De);Ve=!0}return Re.apply(this,arguments)}};var qe={},Ce;R.debuglog=function(Re){if(he(Ce)&&(Ce=E.env.NODE_DEBUG||''),Re=Re.toUpperCase(),!qe[Re])if(new RegExp('\\b'+Re+'\\b','i').test(Ce)){var De=E.pid;qe[Re]=function(){var Pe=R.format.apply(R,arguments);console.error('%s %d: %s',Re,De,Pe)}}else qe[Re]=function(){};return qe[Re]},R.inspect=G,G.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},G.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'},R.isArray=le,R.isBoolean=de,R.isNull=ce,R.isNullOrUndefined=function(Re){return null==Re},R.isNumber=me,R.isString=ge,R.isSymbol=function(Re){return'symbol'==typeof Re},R.isUndefined=he,R.isRegExp=xe,R.isObject=fe,R.isDate=ye,R.isError=je,R.isFunction=ke,R.isPrimitive=function(Re){return null===Re||'boolean'==typeof Re||'number'==typeof Re||'string'==typeof Re||'symbol'==typeof Re||'undefined'==typeof Re},R.isBuffer=D(166);var Ie=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];R.log=function(){console.log('%s - %s',Me(),R.format.apply(R,arguments))},R.inherits=D(165),R._extend=function(Re,De){if(!De||!fe(De))return Re;for(var Pe=Object.keys(De),Ve=Pe.length;Ve--;)Re[Pe[Ve]]=De[Pe[Ve]];return Re}}).call(R,D(168),D(164))},function(I){var D=function(){return this}();try{D=D||Function('return this')()||(1,eval)('this')}catch(O){'object'==typeof window&&(D=window)}I.exports=D},function(I,R,D){'use strict';R.ArrayUtils=R.AU=D(16),R.BitArray=D(43),R.HashTable=D(19),R.Matrix=D(0),R.PadArray=D(20),R.Regression=D(55),R.binarySearch=D(15),R.numSort=D(21);var O=R.Math={},E=D(18);O.Distance=E.distance,O.Similarity=E.similarity,O.DistanceMatrix=D(45),O.SG=D(57),O.SGG=D(56),O.Matrix=R.Matrix,O.SparseMatrix=D(59),O.BellOptimizer=D(51),O.CurveFitting=D(17),O.Kernel=D(8);var G=R.Stat={};G.array=D(2).array,G.matrix=D(2).matrix,G.PCA=D(52),G.Performance=D(53);var Z=R.RNG={};Z.XSadd=D(61);var $=R.SL={};$.CV=D(44),$.CrossValidation=$.CV,$.SVM=D(60),$.KNN=D(49),$.NaiveBayes=D(50),$.PLS=D(54);var ee=R.Clust={};ee.kmeans=D(48),ee.hclust=D(47);var te=R.NN=R.nn={};te.SOM=D(58),te.FNN=D(46)}])});
//# sourceMappingURL=ml.min.js.map